(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();function u_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _f={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function o0(){if(Gp)return Ml;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(l,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:s,type:l,key:m,ref:u!==void 0?u:null,props:f}}return Ml.Fragment=e,Ml.jsx=r,Ml.jsxs=r,Ml}var Qp;function u0(){return Qp||(Qp=1,_f.exports=o0()),_f.exports}var ot=u0(),vf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function c0(){if(Fp)return yt;Fp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),L=Symbol.iterator;function H(C){return C===null||typeof C!="object"?null:(C=L&&C[L]||C["@@iterator"],typeof C=="function"?C:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,st={};function et(C,K,tt){this.props=C,this.context=K,this.refs=st,this.updater=tt||W}et.prototype.isReactComponent={},et.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},et.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=et.prototype;function _t(C,K,tt){this.props=C,this.context=K,this.refs=st,this.updater=tt||W}var mt=_t.prototype=new Et;mt.constructor=_t,Y(mt,et.prototype),mt.isPureReactComponent=!0;var Qt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function O(C,K,tt,J,lt,St){return tt=St.ref,{$$typeof:s,type:C,key:K,ref:tt!==void 0?tt:null,props:St}}function A(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(tt){return K[tt]})}var I=/\/+/g;function V(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function b(){}function ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(b,b):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Zt(C,K,tt,J,lt){var St=typeof C;(St==="undefined"||St==="boolean")&&(C=null);var dt=!1;if(C===null)dt=!0;else switch(St){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(C.$$typeof){case s:case e:dt=!0;break;case w:return dt=C._init,Zt(dt(C._payload),K,tt,J,lt)}}if(dt)return lt=lt(C),dt=J===""?"."+V(C,0):J,Qt(lt)?(tt="",dt!=null&&(tt=dt.replace(I,"$&/")+"/"),Zt(lt,K,tt,"",function(Pn){return Pn})):lt!=null&&(R(lt)&&(lt=A(lt,tt+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(I,"$&/")+"/")+dt)),K.push(lt)),1;dt=0;var Se=J===""?".":J+":";if(Qt(C))for(var Yt=0;Yt<C.length;Yt++)J=C[Yt],St=Se+V(J,Yt),dt+=Zt(J,K,tt,St,lt);else if(Yt=H(C),typeof Yt=="function")for(C=Yt.call(C),Yt=0;!(J=C.next()).done;)J=J.value,St=Se+V(J,Yt++),dt+=Zt(J,K,tt,St,lt);else if(St==="object"){if(typeof C.then=="function")return Zt(ye(C),K,tt,J,lt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return dt}function j(C,K,tt){if(C==null)return C;var J=[],lt=0;return Zt(C,J,"","",function(St){return K.call(tt,St,lt++)}),J}function Q(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(tt){(C._status===0||C._status===-1)&&(C._status=1,C._result=tt)},function(tt){(C._status===0||C._status===-1)&&(C._status=2,C._result=tt)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var nt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function pt(){}return yt.Children={map:j,forEach:function(C,K,tt){j(C,function(){K.apply(this,arguments)},tt)},count:function(C){var K=0;return j(C,function(){K++}),K},toArray:function(C){return j(C,function(K){return K})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},yt.Component=et,yt.Fragment=r,yt.Profiler=u,yt.PureComponent=_t,yt.StrictMode=l,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,yt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return gt.H.useMemoCache(C)}},yt.cache=function(C){return function(){return C.apply(null,arguments)}},yt.cloneElement=function(C,K,tt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Y({},C.props),lt=C.key,St=void 0;if(K!=null)for(dt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(lt=""+K.key),K)!Ct.call(K,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&K.ref===void 0||(J[dt]=K[dt]);var dt=arguments.length-2;if(dt===1)J.children=tt;else if(1<dt){for(var Se=Array(dt),Yt=0;Yt<dt;Yt++)Se[Yt]=arguments[Yt+2];J.children=Se}return O(C.type,lt,void 0,void 0,St,J)},yt.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},yt.createElement=function(C,K,tt){var J,lt={},St=null;if(K!=null)for(J in K.key!==void 0&&(St=""+K.key),K)Ct.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=K[J]);var dt=arguments.length-2;if(dt===1)lt.children=tt;else if(1<dt){for(var Se=Array(dt),Yt=0;Yt<dt;Yt++)Se[Yt]=arguments[Yt+2];lt.children=Se}if(C&&C.defaultProps)for(J in dt=C.defaultProps,dt)lt[J]===void 0&&(lt[J]=dt[J]);return O(C,St,void 0,void 0,null,lt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(C){return{$$typeof:y,render:C}},yt.isValidElement=R,yt.lazy=function(C){return{$$typeof:w,_payload:{_status:-1,_result:C},_init:Q}},yt.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},yt.startTransition=function(C){var K=gt.T,tt={};gt.T=tt;try{var J=C(),lt=gt.S;lt!==null&&lt(tt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(pt,nt)}catch(St){nt(St)}finally{gt.T=K}},yt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},yt.use=function(C){return gt.H.use(C)},yt.useActionState=function(C,K,tt){return gt.H.useActionState(C,K,tt)},yt.useCallback=function(C,K){return gt.H.useCallback(C,K)},yt.useContext=function(C){return gt.H.useContext(C)},yt.useDebugValue=function(){},yt.useDeferredValue=function(C,K){return gt.H.useDeferredValue(C,K)},yt.useEffect=function(C,K,tt){var J=gt.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,K)},yt.useId=function(){return gt.H.useId()},yt.useImperativeHandle=function(C,K,tt){return gt.H.useImperativeHandle(C,K,tt)},yt.useInsertionEffect=function(C,K){return gt.H.useInsertionEffect(C,K)},yt.useLayoutEffect=function(C,K){return gt.H.useLayoutEffect(C,K)},yt.useMemo=function(C,K){return gt.H.useMemo(C,K)},yt.useOptimistic=function(C,K){return gt.H.useOptimistic(C,K)},yt.useReducer=function(C,K,tt){return gt.H.useReducer(C,K,tt)},yt.useRef=function(C){return gt.H.useRef(C)},yt.useState=function(C){return gt.H.useState(C)},yt.useSyncExternalStore=function(C,K,tt){return gt.H.useSyncExternalStore(C,K,tt)},yt.useTransition=function(){return gt.H.useTransition()},yt.version="19.1.1",yt}var Yp;function ed(){return Yp||(Yp=1,vf.exports=c0()),vf.exports}var se=ed();const h0=u_(se);var Ef={exports:{}},Vl={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function f0(){return Xp||(Xp=1,(function(s){function e(j,Q){var nt=j.length;j.push(Q);t:for(;0<nt;){var pt=nt-1>>>1,C=j[pt];if(0<u(C,Q))j[pt]=Q,j[nt]=C,nt=pt;else break t}}function r(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var Q=j[0],nt=j.pop();if(nt!==Q){j[0]=nt;t:for(var pt=0,C=j.length,K=C>>>1;pt<K;){var tt=2*(pt+1)-1,J=j[tt],lt=tt+1,St=j[lt];if(0>u(J,nt))lt<C&&0>u(St,J)?(j[pt]=St,j[lt]=nt,pt=lt):(j[pt]=J,j[tt]=nt,pt=tt);else if(lt<C&&0>u(St,nt))j[pt]=St,j[lt]=nt,pt=lt;else break t}}return Q}function u(j,Q){var nt=j.sortIndex-Q.sortIndex;return nt!==0?nt:j.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],_=[],w=1,L=null,H=3,W=!1,Y=!1,st=!1,et=!1,Et=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Qt(j){for(var Q=r(_);Q!==null;){if(Q.callback===null)l(_);else if(Q.startTime<=j)l(_),Q.sortIndex=Q.expirationTime,e(v,Q);else break;Q=r(_)}}function gt(j){if(st=!1,Qt(j),!Y)if(r(v)!==null)Y=!0,Ct||(Ct=!0,V());else{var Q=r(_);Q!==null&&Zt(gt,Q.startTime-j)}}var Ct=!1,O=-1,A=5,R=-1;function N(){return et?!0:!(s.unstable_now()-R<A)}function I(){if(et=!1,Ct){var j=s.unstable_now();R=j;var Q=!0;try{t:{Y=!1,st&&(st=!1,_t(O),O=-1),W=!0;var nt=H;try{e:{for(Qt(j),L=r(v);L!==null&&!(L.expirationTime>j&&N());){var pt=L.callback;if(typeof pt=="function"){L.callback=null,H=L.priorityLevel;var C=pt(L.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){L.callback=C,Qt(j),Q=!0;break e}L===r(v)&&l(v),Qt(j)}else l(v);L=r(v)}if(L!==null)Q=!0;else{var K=r(_);K!==null&&Zt(gt,K.startTime-j),Q=!1}}break t}finally{L=null,H=nt,W=!1}Q=void 0}}finally{Q?V():Ct=!1}}}var V;if(typeof mt=="function")V=function(){mt(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,ye=b.port2;b.port1.onmessage=I,V=function(){ye.postMessage(null)}}else V=function(){Et(I,0)};function Zt(j,Q){O=Et(function(){j(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return H},s.unstable_next=function(j){switch(H){case 1:case 2:case 3:var Q=3;break;default:Q=H}var nt=H;H=Q;try{return j()}finally{H=nt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var nt=H;H=j;try{return Q()}finally{H=nt}},s.unstable_scheduleCallback=function(j,Q,nt){var pt=s.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?pt+nt:pt):nt=pt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=nt+C,j={id:w++,callback:Q,priorityLevel:j,startTime:nt,expirationTime:C,sortIndex:-1},nt>pt?(j.sortIndex=nt,e(_,j),r(v)===null&&j===r(_)&&(st?(_t(O),O=-1):st=!0,Zt(gt,nt-pt))):(j.sortIndex=C,e(v,j),Y||W||(Y=!0,Ct||(Ct=!0,V()))),j},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(j){var Q=H;return function(){var nt=H;H=Q;try{return j.apply(this,arguments)}finally{H=nt}}}})(Af)),Af}var Kp;function d0(){return Kp||(Kp=1,Tf.exports=f0()),Tf.exports}var Sf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function m0(){if(Zp)return qe;Zp=1;var s=ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)_+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,w){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:L==null?null:""+L,children:v,containerInfo:_,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,qe.createPortal=function(v,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,w)},qe.flushSync=function(v){var _=m.T,w=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=w,l.d.f()}},qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},qe.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var w=_.as,L=y(w,_.crossOrigin),H=typeof _.integrity=="string"?_.integrity:void 0,W=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;w==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:L,integrity:H,fetchPriority:W}):w==="script"&&l.d.X(v,{crossOrigin:L,integrity:H,fetchPriority:W,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var w=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var w=_.as,L=y(w,_.crossOrigin);l.d.L(v,w,{crossOrigin:L,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var w=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},qe.requestFormReset=function(v){l.d.r(v)},qe.unstable_batchedUpdates=function(v,_){return v(_)},qe.useFormState=function(v,_,w){return m.H.useFormState(v,_,w)},qe.useFormStatus=function(){return m.H.useHostTransitionStatus()},qe.version="19.1.1",qe}var Jp;function g0(){if(Jp)return Sf.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=m0(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function p0(){if($p)return Vl;$p=1;var s=d0(),e=ed(),r=g0();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(l(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(l(188));return n!==t?null:t}for(var i=t,a=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return y(c),t;if(h===a)return y(c),n;h=h.sibling}throw Error(l(188))}if(i.return!==a.return)i=c,a=h;else{for(var p=!1,E=c.child;E;){if(E===i){p=!0,i=c,a=h;break}if(E===a){p=!0,a=c,i=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===i){p=!0,i=h,a=c;break}if(E===a){p=!0,a=h,i=c;break}E=E.sibling}if(!p)throw Error(l(189))}}if(i.alternate!==a)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,L=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),_t=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case et:return"Profiler";case st:return"StrictMode";case gt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case _t:return(t._context.displayName||"Context")+".Consumer";case Qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:ye(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ye(t(n))}catch{}}return null}var Zt=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},pt=[],C=-1;function K(t){return{current:t}}function tt(t){0>C||(t.current=pt[C],pt[C]=null,C--)}function J(t,n){C++,pt[C]=t.current,t.current=n}var lt=K(null),St=K(null),dt=K(null),Se=K(null);function Yt(t,n){switch(J(dt,n),J(St,t),J(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_p(n),t=vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),J(lt,t)}function Pn(){tt(lt),tt(St),tt(dt)}function Pi(t){t.memoizedState!==null&&J(Se,t);var n=lt.current,i=vp(n,t.type);n!==i&&(J(St,t),J(lt,i))}function si(t){St.current===t&&(tt(lt),tt(St)),Se.current===t&&(tt(Se),Cl._currentValue=nt)}var Er=Object.prototype.hasOwnProperty,Tr=s.unstable_scheduleCallback,Ar=s.unstable_cancelCallback,ba=s.unstable_shouldYield,oo=s.unstable_requestPaint,fn=s.unstable_now,yc=s.unstable_getCurrentPriorityLevel,Ra=s.unstable_ImmediatePriority,ps=s.unstable_UserBlockingPriority,Sr=s.unstable_NormalPriority,_c=s.unstable_LowPriority,ys=s.unstable_IdlePriority,wa=s.log,uo=s.unstable_setDisableYieldValue,ne=null,kt=null;function nn(t){if(typeof wa=="function"&&uo(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ne,t)}catch{}}var Be=Math.clz32?Math.clz32:br,co=Math.log,vc=Math.LN2;function br(t){return t>>>=0,t===0?32:31-(co(t)/vc|0)|0}var Rr=256,wr=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _s(t,n,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=a&134217727;return E!==0?(a=E&~h,a!==0?c=Rn(a):(p&=E,p!==0?c=Rn(p):i||(i=E&~t,i!==0&&(c=Rn(i))))):(E=a&~h,E!==0?c=Rn(E):p!==0?c=Rn(p):i||(i=a&~t,i!==0&&(c=Rn(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ca(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Da(){var t=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),t}function Na(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ai(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ia(t,n,i,a,c,h){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,P=t.hiddenUpdates;for(i=p&~i;0<i;){var q=31-Be(i),F=1<<q;E[q]=0,S[q]=-1;var k=P[q];if(k!==null)for(P[q]=null,q=0;q<k.length;q++){var z=k[q];z!==null&&(z.lane&=-536870913)}i&=~F}a!==0&&kn(t,a,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~n))}function kn(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var a=31-Be(n);t.entangledLanes|=n,t.entanglements[a]=t.entanglements[a]|1073741824|i&4194090}function Oa(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var a=31-Be(i),c=1<<a;c&n|t[a]&n&&(t[a]|=n),i&=~c}}function ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:kp(t.type))}function ho(t,n){var i=Q.p;try{return Q.p=t,n()}finally{Q.p=i}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,he="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Ma="__reactEvents$"+Jt,Ec="__reactListeners$"+Jt,Bi="__reactHandles$"+Jt,fo="__reactResources$"+Jt,Dr="__reactMarker$"+Jt;function ji(t){delete t[_e],delete t[he],delete t[Ma],delete t[Ec],delete t[Bi]}function oi(t){var n=t[_e];if(n)return n;for(var i=t.parentNode;i;){if(n=i[dn]||i[_e]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Sp(t);t!==null;){if(i=t[_e])return i;t=Sp(t)}return n}t=i,i=t.parentNode}return null}function zn(t){if(t=t[_e]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Fe(t){var n=t[fo];return n||(n=t[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Dr]=!0}var Va=new Set,Es={};function wn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Es[t]=n,t=0;t<n.length;t++)Va.add(n[t])}var mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},Nr={};function po(t){return Er.call(Nr,t)?!0:Er.call(go,t)?!1:mo.test(t)?Nr[t]=!0:(go[t]=!0,!1)}function qi(t,n,i){if(po(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function jn(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function Oe(t,n,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+a)}}var Ir,yo;function ci(t){if(Ir===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",yo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+yo}var Ts=!1;function As(t,n){if(!t||Ts)return"";Ts=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(z){var k=z}Reflect.construct(t,[],F)}else{try{F.call()}catch(z){k=z}t.call(F.prototype)}}else{try{throw Error()}catch(z){k=z}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(z){if(z&&k&&typeof z.stack=="string")return[z.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var S=p.split(`
`),P=E.split(`
`);for(c=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(a===S.length||c===P.length)for(a=S.length-1,c=P.length-1;1<=a&&0<=c&&S[a]!==P[c];)c--;for(;1<=a&&0<=c;a--,c--)if(S[a]!==P[c]){if(a!==1||c!==1)do if(a--,c--,0>c||S[a]!==P[c]){var q=`
`+S[a].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=a&&0<=c);break}}}finally{Ts=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ci(i):""}function Ua(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return ci("Activity");default:return""}}function Ss(t){try{var n="";do n+=Ua(t),t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t){var n=xa(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bs(t){t._valueTracker||(t._valueTracker=Tc(t))}function La(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return t&&(a=xa(t)?t.checked?"true":"false":t.value),t=a,t!==i?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function fe(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,i,a,c,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Hi(t,p,Ye(n)):i!=null?Hi(t,p,Ye(i)):a!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Mr(t,n,i,a,c,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+Ye(i):"",n=n!=null?""+Ye(n):i,E||n===t.value||(t.value=n),t.defaultValue=n}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=E?t.checked:!!a,t.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Hi(t,n,i){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function hi(t,n,i,a){if(t=t.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=n.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&a&&(t[i].defaultSelected=!0)}else{for(i=""+Ye(i),n=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function jt(t,n,i){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+Ye(i):""}function Vr(t,n,i,a){if(n==null){if(a!=null){if(i!=null)throw Error(l(92));if(Zt(a)){if(1<a.length)throw Error(l(93));a=a[0]}i=a}i==null&&(i=""),n=i}i=Ye(n),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a)}function mn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(t,n,i){var a=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":a?t.setProperty(n,i):typeof i!="number"||i===0||Ur.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Pa(t,n,i){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var c in n)a=n[c],n.hasOwnProperty(c)&&i[c]!==a&&_o(t,c,a)}else for(var h in n)n.hasOwnProperty(h)&&_o(t,h,n[h])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(t){return bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function za(t){var n=zn(t);if(n&&(t=n.stateNode)){var i=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==t&&a.form===t.form){var c=a[he]||null;if(!c)throw Error(l(90));rn(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)a=i[n],a.form===t.form&&La(a)}break t;case"textarea":jt(t,i.value,i.defaultValue);break t;case"select":n=i.value,n!=null&&hi(t,!!i.multiple,n,!1)}}}var qn=!1;function vo(t,n,i){if(qn)return t(n,i);qn=!0;try{var a=t(n);return a}finally{if(qn=!1,(di!==null||mi!==null)&&(fu(),di&&(n=di,t=mi,mi=di=null,za(n),t)))for(n=0;n<t.length;n++)za(t[n])}}function xr(t,n){var i=t.stateNode;if(i===null)return null;var a=i[he]||null;if(a===null)return null;i=a[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,n,typeof i));return i}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Cn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{pn=!1}var Hn=null,Gi=null,gi=null;function Ba(){if(gi)return gi;var t,n=Gi,i=n.length,a,c="value"in Hn?Hn.value:Hn.textContent,h=c.length;for(t=0;t<i&&n[t]===c[t];t++);var p=i-t;for(a=1;a<=p&&n[i-a]===c[h-a];a++);return gi=c.slice(t,1<a?1-a:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function ja(){return!1}function be(t){function n(i,a,c,h,p){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qn:ja,this.isPropagationStopped=ja,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=be(Lt),Pr=w({},Lt,{view:0,detail:0}),Eo=be(Pr),Cs,Ds,Fn,kr=w({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Cs=t.screenX-Fn.screenX,Ds=t.screenY-Fn.screenY):Ds=Cs=0,Fn=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),yn=be(kr),To=w({},kr,{dataTransfer:0}),Rc=be(To),zr=w({},Pr,{relatedTarget:0}),Ns=be(zr),qa=w({},Lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=be(qa),Ao=w({},Lt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Os=be(Ao),wc=w({},Lt,{data:0}),Ha=be(wc),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bo[t])?!!n[t]:!1}function jr(){return Ga}var Ro=w({},Pr,{key:function(t){if(t.key){var n=Br[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?So[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=be(Ro),wo=w({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=be(wo),pi=w({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),Co=be(pi),Do=w({},Lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=be(Do),Io=w({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=be(Io),Xe=w({},Lt,{newState:0,oldState:0}),Oo=be(Xe),Mo=[9,13,27,32],Yn=Cn&&"CompositionEvent"in window,o=null;Cn&&"documentMode"in document&&(o=document.documentMode);var d=Cn&&"TextEvent"in window&&!o,g=Cn&&(!Yn||o&&8<o&&11>=o),T=" ",U=!1;function B(t,n){switch(t){case"keyup":return Mo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function It(t,n){if(Nt)return t==="compositionend"||!Yn&&B(t,n)?(t=Ba(),gi=Gi=Hn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Re[t.type]:n==="textarea"}function yi(t,n,i,a){di?mi?mi.push(a):mi=[a]:di=a,n=_u(n,"onChange"),0<n.length&&(i=new ws("onChange","change",null,i,a),t.push({event:i,listeners:n}))}var Me=null,Xn=null;function Fa(t){dp(t,0)}function Vo(t){var n=Bn(t);if(La(n))return t}function Ud(t,n){if(t==="change")return n}var xd=!1;if(Cn){var Cc;if(Cn){var Dc="oninput"in document;if(!Dc){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Dc=typeof Ld.oninput=="function"}Cc=Dc}else Cc=!1;xd=Cc&&(!document.documentMode||9<document.documentMode)}function Pd(){Me&&(Me.detachEvent("onpropertychange",kd),Xn=Me=null)}function kd(t){if(t.propertyName==="value"&&Vo(Xn)){var n=[];yi(n,Xn,t,gn(t)),vo(Fa,n)}}function kv(t,n,i){t==="focusin"?(Pd(),Me=n,Xn=i,Me.attachEvent("onpropertychange",kd)):t==="focusout"&&Pd()}function zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Xn)}function Bv(t,n){if(t==="click")return Vo(n)}function jv(t,n){if(t==="input"||t==="change")return Vo(n)}function qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:qv;function Ya(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!Er.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bd(t,n){var i=zd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=n&&a>=n)return{node:i,offset:n-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=zd(i)}}function jd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Or(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Hv=Cn&&"documentMode"in document&&11>=document.documentMode,Us=null,Ic=null,Xa=null,Oc=!1;function Hd(t,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Oc||Us==null||Us!==Or(a)||(a=Us,"selectionStart"in a&&Nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Xa&&Ya(Xa,a)||(Xa=a,a=_u(Ic,"onSelect"),0<a.length&&(n=new ws("onSelect","select",null,n,i),t.push({event:n,listeners:a}),n.target=Us)))}function qr(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var xs={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Mc={},Gd={};Cn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Hr(t){if(Mc[t])return Mc[t];if(!xs[t])return t;var n=xs[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Gd)return Mc[t]=n[i];return t}var Qd=Hr("animationend"),Fd=Hr("animationiteration"),Yd=Hr("animationstart"),Gv=Hr("transitionrun"),Qv=Hr("transitionstart"),Fv=Hr("transitioncancel"),Xd=Hr("transitionend"),Kd=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function Dn(t,n){Kd.set(t,n),wn(n,[t])}var Zd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var i=Zd.get(t);return i!==void 0?i:(n={value:t,source:n,stack:Ss(n)},Zd.set(t,n),n)}return{value:t,source:n,stack:Ss(n)}}var vn=[],Ls=0,Uc=0;function Uo(){for(var t=Ls,n=Uc=Ls=0;n<t;){var i=vn[n];vn[n++]=null;var a=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var h=vn[n];if(vn[n++]=null,a!==null&&c!==null){var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}h!==0&&Jd(i,c,h)}}function xo(t,n,i,a){vn[Ls++]=t,vn[Ls++]=n,vn[Ls++]=i,vn[Ls++]=a,Uc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function xc(t,n,i,a){return xo(t,n,i,a),Lo(t)}function Ps(t,n){return xo(t,null,null,n),Lo(t)}function Jd(t,n,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,a=h.alternate,a!==null&&(a.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Be(i),t=h.hiddenUpdates,a=t[c],a===null?t[c]=[n]:a.push(n),n.lane=i|536870912),h):null}function Lo(t){if(50<vl)throw vl=0,jh=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ks={};function Yv(t,n,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,i,a){return new Yv(t,n,i,a)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var i=t.alternate;return i===null?(i=an(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function $d(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Po(t,n,i,a,c,h){var p=0;if(a=t,typeof t=="function")Lc(t)&&(p=1);else if(typeof t=="string")p=KE(t,i,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=an(31,i,n,c),t.elementType=R,t.lanes=h,t;case Y:return Gr(i.children,c,h,n);case st:p=8,c|=24;break;case et:return t=an(12,i,n,c|2),t.elementType=et,t.lanes=h,t;case gt:return t=an(13,i,n,c),t.elementType=gt,t.lanes=h,t;case Ct:return t=an(19,i,n,c),t.elementType=Ct,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case mt:p=10;break t;case _t:p=9;break t;case Qt:p=11;break t;case O:p=14;break t;case A:p=16,a=null;break t}p=29,i=Error(l(130,t===null?"null":typeof t,"")),a=null}return n=an(p,i,n,c),n.elementType=t,n.type=a,n.lanes=h,n}function Gr(t,n,i,a){return t=an(7,t,a,n),t.lanes=i,t}function Pc(t,n,i){return t=an(6,t,null,n),t.lanes=i,t}function kc(t,n,i){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zs=[],Bs=0,ko=null,zo=0,En=[],Tn=0,Qr=null,vi=1,Ei="";function Fr(t,n){zs[Bs++]=zo,zs[Bs++]=ko,ko=t,zo=n}function Wd(t,n,i){En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=Qr,Qr=t;var a=vi;t=Ei;var c=32-Be(a)-1;a&=~(1<<c),i+=1;var h=32-Be(n)+c;if(30<h){var p=c-c%5;h=(a&(1<<p)-1).toString(32),a>>=p,c-=p,vi=1<<32-Be(n)+c|i<<c|a,Ei=h+t}else vi=1<<h|i<<c|a,Ei=t}function zc(t){t.return!==null&&(Fr(t,1),Wd(t,1,0))}function Bc(t){for(;t===ko;)ko=zs[--Bs],zs[Bs]=null,zo=zs[--Bs],zs[Bs]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,Ei=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null}var Ke=null,ie=null,xt=!1,Yr=null,Kn=!1,jc=Error(l(519));function Xr(t){var n=Error(l(418,""));throw Ja(_n(n,t)),jc}function tm(t){var n=t.stateNode,i=t.type,a=t.memoizedProps;switch(n[_e]=t,n[he]=a,i){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(i=0;i<Tl.length;i++)wt(Tl[i],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Mr(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),bs(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Vr(n,a.value,a.defaultValue,a.children),bs(n)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||a.suppressHydrationWarning===!0||yp(n.textContent,i)?(a.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),a.onScroll!=null&&wt("scroll",n),a.onScrollEnd!=null&&wt("scrollend",n),a.onClick!=null&&(n.onclick=vu),n=!0):n=!1,n||Xr(t)}function em(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ke=Ke.return}}function Ka(t){if(t!==Ke)return!1;if(!xt)return em(t),xt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||rf(t.type,t.memoizedProps)),i=!i),i&&ie&&Xr(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(n===0){ie=In(t.nextSibling);break t}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;t=t.nextSibling}ie=null}}else n===27?(n=ie,ar(t.type)?(t=of,of=null,ie=t):ie=n):ie=Ke?In(t.stateNode.nextSibling):null;return!0}function Za(){ie=Ke=null,xt=!1}function nm(){var t=Yr;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Yr=null),t}function Ja(t){Yr===null?Yr=[t]:Yr.push(t)}var qc=K(null),Kr=null,Ti=null;function Qi(t,n,i){J(qc,n._currentValue),n._currentValue=i}function Ai(t){t._currentValue=qc.current,tt(qc)}function Hc(t,n,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===i)break;t=t.return}}function Gc(t,n,i,a){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Hc(h.return,i,t),a||(p=null);break t}h=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(l(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),Hc(p,i,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function $a(t,n,i,a){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var E=c.type;sn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(p=c.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&Gc(n,t,i,a),n.flags|=262144}function Bo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Kr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return im(Kr,t)}function jo(t,n){return Kr===null&&Zr(t),im(t,n)}function im(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Ti===null){if(t===null)throw Error(l(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return i}var Xv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},Kv=s.unstable_scheduleCallback,Zv=s.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new Xv,data:new Map,refCount:0}}function Wa(t){t.refCount--,t.refCount===0&&Kv(Zv,function(){t.controller.abort()})}var tl=null,Fc=0,js=0,qs=null;function Jv(t,n){if(tl===null){var i=tl=[];Fc=0,js=Xh(),qs={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Fc++,n.then(rm,rm),n}function rm(){if(--Fc===0&&tl!==null){qs!==null&&(qs.status="fulfilled");var t=tl;tl=null,js=0,qs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var i=[],a={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){a.status="fulfilled",a.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(a.status="rejected",a.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),a}var sm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jv(t,n),sm!==null&&sm(t,n)};var Jr=K(null);function Yc(){var t=Jr.current;return t!==null?t:Xt.pooledCache}function qo(t,n){n===null?J(Jr,Jr.current):J(Jr,n.pool)}function am(){var t=Yc();return t===null?null:{parent:Te._currentValue,pool:t}}var el=Error(l(460)),lm=Error(l(474)),Ho=Error(l(542)),Xc={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Go(){}function um(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(Go,Go),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t;default:if(typeof n.status=="string")n.then(Go,Go);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(a){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=a}},function(a){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t}throw nl=n,el}}var nl=null;function cm(){if(nl===null)throw Error(l(459));var t=nl;return nl=null,t}function hm(t){if(t===el||t===Ho)throw Error(l(483))}var Fi=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(zt&2)!==0){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,n=Lo(t),Jd(t,null,i),n}return xo(t,a,n,i),Lo(t)}function il(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,Oa(t,i)}}function Jc(t,n){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var $c=!1;function rl(){if($c){var t=qs;if(t!==null)throw t}}function sl(t,n,i,a){$c=!1;var c=t.updateQueue;Fi=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,P=S.next;S.next=null,p===null?h=P:p.next=P,p=S;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=S))}if(h!==null){var F=c.baseState;p=0,q=P=S=null,E=h;do{var k=E.lane&-536870913,z=k!==E.lane;if(z?(Ot&k)===k:(a&k)===k){k!==0&&k===js&&($c=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ut=E;k=n;var Gt=i;switch(ut.tag){case 1:if(ft=ut.payload,typeof ft=="function"){F=ft.call(Gt,F,k);break t}F=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ut.payload,k=typeof ft=="function"?ft.call(Gt,F,k):ft,k==null)break t;F=w({},F,k);break t;case 2:Fi=!0}}k=E.callback,k!==null&&(t.flags|=64,z&&(t.flags|=8192),z=c.callbacks,z===null?c.callbacks=[k]:z.push(k))}else z={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=z,S=F):q=q.next=z,p|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;z=E,E=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);q===null&&(S=F),c.baseState=S,c.firstBaseUpdate=P,c.lastBaseUpdate=q,h===null&&(c.shared.lanes=0),nr|=p,t.lanes=p,t.memoizedState=F}}function fm(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function dm(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)fm(i[t],n)}var Hs=K(null),Qo=K(0);function mm(t,n){t=Ni,J(Qo,t),J(Hs,n),Ni=t|n.baseLanes}function Wc(){J(Qo,Ni),J(Hs,Hs.current)}function th(){Ni=Qo.current,tt(Hs),tt(Qo)}var Ki=0,Tt=null,qt=null,de=null,Fo=!1,Gs=!1,$r=!1,Yo=0,al=0,Qs=null,Wv=0;function oe(){throw Error(l(321))}function eh(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!sn(t[i],n[i]))return!1;return!0}function nh(t,n,i,a,c,h){return Ki=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Jm:$m,$r=!1,h=i(a,c),$r=!1,Gs&&(h=pm(n,i,a,c)),gm(t),h}function gm(t){j.H=Wo;var n=qt!==null&&qt.next!==null;if(Ki=0,de=qt=Tt=null,Fo=!1,al=0,Qs=null,n)throw Error(l(300));t===null||we||(t=t.dependencies,t!==null&&Bo(t)&&(we=!0))}function pm(t,n,i,a){Tt=t;var c=0;do{if(Gs&&(Qs=null),al=0,Gs=!1,25<=c)throw Error(l(301));if(c+=1,de=qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}j.H=aE,h=n(i,a)}while(Gs);return h}function tE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function ih(){var t=Yo!==0;return Yo=0,t}function rh(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function sh(t){if(Fo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fo=!1}Ki=0,de=qt=Tt=null,Gs=!1,al=Yo=0,Qs=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=de===null?Tt.memoizedState:de.next;if(n!==null)de=n,qt=t;else{if(t===null)throw Tt.alternate===null?Error(l(467)):Error(l(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=al;return al+=1,Qs===null&&(Qs=[]),t=um(Qs,t,n),n=Tt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Jm:$m),t}function Xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===mt)return je(t)}throw Error(l(438,String(t)))}function lh(t){var n=null,i=Tt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var a=Tt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ah(),Tt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),a=0;a<t;a++)i[a]=N;return n.index++,i}function Si(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=me();return oh(n,qt,t)}function oh(t,n,i){var a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=i;var c=t.baseQueue,h=a.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}n.baseQueue=c=h,a.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=p=null,S=null,P=n,q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ot&F)===F:(Ki&F)===F){var k=P.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===js&&(q=!0);else if((Ki&k)===k){P=P.next,k===js&&(q=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(E=S=F,p=h):S=S.next=F,Tt.lanes|=k,nr|=k;F=P.action,$r&&i(h,F),h=P.hasEagerState?P.eagerState:i(h,F)}else k={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(E=S=k,p=h):S=S.next=k,Tt.lanes|=F,nr|=F;P=P.next}while(P!==null&&P!==n);if(S===null?p=h:S.next=E,!sn(h,t.memoizedState)&&(we=!0,q&&(i=qs,i!==null)))throw i;t.memoizedState=h,t.baseState=p,t.baseQueue=S,a.lastRenderedState=h}return c===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function uh(t){var n=me(),i=n.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var a=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);sn(h,n.memoizedState)||(we=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,a]}function ym(t,n,i){var a=Tt,c=me(),h=xt;if(h){if(i===void 0)throw Error(l(407));i=i()}else i=n();var p=!sn((qt||c).memoizedState,i);p&&(c.memoizedState=i,we=!0),c=c.queue;var E=Em.bind(null,a,c,t);if(ol(2048,8,E,[t]),c.getSnapshot!==n||p||de!==null&&de.memoizedState.tag&1){if(a.flags|=2048,Fs(9,Zo(),vm.bind(null,a,c,i,n),null),Xt===null)throw Error(l(349));h||(Ki&124)!==0||_m(a,n,i)}return i}function _m(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Tt.updateQueue,n===null?(n=ah(),Tt.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function vm(t,n,i,a){n.value=i,n.getSnapshot=a,Tm(n)&&Am(t)}function Em(t,n,i){return i(function(){Tm(n)&&Am(t)})}function Tm(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!sn(t,i)}catch{return!0}}function Am(t){var n=Ps(t,2);n!==null&&hn(n,t,2)}function ch(t){var n=Ze();if(typeof t=="function"){var i=t;if(t=i(),$r){nn(!0);try{i()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Sm(t,n,i,a){return t.baseState=i,oh(t,qt,typeof a=="function"?a:Si)}function eE(t,n,i,a,c){if($o(t))throw Error(l(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};j.T!==null?i(!0):h.isTransition=!1,a(h),i=n.pending,i===null?(h.next=n.pending=h,bm(n,h)):(h.next=i.next,n.pending=i.next=h)}}function bm(t,n){var i=n.action,a=n.payload,c=t.state;if(n.isTransition){var h=j.T,p={};j.T=p;try{var E=i(c,a),S=j.S;S!==null&&S(p,E),Rm(t,n,E)}catch(P){hh(t,n,P)}finally{j.T=h}}else try{h=i(c,a),Rm(t,n,h)}catch(P){hh(t,n,P)}}function Rm(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){wm(t,n,a)},function(a){return hh(t,n,a)}):wm(t,n,i)}function wm(t,n,i){n.status="fulfilled",n.value=i,Cm(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,bm(t,i)))}function hh(t,n,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=i,Cm(n),n=n.next;while(n!==a)}t.action=null}function Cm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Nm(t,n){if(xt){var i=Xt.formState;if(i!==null){t:{var a=Tt;if(xt){if(ie){e:{for(var c=ie,h=Kn;c.nodeType!==8;){if(!h){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ie=In(c.nextSibling),a=c.data==="F!";break t}}Xr(a)}a=!1}a&&(n=i[0])}}return i=Ze(),i.memoizedState=i.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},i.queue=a,i=Xm.bind(null,Tt,a),a.dispatch=i,a=ch(!1),h=ph.bind(null,Tt,!1,a.queue),a=Ze(),c={state:n,dispatch:null,action:t,pending:null},a.queue=c,i=eE.bind(null,Tt,c,h,i),c.dispatch=i,a.memoizedState=t,[n,i,!1]}function Im(t){var n=me();return Om(n,qt,t)}function Om(t,n,i){if(n=oh(t,n,Dm)[0],t=Ko(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=ll(n)}catch(p){throw p===el?Ho:p}else a=n;n=me();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(Tt.flags|=2048,Fs(9,Zo(),nE.bind(null,c,i),null)),[a,h,t]}function nE(t,n){t.action=n}function Mm(t){var n=me(),i=qt;if(i!==null)return Om(n,i,t);me(),n=n.memoizedState,i=me();var a=i.queue.dispatch;return i.memoizedState=t,[n,a,!1]}function Fs(t,n,i,a){return t={tag:t,create:i,deps:a,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=ah(),Tt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,n.lastEffect=t),t}function Zo(){return{destroy:void 0,resource:void 0}}function Vm(){return me().memoizedState}function Jo(t,n,i,a){var c=Ze();a=a===void 0?null:a,Tt.flags|=t,c.memoizedState=Fs(1|n,Zo(),i,a)}function ol(t,n,i,a){var c=me();a=a===void 0?null:a;var h=c.memoizedState.inst;qt!==null&&a!==null&&eh(a,qt.memoizedState.deps)?c.memoizedState=Fs(n,h,i,a):(Tt.flags|=t,c.memoizedState=Fs(1|n,h,i,a))}function Um(t,n){Jo(8390656,8,t,n)}function xm(t,n){ol(2048,8,t,n)}function Lm(t,n){return ol(4,2,t,n)}function Pm(t,n){return ol(4,4,t,n)}function km(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zm(t,n,i){i=i!=null?i.concat([t]):null,ol(4,4,km.bind(null,n,t),i)}function fh(){}function Bm(t,n){var i=me();n=n===void 0?null:n;var a=i.memoizedState;return n!==null&&eh(n,a[1])?a[0]:(i.memoizedState=[t,n],t)}function jm(t,n){var i=me();n=n===void 0?null:n;var a=i.memoizedState;if(n!==null&&eh(n,a[1]))return a[0];if(a=t(),$r){nn(!0);try{t()}finally{nn(!1)}}return i.memoizedState=[a,n],a}function dh(t,n,i){return i===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=i,t=Gg(),Tt.lanes|=t,nr|=t,i)}function qm(t,n,i,a){return sn(i,n)?i:Hs.current!==null?(t=dh(t,i,a),sn(t,n)||(we=!0),t):(Ki&42)===0?(we=!0,t.memoizedState=i):(t=Gg(),Tt.lanes|=t,nr|=t,n)}function Hm(t,n,i,a,c){var h=Q.p;Q.p=h!==0&&8>h?h:8;var p=j.T,E={};j.T=E,ph(t,!1,n,i);try{var S=c(),P=j.S;if(P!==null&&P(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=$v(S,a);ul(t,n,q,cn(t))}else ul(t,n,a,cn(t))}catch(F){ul(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{Q.p=h,j.T=p}}function iE(){}function mh(t,n,i,a){if(t.tag!==5)throw Error(l(476));var c=Gm(t).queue;Hm(t,c,n,nt,i===null?iE:function(){return Qm(t),i(a)})}function Gm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:nt},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Gm(t).next.queue;ul(t,n,{},cn())}function gh(){return je(Cl)}function Fm(){return me().memoizedState}function Ym(){return me().memoizedState}function rE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=cn();t=Yi(i);var a=Xi(n,t,i);a!==null&&(hn(a,n,i),il(a,n,i)),n={cache:Qc()},t.payload=n;return}n=n.return}}function sE(t,n,i){var a=cn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},$o(t)?Km(n,i):(i=xc(t,n,i,a),i!==null&&(hn(i,t,a),Zm(i,n,a)))}function Xm(t,n,i){var a=cn();ul(t,n,i,a)}function ul(t,n,i,a){var c={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if($o(t))Km(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,i);if(c.hasEagerState=!0,c.eagerState=E,sn(E,p))return xo(t,n,c,0),Xt===null&&Uo(),!1}catch{}finally{}if(i=xc(t,n,c,a),i!==null)return hn(i,t,a),Zm(i,n,a),!0}return!1}function ph(t,n,i,a){if(a={lane:2,revertLane:Xh(),action:a,hasEagerState:!1,eagerState:null,next:null},$o(t)){if(n)throw Error(l(479))}else n=xc(t,i,a,2),n!==null&&hn(n,t,2)}function $o(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Km(t,n){Gs=Fo=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Zm(t,n,i){if((i&4194048)!==0){var a=n.lanes;a&=t.pendingLanes,i|=a,n.lanes=i,Oa(t,i)}}var Wo={readContext:je,use:Xo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Jm={readContext:je,use:Xo,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Um,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,Jo(4194308,4,km.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Jo(4194308,4,t,n)},useInsertionEffect:function(t,n){Jo(4,2,t,n)},useMemo:function(t,n){var i=Ze();n=n===void 0?null:n;var a=t();if($r){nn(!0);try{t()}finally{nn(!1)}}return i.memoizedState=[a,n],a},useReducer:function(t,n,i){var a=Ze();if(i!==void 0){var c=i(n);if($r){nn(!0);try{i(n)}finally{nn(!1)}}}else c=n;return a.memoizedState=a.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},a.queue=t,t=t.dispatch=sE.bind(null,Tt,t),[a.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=ch(t);var n=t.queue,i=Xm.bind(null,Tt,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:fh,useDeferredValue:function(t,n){var i=Ze();return dh(i,t,n)},useTransition:function(){var t=ch(!1);return t=Hm.bind(null,Tt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var a=Tt,c=Ze();if(xt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=n(),Xt===null)throw Error(l(349));(Ot&124)!==0||_m(a,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,Um(Em.bind(null,a,h,t),[t]),a.flags|=2048,Fs(9,Zo(),vm.bind(null,a,h,i,n),null),i},useId:function(){var t=Ze(),n=Xt.identifierPrefix;if(xt){var i=Ei,a=vi;i=(a&~(1<<32-Be(a)-1)).toString(32)+i,n="«"+n+"R"+i,i=Yo++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=Wv++,n="«"+n+"r"+i.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:gh,useFormState:Nm,useActionState:Nm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ph.bind(null,Tt,!0,i),i.dispatch=n,[t,n]},useMemoCache:lh,useCacheRefresh:function(){return Ze().memoizedState=rE.bind(null,Tt)}},$m={readContext:je,use:Xo,useCallback:Bm,useContext:je,useEffect:xm,useImperativeHandle:zm,useInsertionEffect:Lm,useLayoutEffect:Pm,useMemo:jm,useReducer:Ko,useRef:Vm,useState:function(){return Ko(Si)},useDebugValue:fh,useDeferredValue:function(t,n){var i=me();return qm(i,qt.memoizedState,t,n)},useTransition:function(){var t=Ko(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:ym,useId:Fm,useHostTransitionStatus:gh,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var i=me();return Sm(i,qt,t,n)},useMemoCache:lh,useCacheRefresh:Ym},aE={readContext:je,use:Xo,useCallback:Bm,useContext:je,useEffect:xm,useImperativeHandle:zm,useInsertionEffect:Lm,useLayoutEffect:Pm,useMemo:jm,useReducer:uh,useRef:Vm,useState:function(){return uh(Si)},useDebugValue:fh,useDeferredValue:function(t,n){var i=me();return qt===null?dh(i,t,n):qm(i,qt.memoizedState,t,n)},useTransition:function(){var t=uh(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:ym,useId:Fm,useHostTransitionStatus:gh,useFormState:Mm,useActionState:Mm,useOptimistic:function(t,n){var i=me();return qt!==null?Sm(i,qt,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:lh,useCacheRefresh:Ym},Ys=null,cl=0;function tu(t){var n=cl;return cl+=1,Ys===null&&(Ys=[]),um(Ys,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===L?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function tg(t){function n(M,D){if(t){var x=M.deletions;x===null?(M.deletions=[D],M.flags|=16):x.push(D)}}function i(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function a(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=_i(M,D),M.index=0,M.sibling=null,M}function h(M,D,x){return M.index=x,t?(x=M.alternate,x!==null?(x=x.index,x<D?(M.flags|=67108866,D):x):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,x,G){return D===null||D.tag!==6?(D=Pc(x,M.mode,G),D.return=M,D):(D=c(D,x),D.return=M,D)}function S(M,D,x,G){var it=x.type;return it===Y?q(M,D,x.props.children,G,x.key):D!==null&&(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&Wm(it)===D.type)?(D=c(D,x.props),hl(D,x),D.return=M,D):(D=Po(x.type,x.key,x.props,null,M.mode,G),hl(D,x),D.return=M,D)}function P(M,D,x,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=kc(x,M.mode,G),D.return=M,D):(D=c(D,x.children||[]),D.return=M,D)}function q(M,D,x,G,it){return D===null||D.tag!==7?(D=Gr(x,M.mode,G,it),D.return=M,D):(D=c(D,x),D.return=M,D)}function F(M,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Pc(""+D,M.mode,x),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return x=Po(D.type,D.key,D.props,null,M.mode,x),hl(x,D),x.return=M,x;case W:return D=kc(D,M.mode,x),D.return=M,D;case A:var G=D._init;return D=G(D._payload),F(M,D,x)}if(Zt(D)||V(D))return D=Gr(D,M.mode,x,null),D.return=M,D;if(typeof D.then=="function")return F(M,tu(D),x);if(D.$$typeof===mt)return F(M,jo(M,D),x);eu(M,D)}return null}function k(M,D,x,G){var it=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return it!==null?null:E(M,D,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return x.key===it?S(M,D,x,G):null;case W:return x.key===it?P(M,D,x,G):null;case A:return it=x._init,x=it(x._payload),k(M,D,x,G)}if(Zt(x)||V(x))return it!==null?null:q(M,D,x,G,null);if(typeof x.then=="function")return k(M,D,tu(x),G);if(x.$$typeof===mt)return k(M,D,jo(M,x),G);eu(M,x)}return null}function z(M,D,x,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(x)||null,E(D,M,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return M=M.get(G.key===null?x:G.key)||null,S(D,M,G,it);case W:return M=M.get(G.key===null?x:G.key)||null,P(D,M,G,it);case A:var bt=G._init;return G=bt(G._payload),z(M,D,x,G,it)}if(Zt(G)||V(G))return M=M.get(x)||null,q(D,M,G,it,null);if(typeof G.then=="function")return z(M,D,x,tu(G),it);if(G.$$typeof===mt)return z(M,D,x,jo(D,G),it);eu(D,G)}return null}function ft(M,D,x,G){for(var it=null,bt=null,at=D,ht=D=0,De=null;at!==null&&ht<x.length;ht++){at.index>ht?(De=at,at=null):De=at.sibling;var Ut=k(M,at,x[ht],G);if(Ut===null){at===null&&(at=De);break}t&&at&&Ut.alternate===null&&n(M,at),D=h(Ut,D,ht),bt===null?it=Ut:bt.sibling=Ut,bt=Ut,at=De}if(ht===x.length)return i(M,at),xt&&Fr(M,ht),it;if(at===null){for(;ht<x.length;ht++)at=F(M,x[ht],G),at!==null&&(D=h(at,D,ht),bt===null?it=at:bt.sibling=at,bt=at);return xt&&Fr(M,ht),it}for(at=a(at);ht<x.length;ht++)De=z(at,M,ht,x[ht],G),De!==null&&(t&&De.alternate!==null&&at.delete(De.key===null?ht:De.key),D=h(De,D,ht),bt===null?it=De:bt.sibling=De,bt=De);return t&&at.forEach(function(hr){return n(M,hr)}),xt&&Fr(M,ht),it}function ut(M,D,x,G){if(x==null)throw Error(l(151));for(var it=null,bt=null,at=D,ht=D=0,De=null,Ut=x.next();at!==null&&!Ut.done;ht++,Ut=x.next()){at.index>ht?(De=at,at=null):De=at.sibling;var hr=k(M,at,Ut.value,G);if(hr===null){at===null&&(at=De);break}t&&at&&hr.alternate===null&&n(M,at),D=h(hr,D,ht),bt===null?it=hr:bt.sibling=hr,bt=hr,at=De}if(Ut.done)return i(M,at),xt&&Fr(M,ht),it;if(at===null){for(;!Ut.done;ht++,Ut=x.next())Ut=F(M,Ut.value,G),Ut!==null&&(D=h(Ut,D,ht),bt===null?it=Ut:bt.sibling=Ut,bt=Ut);return xt&&Fr(M,ht),it}for(at=a(at);!Ut.done;ht++,Ut=x.next())Ut=z(at,M,ht,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&at.delete(Ut.key===null?ht:Ut.key),D=h(Ut,D,ht),bt===null?it=Ut:bt.sibling=Ut,bt=Ut);return t&&at.forEach(function(l0){return n(M,l0)}),xt&&Fr(M,ht),it}function Gt(M,D,x,G){if(typeof x=="object"&&x!==null&&x.type===Y&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case H:t:{for(var it=x.key;D!==null;){if(D.key===it){if(it=x.type,it===Y){if(D.tag===7){i(M,D.sibling),G=c(D,x.props.children),G.return=M,M=G;break t}}else if(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&Wm(it)===D.type){i(M,D.sibling),G=c(D,x.props),hl(G,x),G.return=M,M=G;break t}i(M,D);break}else n(M,D);D=D.sibling}x.type===Y?(G=Gr(x.props.children,M.mode,G,x.key),G.return=M,M=G):(G=Po(x.type,x.key,x.props,null,M.mode,G),hl(G,x),G.return=M,M=G)}return p(M);case W:t:{for(it=x.key;D!==null;){if(D.key===it)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){i(M,D.sibling),G=c(D,x.children||[]),G.return=M,M=G;break t}else{i(M,D);break}else n(M,D);D=D.sibling}G=kc(x,M.mode,G),G.return=M,M=G}return p(M);case A:return it=x._init,x=it(x._payload),Gt(M,D,x,G)}if(Zt(x))return ft(M,D,x,G);if(V(x)){if(it=V(x),typeof it!="function")throw Error(l(150));return x=it.call(x),ut(M,D,x,G)}if(typeof x.then=="function")return Gt(M,D,tu(x),G);if(x.$$typeof===mt)return Gt(M,D,jo(M,x),G);eu(M,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(i(M,D.sibling),G=c(D,x),G.return=M,M=G):(i(M,D),G=Pc(x,M.mode,G),G.return=M,M=G),p(M)):i(M,D)}return function(M,D,x,G){try{cl=0;var it=Gt(M,D,x,G);return Ys=null,it}catch(at){if(at===el||at===Ho)throw at;var bt=an(29,at,null,M.mode);return bt.lanes=G,bt.return=M,bt}finally{}}}var Xs=tg(!0),eg=tg(!1),An=K(null),Zn=null;function Zi(t){var n=t.alternate;J(Ae,Ae.current&1),J(An,t),Zn===null&&(n===null||Hs.current!==null||n.memoizedState!==null)&&(Zn=t)}function ng(t){if(t.tag===22){if(J(Ae,Ae.current),J(An,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Ji()}function Ji(){J(Ae,Ae.current),J(An,An.current)}function bi(t){tt(An),Zn===t&&(Zn=null),tt(Ae)}var Ae=K(0);function nu(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||lf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yh(t,n,i,a){n=t.memoizedState,i=i(a,n),i=i==null?n:w({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var _h={enqueueSetState:function(t,n,i){t=t._reactInternals;var a=cn(),c=Yi(a);c.payload=n,i!=null&&(c.callback=i),n=Xi(t,c,a),n!==null&&(hn(n,t,a),il(n,t,a))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var a=cn(),c=Yi(a);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Xi(t,c,a),n!==null&&(hn(n,t,a),il(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=cn(),a=Yi(i);a.tag=2,n!=null&&(a.callback=n),n=Xi(t,a,i),n!==null&&(hn(n,t,i),il(n,t,i))}};function ig(t,n,i,a,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,h,p):n.prototype&&n.prototype.isPureReactComponent?!Ya(i,a)||!Ya(c,h):!0}function rg(t,n,i,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var i=n;if("ref"in n){i={};for(var a in n)a!=="ref"&&(i[a]=n[a])}if(t=t.defaultProps){i===n&&(i=w({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sg(t){iu(t)}function ag(t){console.error(t)}function lg(t){iu(t)}function ru(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function og(t,n,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,i){return i=Yi(i),i.tag=3,i.payload={element:null},i.callback=function(){ru(t,n)},i}function ug(t){return t=Yi(t),t.tag=3,t}function cg(t,n,i,a){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=a.value;t.payload=function(){return c(h)},t.callback=function(){og(n,i,a)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){og(n,i,a),typeof c!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function lE(t,n,i,a,c){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=i.alternate,n!==null&&$a(n,i,c,!0),i=An.current,i!==null){switch(i.tag){case 13:return Zn===null?Hh():i.alternate===null&&re===0&&(re=3),i.flags&=-257,i.flags|=65536,i.lanes=c,a===Xc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([a]):n.add(a),Qh(t,a,c)),!1;case 22:return i.flags|=65536,a===Xc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([a]):i.add(a)),Qh(t,a,c)),!1}throw Error(l(435,i.tag))}return Qh(t,a,c),Hh(),!1}if(xt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,a!==jc&&(t=Error(l(422),{cause:a}),Ja(_n(t,i)))):(a!==jc&&(n=Error(l(423),{cause:a}),Ja(_n(n,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,a=_n(a,i),c=vh(t.stateNode,a,c),Jc(t,c),re!==4&&(re=2)),!1;var h=Error(l(520),{cause:a});if(h=_n(h,i),_l===null?_l=[h]:_l.push(h),re!==4&&(re=2),n===null)return!0;a=_n(a,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=vh(i.stateNode,a,t),Jc(i,t),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ir===null||!ir.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ug(c),cg(c,t,i,a),Jc(i,c),!1}i=i.return}while(i!==null);return!1}var hg=Error(l(461)),we=!1;function Ve(t,n,i,a){n.child=t===null?eg(n,null,i,a):Xs(n,t.child,i,a)}function fg(t,n,i,a,c){i=i.render;var h=n.ref;if("ref"in a){var p={};for(var E in a)E!=="ref"&&(p[E]=a[E])}else p=a;return Zr(n),a=nh(t,n,i,p,h,c),E=ih(),t!==null&&!we?(rh(t,n,c),Ri(t,n,c)):(xt&&E&&zc(n),n.flags|=1,Ve(t,n,a,c),n.child)}function dg(t,n,i,a,c){if(t===null){var h=i.type;return typeof h=="function"&&!Lc(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,mg(t,n,h,a,c)):(t=Po(i.type,null,a,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Ch(t,c)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ya,i(p,a)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(h,a),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,i,a,c){if(t!==null){var h=t.memoizedProps;if(Ya(h,a)&&t.ref===n.ref)if(we=!1,n.pendingProps=a=h,Ch(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Eh(t,n,i,a,c)}function gg(t,n,i){var a=n.pendingProps,c=a.children,h=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((n.flags&128)!==0){if(a=h!==null?h.baseLanes|i:i,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~a}else n.childLanes=0,n.child=null;return pg(t,n,a,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(n,h!==null?h.cachePool:null),h!==null?mm(n,h):Wc(),ng(n);else return n.lanes=n.childLanes=536870912,pg(t,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(qo(n,h.cachePool),mm(n,h),Ji(),n.memoizedState=null):(t!==null&&qo(n,null),Wc(),Ji());return Ve(t,n,c,i),n.child}function pg(t,n,i,a){var c=Yc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},t!==null&&qo(n,null),Wc(),ng(n),t!==null&&$a(t,n,a,!0),null}function su(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Eh(t,n,i,a,c){return Zr(n),i=nh(t,n,i,a,void 0,c),a=ih(),t!==null&&!we?(rh(t,n,c),Ri(t,n,c)):(xt&&a&&zc(n),n.flags|=1,Ve(t,n,i,c),n.child)}function yg(t,n,i,a,c,h){return Zr(n),n.updateQueue=null,i=pm(n,a,i,c),gm(t),a=ih(),t!==null&&!we?(rh(t,n,h),Ri(t,n,h)):(xt&&a&&zc(n),n.flags|=1,Ve(t,n,i,h),n.child)}function _g(t,n,i,a,c){if(Zr(n),n.stateNode===null){var h=ks,p=i.contextType;typeof p=="object"&&p!==null&&(h=je(p)),h=new i(a,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=_h,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=a,h.state=n.memoizedState,h.refs={},Kc(n),p=i.contextType,h.context=typeof p=="object"&&p!==null?je(p):ks,h.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(yh(n,i,p,a),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&_h.enqueueReplaceState(h,h.state,null),sl(n,a,h,c),rl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,S=Wr(i,E);h.props=S;var P=h.context,q=i.contextType;p=ks,typeof q=="object"&&q!==null&&(p=je(q));var F=i.getDerivedStateFromProps;q=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==p)&&rg(n,h,a,p),Fi=!1;var k=n.memoizedState;h.state=k,sl(n,a,h,c),rl(),P=n.memoizedState,E||k!==P||Fi?(typeof F=="function"&&(yh(n,i,F,a),P=n.memoizedState),(S=Fi||ig(n,i,S,a,k,P,p))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=P),h.props=a,h.state=P,h.context=p,a=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,Zc(t,n),p=n.memoizedProps,q=Wr(i,p),h.props=q,F=n.pendingProps,k=h.context,P=i.contextType,S=ks,typeof P=="object"&&P!==null&&(S=je(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==F||k!==S)&&rg(n,h,a,S),Fi=!1,k=n.memoizedState,h.state=k,sl(n,a,h,c),rl();var z=n.memoizedState;p!==F||k!==z||Fi||t!==null&&t.dependencies!==null&&Bo(t.dependencies)?(typeof E=="function"&&(yh(n,i,E,a),z=n.memoizedState),(q=Fi||ig(n,i,q,a,k,z,S)||t!==null&&t.dependencies!==null&&Bo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,z,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,z,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=z),h.props=a,h.state=z,h.context=S,a=q):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),a=!1)}return h=a,su(t,n),a=(n.flags&128)!==0,h||a?(h=n.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&a?(n.child=Xs(n,t.child,null,c),n.child=Xs(n,null,i,c)):Ve(t,n,i,c),n.memoizedState=h.state,t=n.child):t=Ri(t,n,c),t}function vg(t,n,i,a){return Za(),n.flags|=256,Ve(t,n,i,a),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:am()}}function Sh(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Sn),t}function Eg(t,n,i){var a=n.pendingProps,c=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?Zi(n):Ji(),xt){var E=ie,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=In(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},S=an(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Ke=n,ie=null,S=!0):S=!1}S||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lf(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=a.children,a=a.fallback,c?(Ji(),c=n.mode,E=au({mode:"hidden",children:E},c),a=Gr(a,c,i,null),E.return=n,a.return=n,E.sibling=a,n.child=E,c=n.child,c.memoizedState=Ah(i),c.childLanes=Sh(t,p,i),n.memoizedState=Th,a):(Zi(n),bh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(h)n.flags&256?(Zi(n),n.flags&=-257,n=Rh(t,n,i)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=a.fallback,E=n.mode,a=au({mode:"visible",children:a.children},E),c=Gr(c,E,i,null),c.flags|=2,a.return=n,c.return=n,a.sibling=c,n.child=a,Xs(n,t.child,null,i),a=n.child,a.memoizedState=Ah(i),a.childLanes=Sh(t,p,i),n.memoizedState=Th,n=c);else if(Zi(n),lf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,a=Error(l(419)),a.stack="",a.digest=p,Ja({value:a,source:null,stack:null}),n=Rh(t,n,i)}else if(we||$a(t,n,i,!1),p=(i&t.childLanes)!==0,we||p){if(p=Xt,p!==null&&(a=i&-i,a=(a&42)!==0?1:ki(a),a=(a&(p.suspendedLanes|i))!==0?0:a,a!==0&&a!==S.retryLane))throw S.retryLane=a,Ps(t,a),hn(p,t,a),hg;E.data==="$?"||Hh(),n=Rh(t,n,i)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,ie=In(E.nextSibling),Ke=n,xt=!0,Yr=null,Kn=!1,t!==null&&(En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=Qr,vi=t.id,Ei=t.overflow,Qr=n),n=bh(n,a.children),n.flags|=4096);return n}return c?(Ji(),c=a.fallback,E=n.mode,S=t.child,P=S.sibling,a=_i(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,P!==null?c=_i(P,c):(c=Gr(c,E,i,null),c.flags|=2),c.return=n,a.return=n,a.sibling=c,n.child=a,a=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(i):(S=E.cachePool,S!==null?(P=Te._currentValue,S=S.parent!==P?{parent:P,pool:P}:S):S=am(),E={baseLanes:E.baseLanes|i,cachePool:S}),c.memoizedState=E,c.childLanes=Sh(t,p,i),n.memoizedState=Th,a):(Zi(n),i=t.child,t=i.sibling,i=_i(i,{mode:"visible",children:a.children}),i.return=n,i.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=i,n.memoizedState=null,i)}function bh(t,n){return n=au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function au(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,i){return Xs(n,t.child,null,i),t=bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tg(t,n,i){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Hc(t.return,n,i)}function wh(t,n,i,a,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=c)}function Ag(t,n,i){var a=n.pendingProps,c=a.revealOrder,h=a.tail;if(Ve(t,n,a.children,i),a=Ae.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tg(t,i,n);else if(t.tag===19)Tg(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(J(Ae,a),c){case"forwards":for(i=n.child,c=null;i!==null;)t=i.alternate,t!==null&&nu(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),wh(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&nu(t)===null){n.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}wh(n,!0,i,null,h);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(i&n.childLanes)===0)if(t!==null){if($a(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,i=_i(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=_i(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bo(t)))}function oE(t,n,i){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),Qi(n,Te,t.memoizedState.cache),Za();break;case 27:case 5:Pi(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Zi(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Eg(t,n,i):(Zi(n),t=Ri(t,n,i),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(a=(i&n.childLanes)!==0,a||($a(t,n,i,!1),a=(i&n.childLanes)!==0),c){if(a)return Ag(t,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),a)break;return null;case 22:case 23:return n.lanes=0,gg(t,n,i);case 24:Qi(n,Te,t.memoizedState.cache)}return Ri(t,n,i)}function Sg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Ch(t,i)&&(n.flags&128)===0)return we=!1,oE(t,n,i);we=(t.flags&131072)!==0}else we=!1,xt&&(n.flags&1048576)!==0&&Wd(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var a=n.elementType,c=a._init;if(a=c(a._payload),n.type=a,typeof a=="function")Lc(a)?(t=Wr(a,t),n.tag=1,n=_g(null,n,a,t,i)):(n.tag=0,n=Eh(null,n,a,t,i));else{if(a!=null){if(c=a.$$typeof,c===Qt){n.tag=11,n=fg(null,n,a,t,i);break t}else if(c===O){n.tag=14,n=dg(null,n,a,t,i);break t}}throw n=ye(a)||a,Error(l(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,i);case 1:return a=n.type,c=Wr(a,n.pendingProps),_g(t,n,a,c,i);case 3:t:{if(Yt(n,n.stateNode.containerInfo),t===null)throw Error(l(387));a=n.pendingProps;var h=n.memoizedState;c=h.element,Zc(t,n),sl(n,a,null,i);var p=n.memoizedState;if(a=p.cache,Qi(n,Te,a),a!==h.cache&&Gc(n,[Te],i,!0),rl(),a=p.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=vg(t,n,a,i);break t}else if(a!==c){c=_n(Error(l(424)),n),Ja(c),n=vg(t,n,a,i);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=In(t.firstChild),Ke=n,xt=!0,Yr=null,Kn=!0,i=eg(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Za(),a===c){n=Ri(t,n,i);break t}Ve(t,n,a,i)}n=n.child}return n;case 26:return su(t,n),t===null?(i=Cp(n.type,null,n.pendingProps,null))?n.memoizedState=i:xt||(i=n.type,t=n.pendingProps,a=Eu(dt.current).createElement(i),a[_e]=n,a[he]=t,xe(a,i,t),le(a),n.stateNode=a):n.memoizedState=Cp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&xt&&(a=n.stateNode=bp(n.type,n.pendingProps,dt.current),Ke=n,Kn=!0,c=ie,ar(n.type)?(of=c,ie=In(a.firstChild)):ie=c),Ve(t,n,n.pendingProps.children,i),su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=a=ie)&&(a=LE(a,n.type,n.pendingProps,Kn),a!==null?(n.stateNode=a,Ke=n,ie=In(a.firstChild),Kn=!1,c=!0):c=!1),c||Xr(n)),Pi(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,a=h.children,rf(c,h)?a=null:p!==null&&rf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=nh(t,n,tE,null,null,i),Cl._currentValue=c),su(t,n),Ve(t,n,a,i),n.child;case 6:return t===null&&xt&&((t=i=ie)&&(i=PE(i,n.pendingProps,Kn),i!==null?(n.stateNode=i,Ke=n,ie=null,t=!0):t=!1),t||Xr(n)),null;case 13:return Eg(t,n,i);case 4:return Yt(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Xs(n,null,a,i):Ve(t,n,a,i),n.child;case 11:return fg(t,n,n.type,n.pendingProps,i);case 7:return Ve(t,n,n.pendingProps,i),n.child;case 8:return Ve(t,n,n.pendingProps.children,i),n.child;case 12:return Ve(t,n,n.pendingProps.children,i),n.child;case 10:return a=n.pendingProps,Qi(n,n.type,a.value),Ve(t,n,a.children,i),n.child;case 9:return c=n.type._context,a=n.pendingProps.children,Zr(n),c=je(c),a=a(c),n.flags|=1,Ve(t,n,a,i),n.child;case 14:return dg(t,n,n.type,n.pendingProps,i);case 15:return mg(t,n,n.type,n.pendingProps,i);case 19:return Ag(t,n,i);case 31:return a=n.pendingProps,i=n.mode,a={mode:a.mode,children:a.children},t===null?(i=au(a,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=_i(t.child,a),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return gg(t,n,i);case 24:return Zr(n),a=je(Te),t===null?(c=Yc(),c===null&&(c=Xt,h=Qc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:a,cache:c},Kc(n),Qi(n,Te,c)):((t.lanes&i)!==0&&(Zc(t,n),sl(n,null,null,i),rl()),c=t.memoizedState,h=n.memoizedState,c.parent!==a?(c={parent:a,cache:a},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Te,a)):(a=h.cache,Qi(n,Te,a),a!==c.cache&&Gc(n,[Te],i,!0))),Ve(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function wi(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mp(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?Zn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Zn))throw nl=Xc,lm;t.flags|=8192}}function lu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Na():536870912,t.lanes|=n,$s|=n)}function fl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(n)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=i,n}function uE(t,n,i){var a=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return i=n.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(Te),Pn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ka(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nm())),ee(n),null;case 26:return i=n.memoizedState,t===null?(wi(n),i!==null?(ee(n),bg(n,i)):(ee(n),n.flags&=-16777217)):i?i!==t.memoizedState?(wi(n),ee(n),bg(n,i)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==a&&wi(n),ee(n),n.flags&=-16777217),null;case 27:si(n),i=dt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==a&&wi(n);else{if(!a){if(n.stateNode===null)throw Error(l(166));return ee(n),null}t=lt.current,Ka(n)?tm(n):(t=bp(c,a,i),n.stateNode=t,wi(n))}return ee(n),null;case 5:if(si(n),i=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==a&&wi(n);else{if(!a){if(n.stateNode===null)throw Error(l(166));return ee(n),null}if(t=lt.current,Ka(n))tm(n);else{switch(c=Eu(dt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?c.createElement(i,{is:a.is}):c.createElement(i)}}t[_e]=n,t[he]=a;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,i,a),i){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==a&&wi(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(l(166));if(t=dt.current,Ka(n)){if(t=n.stateNode,i=n.memoizedProps,a=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||yp(t.nodeValue,i)),t||Xr(n)}else t=Eu(t).createTextNode(a),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ka(n),a!==null&&a.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[_e]=n}else Za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=a!==null,t=t!==null&&t.memoizedState!==null,i){a=n.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool);var h=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048)}return i!==t&&i&&(n.child.flags|=8192),lu(n,n.updateQueue),ee(n),null;case 4:return Pn(),t===null&&$h(n.stateNode.containerInfo),ee(n),null;case 10:return Ai(n.type),ee(n),null;case 19:if(tt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(a=(n.flags&128)!==0,h=c.rendering,h===null)if(a)fl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=nu(t),h!==null){for(n.flags|=128,fl(c,!1),t=h.updateQueue,n.updateQueue=t,lu(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)$d(i,t),i=i.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>cu&&(n.flags|=128,a=!0,fl(c,!1),n.lanes=4194304)}else{if(!a)if(t=nu(h),t!==null){if(n.flags|=128,a=!0,t=t.updateQueue,n.updateQueue=t,lu(n,t),fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!xt)return ee(n),null}else 2*fn()-c.renderingStartTime>cu&&i!==536870912&&(n.flags|=128,a=!0,fl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,J(Ae,a?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return bi(n),th(),a=n.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(i&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),i=n.updateQueue,i!==null&&lu(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048),t!==null&&tt(Jr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ai(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function cE(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Za()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Ae),null;case 4:return Pn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),th(),t!==null&&tt(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Rg(t,n){switch(Bc(n),n.tag){case 3:Ai(Te),Pn();break;case 26:case 27:case 5:si(n);break;case 4:Pn();break;case 13:bi(n);break;case 19:tt(Ae);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),th(),t!==null&&tt(Jr);break;case 24:Ai(Te)}}function dl(t,n){try{var i=n.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var c=a.next;i=c;do{if((i.tag&t)===t){a=void 0;var h=i.create,p=i.inst;a=h(),p.destroy=a}i=i.next}while(i!==c)}}catch(E){Ft(n,n.return,E)}}function $i(t,n,i){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&t)===t){var p=a.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var S=i,P=E;try{P()}catch(q){Ft(c,S,q)}}}a=a.next}while(a!==h)}}catch(q){Ft(n,n.return,q)}}function wg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{dm(n,i)}catch(a){Ft(t,t.return,a)}}}function Cg(t,n,i){i.props=Wr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){Ft(t,n,a)}}function ml(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(c){Ft(t,n,c)}}function Jn(t,n){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ft(t,n,c)}else i.current=null}function Dg(t){var n=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(c){Ft(t,t.return,c)}}function Dh(t,n,i){try{var a=t.stateNode;OE(a,t.type,i,n),a[he]=n}catch(c){Ft(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Nh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=vu));else if(a!==4&&(a===27&&ar(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Ih(t,n,i),t=t.sibling;t!==null;)Ih(t,n,i),t=t.sibling}function ou(t,n,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(a!==4&&(a===27&&ar(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ou(t,n,i),t=t.sibling;t!==null;)ou(t,n,i),t=t.sibling}function Ig(t){var n=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);xe(n,a,i),n[_e]=t,n[he]=i}catch(h){Ft(t,t.return,h)}}var Ci=!1,ue=!1,Oh=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function hE(t,n){if(t=t.containerInfo,ef=wu,t=qd(t),Nc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var p=0,E=-1,S=-1,P=0,q=0,F=t,k=null;e:for(;;){for(var z;F!==i||c!==0&&F.nodeType!==3||(E=p+c),F!==h||a!==0&&F.nodeType!==3||(S=p+a),F.nodeType===3&&(p+=F.nodeValue.length),(z=F.firstChild)!==null;)k=F,F=z;for(;;){if(F===t)break e;if(k===i&&++P===c&&(E=p),k===h&&++q===a&&(S=p),(z=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=z}i=E===-1||S===-1?null:{start:E,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(nf={focusedElem:t,selectionRange:i},wu=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,a=i.stateNode;try{var ft=Wr(i.type,c,i.elementType===i.type);t=a.getSnapshotBeforeUpdate(ft,h),a.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Ft(i,i.return,ut)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)af(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Mg(t,n,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Wi(t,i),a&4&&dl(5,i);break;case 1:if(Wi(t,i),a&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(p){Ft(i,i.return,p)}else{var c=Wr(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ft(i,i.return,p)}}a&64&&wg(i),a&512&&ml(i,i.return);break;case 3:if(Wi(t,i),a&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{dm(t,n)}catch(p){Ft(i,i.return,p)}}break;case 27:n===null&&a&4&&Ig(i);case 26:case 5:Wi(t,i),n===null&&a&4&&Dg(i),a&512&&ml(i,i.return);break;case 12:Wi(t,i);break;case 13:Wi(t,i),a&4&&xg(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=EE.bind(null,i),kE(t,i))));break;case 22:if(a=i.memoizedState!==null||Ci,!a){n=n!==null&&n.memoizedState!==null||ue,c=Ci;var h=ue;Ci=a,(ue=n)&&!h?tr(t,i,(i.subtreeFlags&8772)!==0):Wi(t,i),Ci=c,ue=h}break;case 30:break;default:Wi(t,i)}}function Vg(t){var n=t.alternate;n!==null&&(t.alternate=null,Vg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $t=null,Je=!1;function Di(t,n,i){for(i=i.child;i!==null;)Ug(t,n,i),i=i.sibling}function Ug(t,n,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ne,i)}catch{}switch(i.tag){case 26:ue||Jn(i,n),Di(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ue||Jn(i,n);var a=$t,c=Je;ar(i.type)&&($t=i.stateNode,Je=!1),Di(t,n,i),Sl(i.stateNode),$t=a,Je=c;break;case 5:ue||Jn(i,n);case 6:if(a=$t,c=Je,$t=null,Di(t,n,i),$t=a,Je=c,$t!==null)if(Je)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(i.stateNode)}catch(h){Ft(i,n,h)}else try{$t.removeChild(i.stateNode)}catch(h){Ft(i,n,h)}break;case 18:$t!==null&&(Je?(t=$t,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ol(t)):Ap($t,i.stateNode));break;case 4:a=$t,c=Je,$t=i.stateNode.containerInfo,Je=!0,Di(t,n,i),$t=a,Je=c;break;case 0:case 11:case 14:case 15:ue||$i(2,i,n),ue||$i(4,i,n),Di(t,n,i);break;case 1:ue||(Jn(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Cg(i,n,a)),Di(t,n,i);break;case 21:Di(t,n,i);break;case 22:ue=(a=ue)||i.memoizedState!==null,Di(t,n,i),ue=a;break;default:Di(t,n,i)}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(i){Ft(n,n.return,i)}}function fE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(l(435,t.tag))}}function Mh(t,n){var i=fE(t);n.forEach(function(a){var c=TE.bind(null,t,a);i.has(a)||(i.add(a),a.then(c,c))})}function ln(t,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a],h=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){$t=E.stateNode,Je=!1;break t}break;case 5:$t=E.stateNode,Je=!1;break t;case 3:case 4:$t=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if($t===null)throw Error(l(160));Ug(h,p,c),$t=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Nn=null;function Lg(t,n){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),a&4&&($i(3,t,t.return),dl(3,t),$i(5,t,t.return));break;case 1:ln(n,t),on(t),a&512&&(ue||i===null||Jn(i,i.return)),a&64&&Ci&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var c=Nn;if(ln(n,t),on(t),a&512&&(ue||i===null||Jn(i,i.return)),a&4){var h=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(a){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Dr]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(a),c.head.insertBefore(h,c.querySelector("head > title"))),xe(h,a,i),h[_e]=t,le(h),a=h;break t;case"link":var p=Ip("link","href",c).get(a+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}h=c.createElement(a),xe(h,a,i),c.head.appendChild(h);break;case"meta":if(p=Ip("meta","content",c).get(a+(i.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}h=c.createElement(a),xe(h,a,i),c.head.appendChild(h);break;default:throw Error(l(468,a))}h[_e]=t,le(h),a=h}t.stateNode=a}else Op(c,t.type,t.stateNode);else t.stateNode=Np(c,a,t.memoizedProps);else h!==a?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,a===null?Op(c,t.type,t.stateNode):Np(c,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,i.memoizedProps)}break;case 27:ln(n,t),on(t),a&512&&(ue||i===null||Jn(i,i.return)),i!==null&&a&4&&Dh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(ln(n,t),on(t),a&512&&(ue||i===null||Jn(i,i.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(z){Ft(t,t.return,z)}}a&4&&t.stateNode!=null&&(c=t.memoizedProps,Dh(t,c,i!==null?i.memoizedProps:c)),a&1024&&(Oh=!0);break;case 6:if(ln(n,t),on(t),a&4){if(t.stateNode===null)throw Error(l(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(z){Ft(t,t.return,z)}}break;case 3:if(Su=null,c=Nn,Nn=Tu(n.containerInfo),ln(n,t),Nn=c,on(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(z){Ft(t,t.return,z)}Oh&&(Oh=!1,Pg(t));break;case 4:a=Nn,Nn=Tu(t.stateNode.containerInfo),ln(n,t),on(t),Nn=a;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(kh=fn()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mh(t,a)));break;case 22:c=t.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,P=Ci,q=ue;if(Ci=P||c,ue=q||S,ln(n,t),ue=q,Ci=P,on(t),a&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||S||Ci||ue||ts(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){S=i=n;try{if(h=S.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=S.stateNode;var F=S.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(z){Ft(S,S.return,z)}}}else if(n.tag===6){if(i===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(z){Ft(S,S.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Mh(t,i))));break;case 19:ln(n,t),on(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mh(t,a)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var i,a=t.return;a!==null;){if(Ng(a)){i=a;break}a=a.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,h=Nh(t);ou(t,h,c);break;case 5:var p=i.stateNode;i.flags&32&&(mn(p,""),i.flags&=-33);var E=Nh(t);ou(t,E,p);break;case 3:case 4:var S=i.stateNode.containerInfo,P=Nh(t);Ih(t,P,S);break;default:throw Error(l(161))}}catch(q){Ft(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(t,n.alternate,n),n=n.sibling}function ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ts(n);break;case 1:Jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Cg(n,n.return,i),ts(n);break;case 27:Sl(n.stateNode);case 26:case 5:Jn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}t=t.sibling}}function tr(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,c=t,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:tr(c,h,i),dl(4,h);break;case 1:if(tr(c,h,i),a=h,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Ft(a,a.return,P)}if(a=h,c=a.updateQueue,c!==null){var E=a.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)fm(S[c],E)}catch(P){Ft(a,a.return,P)}}i&&p&64&&wg(h),ml(h,h.return);break;case 27:Ig(h);case 26:case 5:tr(c,h,i),i&&a===null&&p&4&&Dg(h),ml(h,h.return);break;case 12:tr(c,h,i);break;case 13:tr(c,h,i),i&&p&4&&xg(c,h);break;case 22:h.memoizedState===null&&tr(c,h,i),ml(h,h.return);break;case 30:break;default:tr(c,h,i)}n=n.sibling}}function Vh(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Wa(i))}function Uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wa(t))}function $n(t,n,i,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,i,a),n=n.sibling}function kg(t,n,i,a){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,i,a),c&2048&&dl(9,n);break;case 1:$n(t,n,i,a);break;case 3:$n(t,n,i,a),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wa(t)));break;case 12:if(c&2048){$n(t,n,i,a),t=n.stateNode;try{var h=n.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else $n(t,n,i,a);break;case 13:$n(t,n,i,a);break;case 23:break;case 22:h=n.stateNode,p=n.alternate,n.memoizedState!==null?h._visibility&2?$n(t,n,i,a):gl(t,n):h._visibility&2?$n(t,n,i,a):(h._visibility|=2,Ks(t,n,i,a,(n.subtreeFlags&10256)!==0)),c&2048&&Vh(p,n);break;case 24:$n(t,n,i,a),c&2048&&Uh(n.alternate,n);break;default:$n(t,n,i,a)}}function Ks(t,n,i,a,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,p=n,E=i,S=a,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ks(h,p,E,S,c),dl(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?Ks(h,p,E,S,c):gl(h,p):(q._visibility|=2,Ks(h,p,E,S,c)),c&&P&2048&&Vh(p.alternate,p);break;case 24:Ks(h,p,E,S,c),c&&P&2048&&Uh(p.alternate,p);break;default:Ks(h,p,E,S,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,a=n,c=a.flags;switch(a.tag){case 22:gl(i,a),c&2048&&Vh(a.alternate,a);break;case 24:gl(i,a),c&2048&&Uh(a.alternate,a);break;default:gl(i,a)}n=n.sibling}}var pl=8192;function Zs(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 26:Zs(t),t.flags&pl&&t.memoizedState!==null&&JE(Nn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=Nn;Nn=Tu(t.stateNode.containerInfo),Zs(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Zs(t),pl=n):Zs(t));break;default:Zs(t)}}function Bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];Ce=a,qg(a,t)}Bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uu(t)):yl(t);break;default:yl(t)}}function uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];Ce=a,qg(a,t)}Bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),uu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,uu(n));break;default:uu(n)}t=t.sibling}}function qg(t,n){for(;Ce!==null;){var i=Ce;switch(i.tag){case 0:case 11:case 15:$i(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Wa(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Ce=a;else t:for(i=t;Ce!==null;){a=Ce;var c=a.sibling,h=a.return;if(Vg(a),a===i){Ce=null;break t}if(c!==null){c.return=h,Ce=c;break t}Ce=h}}}var dE={getCacheForType:function(t){var n=je(Te),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i}},mE=typeof WeakMap=="function"?WeakMap:Map,zt=0,Xt=null,Rt=null,Ot=0,Bt=0,un=null,er=!1,Js=!1,xh=!1,Ni=0,re=0,nr=0,es=0,Lh=0,Sn=0,$s=0,_l=null,$e=null,Ph=!1,kh=0,cu=1/0,hu=null,ir=null,Ue=0,rr=null,Ws=null,ta=0,zh=0,Bh=null,Hg=null,vl=0,jh=null;function cn(){if((zt&2)!==0&&Ot!==0)return Ot&-Ot;if(j.T!==null){var t=js;return t!==0?t:Xh()}return zi()}function Gg(){Sn===0&&(Sn=(Ot&536870912)===0||xt?Da():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,i){(t===Xt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(ea(t,0),sr(t,Ot,Sn,!1)),li(t,i),((zt&2)===0||t!==Xt)&&(t===Xt&&((zt&2)===0&&(es|=i),re===4&&sr(t,Ot,Sn,!1)),Wn(t))}function Qg(t,n,i){if((zt&6)!==0)throw Error(l(327));var a=!i&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),c=a?yE(t,n):Gh(t,n,!0),h=a;do{if(c===0){Js&&!a&&sr(t,n,0,!1);break}else{if(i=t.current.alternate,h&&!gE(i)){c=Gh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=_l;var S=E.current.memoizedState.isDehydrated;if(S&&(ea(E,p).flags|=256),p=Gh(E,p,!1),p!==2){if(xh&&!S){E.errorRecoveryDisabledLanes|=h,es|=h,c=4;break t}h=$e,$e=c,h!==null&&($e===null?$e=h:$e.push.apply($e,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){ea(t,0),sr(t,n,0,!0);break}t:{switch(a=t,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:sr(a,n,Sn,!er);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=kh+300-fn(),10<c)){if(sr(a,n,Sn,!er),_s(a,0,!0)!==0)break t;a.timeoutHandle=Ep(Fg.bind(null,a,i,$e,hu,Ph,n,Sn,es,$s,er,h,2,-0,0),c);break t}Fg(a,i,$e,hu,Ph,n,Sn,es,$s,er,h,0,-0,0)}}break}while(!0);Wn(t)}function Fg(t,n,i,a,c,h,p,E,S,P,q,F,k,z){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:ZE},zg(n),F=$E(),F!==null)){t.cancelPendingCommit=F(Wg.bind(null,t,n,h,i,a,c,p,E,S,q,1,k,z)),sr(t,h,p,!P);return}Wg(t,n,h,i,a,c,p,E,S)}function gE(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var c=i[a],h=c.getSnapshot;c=c.value;try{if(!sn(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,i,a){n&=~Lh,n&=~es,t.suspendedLanes|=n,t.pingedLanes&=~n,a&&(t.warmLanes|=n),a=t.expirationTimes;for(var c=n;0<c;){var h=31-Be(c),p=1<<h;a[h]=-1,c&=~p}i!==0&&kn(t,i,n)}function fu(){return(zt&6)===0?(El(0),!1):!0}function qh(){if(Rt!==null){if(Bt===0)var t=Rt.return;else t=Rt,Ti=Kr=null,sh(t),Ys=null,cl=0,t=Rt;for(;t!==null;)Rg(t.alternate,t),t=t.return;Rt=null}}function ea(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,VE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),qh(),Xt=t,Rt=i=_i(t.current,null),Ot=n,Bt=0,un=null,er=!1,Js=Cr(t,n),xh=!1,$s=Sn=Lh=es=nr=re=0,$e=_l=null,Ph=!1,(n&8)!==0&&(n|=n&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=n;0<a;){var c=31-Be(a),h=1<<c;n|=t[c],a&=~h}return Ni=n,Uo(),i}function Yg(t,n){Tt=null,j.H=Wo,n===el||n===Ho?(n=cm(),Bt=3):n===lm?(n=cm(),Bt=4):Bt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Rt===null&&(re=1,ru(t,_n(n,t.current)))}function Xg(){var t=j.H;return j.H=Wo,t===null?Wo:t}function Kg(){var t=j.A;return j.A=dE,t}function Hh(){re=4,er||(Ot&4194048)!==Ot&&An.current!==null||(Js=!0),(nr&134217727)===0&&(es&134217727)===0||Xt===null||sr(Xt,Ot,Sn,!1)}function Gh(t,n,i){var a=zt;zt|=2;var c=Xg(),h=Kg();(Xt!==t||Ot!==n)&&(hu=null,ea(t,n)),n=!1;var p=re;t:do try{if(Bt!==0&&Rt!==null){var E=Rt,S=un;switch(Bt){case 8:qh(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Bt;if(Bt=0,un=null,na(t,E,S,P),i&&Js){p=0;break t}break;default:P=Bt,Bt=0,un=null,na(t,E,S,P)}}pE(),p=re;break}catch(q){Yg(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ti=Kr=null,zt=a,j.H=c,j.A=h,Rt===null&&(Xt=null,Ot=0,Uo()),p}function pE(){for(;Rt!==null;)Zg(Rt)}function yE(t,n){var i=zt;zt|=2;var a=Xg(),c=Kg();Xt!==t||Ot!==n?(hu=null,cu=fn()+500,ea(t,n)):Js=Cr(t,n);t:do try{if(Bt!==0&&Rt!==null){n=Rt;var h=un;e:switch(Bt){case 1:Bt=0,un=null,na(t,n,h,1);break;case 2:case 9:if(om(h)){Bt=0,un=null,Jg(n);break}n=function(){Bt!==2&&Bt!==9||Xt!==t||(Bt=7),Wn(t)},h.then(n,n);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:om(h)?(Bt=0,un=null,Jg(n)):(Bt=0,un=null,na(t,n,h,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||Mp(p)){Bt=0,un=null;var S=E.sibling;if(S!==null)Rt=S;else{var P=E.return;P!==null?(Rt=P,du(P)):Rt=null}break e}}Bt=0,un=null,na(t,n,h,5);break;case 6:Bt=0,un=null,na(t,n,h,6);break;case 8:qh(),re=6;break t;default:throw Error(l(462))}}_E();break}catch(q){Yg(t,q)}while(!0);return Ti=Kr=null,j.H=a,j.A=c,zt=i,Rt!==null?0:(Xt=null,Ot=0,Uo(),re)}function _E(){for(;Rt!==null&&!ba();)Zg(Rt)}function Zg(t){var n=Sg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?du(t):Rt=n}function Jg(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=yg(i,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=yg(i,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:sh(n);default:Rg(i,n),n=Rt=$d(n,Ni),n=Sg(i,n,Ni)}t.memoizedProps=t.pendingProps,n===null?du(t):Rt=n}function na(t,n,i,a){Ti=Kr=null,sh(n),Ys=null,cl=0;var c=n.return;try{if(lE(t,c,n,i,Ot)){re=1,ru(t,_n(i,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;re=1,ru(t,_n(i,t.current)),Rt=null;return}n.flags&32768?(xt||a===1?t=!0:Js||(Ot&536870912)!==0?t=!1:(er=t=!0,(a===2||a===9||a===3||a===6)&&(a=An.current,a!==null&&a.tag===13&&(a.flags|=16384))),$g(n,t)):du(n)}function du(t){var n=t;do{if((n.flags&32768)!==0){$g(n,er);return}t=n.return;var i=uE(n.alternate,n,Ni);if(i!==null){Rt=i;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);re===0&&(re=5)}function $g(t,n){do{var i=cE(t.alternate,t);if(i!==null){i.flags&=32767,Rt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=i}while(t!==null);re=6,Rt=null}function Wg(t,n,i,a,c,h,p,E,S){t.cancelPendingCommit=null;do mu();while(Ue!==0);if((zt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(h=n.lanes|n.childLanes,h|=Uc,Ia(t,i,h,p,E,S),t===Xt&&(Rt=Xt=null,Ot=0),Ws=n,rr=t,ta=i,zh=h,Bh=c,Hg=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AE(Sr,function(){return rp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null,c=Q.p,Q.p=2,p=zt,zt|=4;try{hE(t,n,i)}finally{zt=p,Q.p=c,j.T=a}}Ue=1,tp(),ep(),np()}}function tp(){if(Ue===1){Ue=0;var t=rr,n=Ws,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var a=Q.p;Q.p=2;var c=zt;zt|=4;try{Lg(n,t);var h=nf,p=qd(t.containerInfo),E=h.focusedElem,S=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&jd(E.ownerDocument.documentElement,E)){if(S!==null&&Nc(E)){var P=S.start,q=S.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var z=k.getSelection(),ft=E.textContent.length,ut=Math.min(S.start,ft),Gt=S.end===void 0?ut:Math.min(S.end,ft);!z.extend&&ut>Gt&&(p=Gt,Gt=ut,ut=p);var M=Bd(E,ut),D=Bd(E,Gt);if(M&&D&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==D.node||z.focusOffset!==D.offset)){var x=F.createRange();x.setStart(M.node,M.offset),z.removeAllRanges(),ut>Gt?(z.addRange(x),z.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),z.addRange(x))}}}}for(F=[],z=E;z=z.parentNode;)z.nodeType===1&&F.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}wu=!!ef,nf=ef=null}finally{zt=c,Q.p=a,j.T=i}}t.current=n,Ue=2}}function ep(){if(Ue===2){Ue=0;var t=rr,n=Ws,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var a=Q.p;Q.p=2;var c=zt;zt|=4;try{Mg(t,n.alternate,n)}finally{zt=c,Q.p=a,j.T=i}}Ue=3}}function np(){if(Ue===4||Ue===3){Ue=0,oo();var t=rr,n=Ws,i=ta,a=Hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ws=rr=null,ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ir=null),vs(i),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ne,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=j.T,c=Q.p,Q.p=2,j.T=null;try{for(var h=t.onRecoverableError,p=0;p<a.length;p++){var E=a[p];h(E.value,{componentStack:E.stack})}}finally{j.T=n,Q.p=c}}(ta&3)!==0&&mu(),Wn(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===jh?vl++:(vl=0,jh=t):vl=0,El(0)}}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wa(n)))}function mu(t){return tp(),ep(),np(),rp()}function rp(){if(Ue!==5)return!1;var t=rr,n=zh;zh=0;var i=vs(ta),a=j.T,c=Q.p;try{Q.p=32>i?32:i,j.T=null,i=Bh,Bh=null;var h=rr,p=ta;if(Ue=0,Ws=rr=null,ta=0,(zt&6)!==0)throw Error(l(331));var E=zt;if(zt|=4,jg(h.current),kg(h,h.current,p,i),zt=E,El(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ne,h)}catch{}return!0}finally{Q.p=c,j.T=a,ip(t,n)}}function sp(t,n,i){n=_n(i,n),n=vh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(li(t,2),Wn(t))}function Ft(t,n,i){if(t.tag===3)sp(t,t,i);else for(;n!==null;){if(n.tag===3){sp(n,t,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ir===null||!ir.has(a))){t=_n(i,t),i=ug(2),a=Xi(n,i,2),a!==null&&(cg(i,a,n,t),li(a,2),Wn(a));break}}n=n.return}}function Qh(t,n,i){var a=t.pingCache;if(a===null){a=t.pingCache=new mE;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(xh=!0,c.add(i),t=vE.bind(null,t,n,i),n.then(t,t))}function vE(t,n,i){var a=t.pingCache;a!==null&&a.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Xt===t&&(Ot&i)===i&&(re===4||re===3&&(Ot&62914560)===Ot&&300>fn()-kh?(zt&2)===0&&ea(t,0):Lh|=i,$s===Ot&&($s=0)),Wn(t)}function ap(t,n){n===0&&(n=Na()),t=Ps(t,n),t!==null&&(li(t,n),Wn(t))}function EE(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),ap(t,i)}function TE(t,n){var i=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(n),ap(t,i)}function AE(t,n){return Tr(t,n)}var gu=null,ia=null,Fh=!1,pu=!1,Yh=!1,ns=0;function Wn(t){t!==ia&&t.next===null&&(ia===null?gu=ia=t:ia=ia.next=t),pu=!0,Fh||(Fh=!0,bE())}function El(t,n){if(!Yh&&pu){Yh=!0;do for(var i=!1,a=gu;a!==null;){if(t!==0){var c=a.pendingLanes;if(c===0)var h=0;else{var p=a.suspendedLanes,E=a.pingedLanes;h=(1<<31-Be(42|t)+1)-1,h&=c&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,cp(a,h))}else h=Ot,h=_s(a,a===Xt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||Cr(a,h)||(i=!0,cp(a,h));a=a.next}while(i);Yh=!1}}function SE(){lp()}function lp(){pu=Fh=!1;var t=0;ns!==0&&(ME()&&(t=ns),ns=0);for(var n=fn(),i=null,a=gu;a!==null;){var c=a.next,h=op(a,n);h===0?(a.next=null,i===null?gu=c:i.next=c,c===null&&(ia=i)):(i=a,(t!==0||(h&3)!==0)&&(pu=!0)),a=c}El(t)}function op(t,n){for(var i=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Be(h),E=1<<p,S=c[p];S===-1?((E&i)===0||(E&a)!==0)&&(c[p]=Ca(E,n)):S<=n&&(t.expiredLanes|=E),h&=~E}if(n=Xt,i=Ot,i=_s(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===n&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Ar(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Cr(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(a!==null&&Ar(a),vs(i)){case 2:case 8:i=ps;break;case 32:i=Sr;break;case 268435456:i=ys;break;default:i=Sr}return a=up.bind(null,t),i=Tr(i,a),t.callbackPriority=n,t.callbackNode=i,n}return a!==null&&a!==null&&Ar(a),t.callbackPriority=2,t.callbackNode=null,2}function up(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(mu()&&t.callbackNode!==i)return null;var a=Ot;return a=_s(t,t===Xt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Qg(t,a,n),op(t,fn()),t.callbackNode!=null&&t.callbackNode===i?up.bind(null,t):null)}function cp(t,n){if(mu())return null;Qg(t,n,!0)}function bE(){UE(function(){(zt&6)!==0?Tr(Ra,SE):lp()})}function Xh(){return ns===0&&(ns=Da()),ns}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rs(""+t)}function fp(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function RE(t,n,i,a,c){if(n==="submit"&&i&&i.stateNode===c){var h=hp((c[he]||null).action),p=a.submitter;p&&(n=(n=p[he]||null)?hp(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var E=new ws("action","action",null,a,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ns!==0){var S=p?fp(c,p):new FormData(c);mh(i,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(E.preventDefault(),S=p?fp(c,p):new FormData(c),mh(i,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Kh=0;Kh<Vc.length;Kh++){var Zh=Vc[Kh],wE=Zh.toLowerCase(),CE=Zh[0].toUpperCase()+Zh.slice(1);Dn(wE,"on"+CE)}Dn(Qd,"onAnimationEnd"),Dn(Fd,"onAnimationIteration"),Dn(Yd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Gv,"onTransitionRun"),Dn(Qv,"onTransitionStart"),Dn(Fv,"onTransitionCancel"),Dn(Xd,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function dp(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],c=a.event;a=a.listeners;t:{var h=void 0;if(n)for(var p=a.length-1;0<=p;p--){var E=a[p],S=E.instance,P=E.currentTarget;if(E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(q){iu(q)}c.currentTarget=null,h=S}else for(p=0;p<a.length;p++){if(E=a[p],S=E.instance,P=E.currentTarget,E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(q){iu(q)}c.currentTarget=null,h=S}}}}function wt(t,n){var i=n[Ma];i===void 0&&(i=n[Ma]=new Set);var a=t+"__bubble";i.has(a)||(mp(n,t,2,!1),i.add(a))}function Jh(t,n,i){var a=0;n&&(a|=4),mp(i,t,a,n)}var yu="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[yu]){t[yu]=!0,Va.forEach(function(i){i!=="selectionchange"&&(DE.has(i)||Jh(i,!1,t),Jh(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yu]||(n[yu]=!0,Jh("selectionchange",!1,n))}}function mp(t,n,i,a){switch(kp(n)){case 2:var c=e0;break;case 8:c=n0;break;default:c=df}i=c.bind(null,n,i,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(n,i,{capture:!0,passive:c}):t.addEventListener(n,i,!0):c!==void 0?t.addEventListener(n,i,{passive:c}):t.addEventListener(n,i,!1)}function Wh(t,n,i,a,c){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)t:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var E=a.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){a=h=p;continue t}E=E.parentNode}}a=a.return}vo(function(){var P=h,q=gn(i),F=[];t:{var k=Kd.get(t);if(k!==void 0){var z=ws,ft=t;switch(t){case"keypress":if(Gn(i)===0)break t;case"keydown":case"keyup":z=Ms;break;case"focusin":ft="focus",z=Ns;break;case"focusout":ft="blur",z=Ns;break;case"beforeblur":case"afterblur":z=Ns;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Co;break;case Qd:case Fd:case Yd:z=Is;break;case Xd:z=No;break;case"scroll":case"scrollend":z=Eo;break;case"wheel":z=Vs;break;case"copy":case"cut":case"paste":z=Os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Qa;break;case"toggle":case"beforetoggle":z=Oo}var ut=(n&4)!==0,Gt=!ut&&(t==="scroll"||t==="scrollend"),M=ut?k!==null?k+"Capture":null:k;ut=[];for(var D=P,x;D!==null;){var G=D;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||M===null||(G=xr(D,M),G!=null&&ut.push(Al(D,G,x))),Gt)break;D=D.return}0<ut.length&&(k=new z(k,ft,null,i,q),F.push({event:k,listeners:ut}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",k&&i!==fi&&(ft=i.relatedTarget||i.fromElement)&&(oi(ft)||ft[dn]))break t;if((z||k)&&(k=q.window===q?q:(k=q.ownerDocument)?k.defaultView||k.parentWindow:window,z?(ft=i.relatedTarget||i.toElement,z=P,ft=ft?oi(ft):null,ft!==null&&(Gt=f(ft),ut=ft.tag,ft!==Gt||ut!==5&&ut!==27&&ut!==6)&&(ft=null)):(z=null,ft=P),z!==ft)){if(ut=yn,G="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ut=Qa,G="onPointerLeave",M="onPointerEnter",D="pointer"),Gt=z==null?k:Bn(z),x=ft==null?k:Bn(ft),k=new ut(G,D+"leave",z,i,q),k.target=Gt,k.relatedTarget=x,G=null,oi(q)===P&&(ut=new ut(M,D+"enter",ft,i,q),ut.target=x,ut.relatedTarget=Gt,G=ut),Gt=G,z&&ft)e:{for(ut=z,M=ft,D=0,x=ut;x;x=ra(x))D++;for(x=0,G=M;G;G=ra(G))x++;for(;0<D-x;)ut=ra(ut),D--;for(;0<x-D;)M=ra(M),x--;for(;D--;){if(ut===M||M!==null&&ut===M.alternate)break e;ut=ra(ut),M=ra(M)}ut=null}else ut=null;z!==null&&gp(F,k,z,ut,!1),ft!==null&&Gt!==null&&gp(F,Gt,ft,ut,!0)}}t:{if(k=P?Bn(P):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var it=Ud;else if(Ee(k))if(xd)it=jv;else{it=zv;var bt=kv}else z=k.nodeName,!z||z.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&ka(P.elementType)&&(it=Ud):it=Bv;if(it&&(it=it(t,P))){yi(F,it,i,q);break t}bt&&bt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&Hi(k,"number",k.value)}switch(bt=P?Bn(P):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(Us=bt,Ic=P,Xa=null);break;case"focusout":Xa=Ic=Us=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Hd(F,i,q);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Hd(F,i,q)}var at;if(Yn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Nt?B(t,i)&&(ht="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ht="onCompositionStart");ht&&(g&&i.locale!=="ko"&&(Nt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Nt&&(at=Ba()):(Hn=q,Gi="value"in Hn?Hn.value:Hn.textContent,Nt=!0)),bt=_u(P,ht),0<bt.length&&(ht=new Ha(ht,t,null,i,q),F.push({event:ht,listeners:bt}),at?ht.data=at:(at=$(i),at!==null&&(ht.data=at)))),(at=d?ve(t,i):It(t,i))&&(ht=_u(P,"onBeforeInput"),0<ht.length&&(bt=new Ha("onBeforeInput","beforeinput",null,i,q),F.push({event:bt,listeners:ht}),bt.data=at)),RE(F,t,P,i,q)}dp(F,n)})}function Al(t,n,i){return{instance:t,listener:n,currentTarget:i}}function _u(t,n){for(var i=n+"Capture",a=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=xr(t,i),c!=null&&a.unshift(Al(t,c,h)),c=xr(t,n),c!=null&&a.push(Al(t,c,h))),t.tag===3)return a;t=t.return}return[]}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,n,i,a,c){for(var h=n._reactName,p=[];i!==null&&i!==a;){var E=i,S=E.alternate,P=E.stateNode;if(E=E.tag,S!==null&&S===a)break;E!==5&&E!==26&&E!==27||P===null||(S=P,c?(P=xr(i,h),P!=null&&p.unshift(Al(i,P,S))):c||(P=xr(i,h),P!=null&&p.push(Al(i,P,S)))),i=i.return}p.length!==0&&t.push({event:n,listeners:p})}var NE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(IE,"")}function yp(t,n){return n=pp(n),pp(t)===n}function vu(){}function Ht(t,n,i,a,c,h){switch(i){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||mn(t,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&mn(t,""+a);break;case"className":jn(t,"class",a);break;case"tabIndex":jn(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,i,a);break;case"style":Pa(t,a,h);break;case"data":if(n!=="object"){jn(t,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Rs(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&Ht(t,n,"name",c.name,c,null),Ht(t,n,"formEncType",c.formEncType,c,null),Ht(t,n,"formMethod",c.formMethod,c,null),Ht(t,n,"formTarget",c.formTarget,c,null)):(Ht(t,n,"encType",c.encType,c,null),Ht(t,n,"method",c.method,c,null),Ht(t,n,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Rs(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=vu);break;case"onScroll":a!=null&&wt("scroll",t);break;case"onScrollEnd":a!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=Rs(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":wt("beforetoggle",t),wt("toggle",t),qi(t,"popover",a);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":qi(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Sc.get(i)||i,qi(t,i,a))}}function tf(t,n,i,a,c,h){switch(i){case"style":Pa(t,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof a=="string"?mn(t,a):(typeof a=="number"||typeof a=="bigint")&&mn(t,""+a);break;case"onScroll":a!=null&&wt("scroll",t);break;case"onScrollEnd":a!=null&&wt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=t[he]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof a=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,a,c);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):qi(t,i,a)}}}function xe(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var a=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ht(t,n,h,p,i,null)}}c&&Ht(t,n,"srcSet",i.srcSet,i,null),a&&Ht(t,n,"src",i.src,i,null);return;case"input":wt("invalid",t);var E=h=p=c=null,S=null,P=null;for(a in i)if(i.hasOwnProperty(a)){var q=i[a];if(q!=null)switch(a){case"name":c=q;break;case"type":p=q;break;case"checked":S=q;break;case"defaultChecked":P=q;break;case"value":h=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,n));break;default:Ht(t,n,a,q,i,null)}}Mr(t,h,E,S,P,p,c,!1),bs(t);return;case"select":wt("invalid",t),a=p=h=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":a=E;default:Ht(t,n,c,E,i,null)}n=h,i=p,t.multiple=!!a,n!=null?hi(t,!!a,n,!1):i!=null&&hi(t,!!a,i,!0);return;case"textarea":wt("invalid",t),h=c=a=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":a=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Ht(t,n,p,E,i,null)}Vr(t,a,c,h),bs(t);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(a=i[S],a!=null))switch(S){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ht(t,n,S,a,i,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(a=0;a<Tl.length;a++)wt(Tl[a],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(a=i[P],a!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ht(t,n,P,a,i,null)}return;default:if(ka(n)){for(q in i)i.hasOwnProperty(q)&&(a=i[q],a!==void 0&&tf(t,n,q,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&Ht(t,n,E,a,i,null))}function OE(t,n,i,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,E=null,S=null,P=null,q=null;for(z in i){var F=i[z];if(i.hasOwnProperty(z)&&F!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":S=F;default:a.hasOwnProperty(z)||Ht(t,n,z,null,a,F)}}for(var k in a){var z=a[k];if(F=i[k],a.hasOwnProperty(k)&&(z!=null||F!=null))switch(k){case"type":h=z;break;case"name":c=z;break;case"checked":P=z;break;case"defaultChecked":q=z;break;case"value":p=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,n));break;default:z!==F&&Ht(t,n,k,z,a,F)}}rn(t,p,E,S,P,q,h,c);return;case"select":z=p=E=k=null;for(h in i)if(S=i[h],i.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":z=S;default:a.hasOwnProperty(h)||Ht(t,n,h,null,a,S)}for(c in a)if(h=a[c],S=i[c],a.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==S&&Ht(t,n,c,h,a,S)}n=E,i=p,a=z,k!=null?hi(t,!!i,k,!1):!!a!=!!i&&(n!=null?hi(t,!!i,n,!0):hi(t,!!i,i?[]:"",!1));return;case"textarea":z=k=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ht(t,n,E,null,a,c)}for(p in a)if(c=a[p],h=i[p],a.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":k=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&Ht(t,n,p,c,a,h)}jt(t,k,z);return;case"option":for(var ft in i)if(k=i[ft],i.hasOwnProperty(ft)&&k!=null&&!a.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Ht(t,n,ft,null,a,k)}for(S in a)if(k=a[S],z=i[S],a.hasOwnProperty(S)&&k!==z&&(k!=null||z!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ht(t,n,S,k,a,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in i)k=i[ut],i.hasOwnProperty(ut)&&k!=null&&!a.hasOwnProperty(ut)&&Ht(t,n,ut,null,a,k);for(P in a)if(k=a[P],z=i[P],a.hasOwnProperty(P)&&k!==z&&(k!=null||z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,n));break;default:Ht(t,n,P,k,a,z)}return;default:if(ka(n)){for(var Gt in i)k=i[Gt],i.hasOwnProperty(Gt)&&k!==void 0&&!a.hasOwnProperty(Gt)&&tf(t,n,Gt,void 0,a,k);for(q in a)k=a[q],z=i[q],!a.hasOwnProperty(q)||k===z||k===void 0&&z===void 0||tf(t,n,q,k,a,z);return}}for(var M in i)k=i[M],i.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&Ht(t,n,M,null,a,k);for(F in a)k=a[F],z=i[F],!a.hasOwnProperty(F)||k===z||k==null&&z==null||Ht(t,n,F,k,a,z)}var ef=null,nf=null;function Eu(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function ME(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(xE)}:Ep;function xE(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Ap(t,n){var i=n,a=0,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<a&&8>a){i=a;var p=t.ownerDocument;if(i&1&&Sl(p.documentElement),i&2&&Sl(p.body),i&4)for(i=p.head,Sl(i),p=i.firstChild;p;){var E=p.nextSibling,S=p.nodeName;p[Dr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(c===0){t.removeChild(h),Ol(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:a=i.charCodeAt(0)-48;else a=0;i=h}while(i);Ol(n)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":af(i),ji(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function LE(t,n,i,a){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Dr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function PE(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=In(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kE(t,n){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")n();else{var a=function(){n(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var of=null;function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,i){switch(n=Eu(i),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var bn=new Map,Rp=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=Q.d;Q.d={f:zE,r:BE,D:jE,C:qE,L:HE,m:GE,X:FE,S:QE,M:YE};function zE(){var t=Ii.f(),n=fu();return t||n}function BE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):Ii.r(t)}var sa=typeof document>"u"?null:document;function wp(t,n,i){var a=sa;if(a&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:i,href:n},a.querySelector(c)===null&&(n=a.createElement("link"),xe(n,"link",t),le(n),a.head.appendChild(n)))}}function jE(t){Ii.D(t),wp("dns-prefetch",t,null)}function qE(t,n){Ii.C(t,n),wp("preconnect",t,n)}function HE(t,n,i){Ii.L(t,n,i);var a=sa;if(a&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+fe(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+fe(i.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var h=c;switch(n){case"style":h=aa(t);break;case"script":h=la(t)}bn.has(h)||(t=w({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),bn.set(h,t),a.querySelector(c)!==null||n==="style"&&a.querySelector(bl(h))||n==="script"&&a.querySelector(Rl(h))||(n=a.createElement("link"),xe(n,"link",t),le(n),a.head.appendChild(n)))}}function GE(t,n){Ii.m(t,n);var i=sa;if(i&&t){var a=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(a)+'"][href="'+fe(t)+'"]',h=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=la(t)}if(!bn.has(h)&&(t=w({rel:"modulepreload",href:t},n),bn.set(h,t),i.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Rl(h)))return}a=i.createElement("link"),xe(a,"link",t),le(a),i.head.appendChild(a)}}}function QE(t,n,i){Ii.S(t,n,i);var a=sa;if(a&&t){var c=Fe(a).hoistableStyles,h=aa(t);n=n||"default";var p=c.get(h);if(!p){var E={loading:0,preload:null};if(p=a.querySelector(bl(h)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},i),(i=bn.get(h))&&uf(t,i);var S=p=a.createElement("link");le(S),xe(S,"link",t),S._p=new Promise(function(P,q){S.onload=P,S.onerror=q}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Au(p,n,a)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(h,p)}}}function FE(t,n){Ii.X(t,n);var i=sa;if(i&&t){var a=Fe(i).hoistableScripts,c=la(t),h=a.get(c);h||(h=i.querySelector(Rl(c)),h||(t=w({src:t,async:!0},n),(n=bn.get(c))&&cf(t,n),h=i.createElement("script"),le(h),xe(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(c,h))}}function YE(t,n){Ii.M(t,n);var i=sa;if(i&&t){var a=Fe(i).hoistableScripts,c=la(t),h=a.get(c);h||(h=i.querySelector(Rl(c)),h||(t=w({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&cf(t,n),h=i.createElement("script"),le(h),xe(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(c,h))}}function Cp(t,n,i,a){var c=(c=dt.current)?Tu(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=aa(i.href),i=Fe(c).hoistableStyles,a=i.get(n),a||(a={type:"style",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=aa(i.href);var h=Fe(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(bl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),bn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},bn.set(t,i),h||XE(c,t,i,p.state))),n&&a===null)throw Error(l(528,""));return p}if(n&&a!==null)throw Error(l(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=la(i),i=Fe(c).hoistableScripts,a=i.get(n),a||(a={type:"script",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function aa(t){return'href="'+fe(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function XE(t,n,i,a){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=t.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),xe(n,"link",i),le(n),t.head.appendChild(n))}function la(t){return'[src="'+fe(t)+'"]'}function Rl(t){return"script[async]"+t}function Np(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var a=t.querySelector('style[data-href~="'+fe(i.href)+'"]');if(a)return n.instance=a,le(a),a;var c=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),le(a),xe(a,"style",c),Au(a,i.precedence,t),n.instance=a;case"stylesheet":c=aa(i.href);var h=t.querySelector(bl(c));if(h)return n.state.loading|=4,n.instance=h,le(h),h;a=Dp(i),(c=bn.get(c))&&uf(a,c),h=(t.ownerDocument||t).createElement("link"),le(h);var p=h;return p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(h,"link",a),n.state.loading|=4,Au(h,i.precedence,t),n.instance=h;case"script":return h=la(i.src),(c=t.querySelector(Rl(h)))?(n.instance=c,le(c),c):(a=i,(c=bn.get(h))&&(a=w({},i),cf(a,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),xe(c,"link",a),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Au(a,i.precedence,t));return n.instance}function Au(t,n,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,h=c,p=0;p<a.length;p++){var E=a[p];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Ip(t,n,i){if(Su===null){var a=new Map,c=Su=new Map;c.set(i,a)}else c=Su,a=c.get(i),a||(a=new Map,c.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[Dr]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=t+p;var E=a.get(p);E?E.push(h):a.set(p,[h])}}return a}function Op(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function ZE(){}function JE(t,n,i){if(wl===null)throw Error(l(475));var a=wl;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=aa(i.href),h=t.querySelector(bl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=bu.bind(a),t.then(a,a)),n.state.loading|=4,n.instance=h,le(h);return}h=t.ownerDocument||t,i=Dp(i),(c=bn.get(c))&&uf(i,c),h=h.createElement("link"),le(h);var p=h;p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(h,"link",i),n.instance=h}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(a.count++,n=bu.bind(a),t.addEventListener("load",n),t.addEventListener("error",n))}}function $E(){if(wl===null)throw Error(l(475));var t=wl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var i=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ru=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ru=new Map,n.forEach(WE,t),Ru=null,bu.call(t))}function WE(t,n){if(!(n.state.loading&4)){var i=Ru.get(t);if(i)var a=i.get(null);else{i=new Map,Ru.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),a=p)}a&&i.set(null,a)}c=n.instance,p=c.getAttribute("data-precedence"),h=i.get(p)||a,h===a&&i.set(null,c),i.set(p,c),this.count++,a=bu.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function t0(t,n,i,a,c,h,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Vp(t,n,i,a,c,h,p,E,S,P,q,F){return t=new t0(t,n,i,p,E,S,P,F),n=1,h===!0&&(n|=24),h=an(3,null,null,n),t.current=h,h.stateNode=t,n=Qc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:a,isDehydrated:i,cache:n},Kc(h),t}function Up(t){return t?(t=ks,t):ks}function xp(t,n,i,a,c,h){c=Up(c),a.context===null?a.context=c:a.pendingContext=c,a=Yi(n),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=Xi(t,a,n),i!==null&&(hn(i,t,n),il(i,t,n))}function Lp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function ff(t,n){Lp(t,n),(t=t.alternate)&&Lp(t,n)}function Pp(t){if(t.tag===13){var n=Ps(t,67108864);n!==null&&hn(n,t,67108864),ff(t,67108864)}}var wu=!0;function e0(t,n,i,a){var c=j.T;j.T=null;var h=Q.p;try{Q.p=2,df(t,n,i,a)}finally{Q.p=h,j.T=c}}function n0(t,n,i,a){var c=j.T;j.T=null;var h=Q.p;try{Q.p=8,df(t,n,i,a)}finally{Q.p=h,j.T=c}}function df(t,n,i,a){if(wu){var c=mf(a);if(c===null)Wh(t,n,a,Cu,i),zp(t,a);else if(r0(c,t,n,i,a))a.stopPropagation();else if(zp(t,a),n&4&&-1<i0.indexOf(t)){for(;c!==null;){var h=zn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Rn(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var S=1<<31-Be(p);E.entanglements[1]|=S,p&=~S}Wn(h),(zt&6)===0&&(cu=fn()+500,El(0))}}break;case 13:E=Ps(h,2),E!==null&&hn(E,h,2),fu(),ff(h,2)}if(h=mf(a),h===null&&Wh(t,n,a,Cu,i),h===c)break;c=h}c!==null&&a.stopPropagation()}else Wh(t,n,a,null,i)}}function mf(t){return t=gn(t),gf(t)}var Cu=null;function gf(t){if(Cu=null,t=oi(t),t!==null){var n=f(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=m(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function kp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case Ra:return 2;case ps:return 8;case Sr:case _c:return 32;case ys:return 268435456;default:return 32}default:return 32}}var pf=!1,lr=null,or=null,ur=null,Dl=new Map,Nl=new Map,cr=[],i0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Il(t,n,i,a,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Pp(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function r0(t,n,i,a,c){switch(n){case"focusin":return lr=Il(lr,t,n,i,a,c),!0;case"dragenter":return or=Il(or,t,n,i,a,c),!0;case"mouseover":return ur=Il(ur,t,n,i,a,c),!0;case"pointerover":var h=c.pointerId;return Dl.set(h,Il(Dl.get(h)||null,t,n,i,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Nl.set(h,Il(Nl.get(h)||null,t,n,i,a,c)),!0}return!1}function Bp(t){var n=oi(t.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=m(i),n!==null){t.blockedOn=n,ho(t.priority,function(){if(i.tag===13){var a=cn();a=ki(a);var c=Ps(i,a);c!==null&&hn(c,i,a),ff(i,a)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=mf(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);fi=a,i.target.dispatchEvent(a),fi=null}else return n=zn(i),n!==null&&Pp(n),t.blockedOn=i,!1;n.shift()}return!0}function jp(t,n,i){Du(t)&&i.delete(n)}function s0(){pf=!1,lr!==null&&Du(lr)&&(lr=null),or!==null&&Du(or)&&(or=null),ur!==null&&Du(ur)&&(ur=null),Dl.forEach(jp),Nl.forEach(jp)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,s0)))}var Iu=null;function qp(t){Iu!==t&&(Iu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var n=0;n<t.length;n+=3){var i=t[n],a=t[n+1],c=t[n+2];if(typeof a!="function"){if(gf(a||i)===null)continue;break}var h=zn(i);h!==null&&(t.splice(n,3),n-=3,mh(h,{pending:!0,data:c,method:i.method,action:a},a,c))}}))}function Ol(t){function n(S){return Nu(S,t)}lr!==null&&Nu(lr,t),or!==null&&Nu(or,t),ur!==null&&Nu(ur,t),Dl.forEach(n),Nl.forEach(n);for(var i=0;i<cr.length;i++){var a=cr[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<cr.length&&(i=cr[0],i.blockedOn===null);)Bp(i),i.blockedOn===null&&cr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],p=c[he]||null;if(typeof h=="function")p||qp(i);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[he]||null)E=p.formAction;else if(gf(c)!==null)continue}else E=p.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),qp(i)}}}function yf(t){this._internalRoot=t}Ou.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var i=n.current,a=cn();xp(i,a,t,n,null,null)},Ou.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xp(t.current,2,null,t,null,null),fu(),n[dn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var i=0;i<cr.length&&n!==0&&n<cr[i].priority;i++);cr.splice(i,0,t),i===0&&Bp(t)}};var Hp=e.version;if(Hp!=="19.1.1")throw Error(l(527,Hp,"19.1.1"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var a0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{ne=Mu.inject(a0),kt=Mu}catch{}}return Vl.createRoot=function(t,n){if(!u(t))throw Error(l(299));var i=!1,a="",c=sg,h=ag,p=lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Vp(t,1,!1,null,null,i,a,c,h,p,E,null),t[dn]=n.current,$h(t),new yf(n)},Vl.hydrateRoot=function(t,n,i){if(!u(t))throw Error(l(299));var a=!1,c="",h=sg,p=ag,E=lg,S=null,P=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(P=i.formState)),n=Vp(t,1,!0,n,i??null,a,c,h,p,E,S,P),n.context=Up(null),i=n.current,a=cn(),a=ki(a),c=Yi(a),c.callback=null,Xi(i,c,a),i=a,n.current.lanes=i,li(n,i),Wn(n),t[dn]=n.current,$h(t),new Ou(n)},Vl.version="19.1.1",Vl}var Wp;function y0(){if(Wp)return Ef.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=p0(),Ef.exports}var _0=y0();const v0=u_(_0),E0=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(s){const e=[];let r=0;for(let l=0;l<s.length;l++){let u=s.charCodeAt(l);u<128?e[r++]=u:u<2048?(e[r++]=u>>6|192,e[r++]=u&63|128):(u&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++l)&1023),e[r++]=u>>18|240,e[r++]=u>>12&63|128,e[r++]=u>>6&63|128,e[r++]=u&63|128):(e[r++]=u>>12|224,e[r++]=u>>6&63|128,e[r++]=u&63|128)}return e},T0=function(s){const e=[];let r=0,l=0;for(;r<s.length;){const u=s[r++];if(u<128)e[l++]=String.fromCharCode(u);else if(u>191&&u<224){const f=s[r++];e[l++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=s[r++],m=s[r++],y=s[r++],v=((u&7)<<18|(f&63)<<12|(m&63)<<6|y&63)-65536;e[l++]=String.fromCharCode(55296+(v>>10)),e[l++]=String.fromCharCode(56320+(v&1023))}else{const f=s[r++],m=s[r++];e[l++]=String.fromCharCode((u&15)<<12|(f&63)<<6|m&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<s.length;u+=3){const f=s[u],m=u+1<s.length,y=m?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,w=f>>2,L=(f&3)<<4|y>>4;let H=(y&15)<<2|_>>6,W=_&63;v||(W=64,m||(H=64)),l.push(r[w],r[L],r[H],r[W])}return l.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(c_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):T0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<s.length;){const f=r[s.charAt(u++)],y=u<s.length?r[s.charAt(u)]:0;++u;const _=u<s.length?r[s.charAt(u)]:64;++u;const L=u<s.length?r[s.charAt(u)]:64;if(++u,f==null||y==null||_==null||L==null)throw new A0;const H=f<<2|y>>4;if(l.push(H),_!==64){const W=y<<4&240|_>>2;if(l.push(W),L!==64){const Y=_<<6&192|L;l.push(Y)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class A0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S0=function(s){const e=c_(s);return h_.encodeByteArray(e,!0)},f_=function(s){return S0(s).replace(/\./g,"")},d_=function(s){try{return h_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=()=>b0().__FIREBASE_DEFAULTS__,w0=()=>{if(typeof process>"u"||typeof ty>"u")return;const s=ty.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},C0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&d_(s[1]);return e&&JSON.parse(e)},m_=()=>{try{return E0()||R0()||w0()||C0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},D0=s=>m_()?.[`_${s}`];/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function I0(){const s=m_()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function V0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U0(){return!I0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function L0(){return new Promise((s,e)=>{try{let r=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(l),s(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="FirebaseError";class Li extends Error{constructor(e,r,l){super(r),this.code=e,this.customData=l,this.name=P0,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,r,l){this.service=e,this.serviceName=r,this.errors=l}create(e,...r){const l=r[0]||{},u=`${this.service}/${e}`,f=this.errors[e],m=f?k0(f,l):"Error",y=`${this.serviceName}: ${m} (${u}).`;return new Li(u,y,l)}}function k0(s,e){return s.replace(z0,(r,l)=>{const u=e[l];return u!=null?String(u):`<${l}?>`})}const z0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(s){const e=[];for(const[r,l]of Object.entries(s))Array.isArray(l)?l.forEach(u=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(l));return e.length?"&"+e.join("&"):""}function xl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(l=>{if(l){const[u,f]=l.split("=");e[decodeURIComponent(u)]=decodeURIComponent(f)}}),e}function Ll(s){const e=s.indexOf("?");if(!e)return"";const r=s.indexOf("#",e);return s.substring(e,r>0?r:void 0)}function B0(s,e){const r=new j0(s,e);return r.subscribe.bind(r)}class j0{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(l=>{this.error(l)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,l){let u;if(e===void 0&&r===void 0&&l===void 0)throw new Error("Missing Observer.");q0(e,["next","error","complete"])?u=e:u={next:e,error:r,complete:l},u.next===void 0&&(u.next=bf),u.error===void 0&&(u.error=bf),u.complete===void 0&&(u.complete=bf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),f}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q0(s,e){if(typeof s!="object"||s===null)return!1;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(s){return s&&s._delegate?s._delegate:s}class ma{constructor(e,r,l){this.name=e,this.instanceFactory=r,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const H0={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},G0=Dt.INFO,Q0={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},F0=(s,e,...r)=>{if(e<s.logLevel)return;const l=new Date().toISOString(),u=Q0[e];if(u)console[u](`[${l}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class id{constructor(e){this.name=e,this._logLevel=G0,this._logHandler=F0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const Y0=(s,e)=>e.some(r=>s instanceof r);let ey,ny;function X0(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K0(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p_=new WeakMap,xf=new WeakMap,y_=new WeakMap,Rf=new WeakMap,rd=new WeakMap;function Z0(s){const e=new Promise((r,l)=>{const u=()=>{s.removeEventListener("success",f),s.removeEventListener("error",m)},f=()=>{r(mr(s.result)),u()},m=()=>{l(s.error),u()};s.addEventListener("success",f),s.addEventListener("error",m)});return e.then(r=>{r instanceof IDBCursor&&p_.set(r,s)}).catch(()=>{}),rd.set(e,s),e}function J0(s){if(xf.has(s))return;const e=new Promise((r,l)=>{const u=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",m),s.removeEventListener("abort",m)},f=()=>{r(),u()},m=()=>{l(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",f),s.addEventListener("error",m),s.addEventListener("abort",m)});xf.set(s,e)}let Lf={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return xf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||y_.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mr(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $0(s){Lf=s(Lf)}function W0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const l=s.call(wf(this),e,...r);return y_.set(l,e.sort?e.sort():[e]),mr(l)}:K0().includes(s)?function(...e){return s.apply(wf(this),e),mr(p_.get(this))}:function(...e){return mr(s.apply(wf(this),e))}}function tT(s){return typeof s=="function"?W0(s):(s instanceof IDBTransaction&&J0(s),Y0(s,X0())?new Proxy(s,Lf):s)}function mr(s){if(s instanceof IDBRequest)return Z0(s);if(Rf.has(s))return Rf.get(s);const e=tT(s);return e!==s&&(Rf.set(s,e),rd.set(e,s)),e}const wf=s=>rd.get(s);function eT(s,e,{blocked:r,upgrade:l,blocking:u,terminated:f}={}){const m=indexedDB.open(s,e),y=mr(m);return l&&m.addEventListener("upgradeneeded",v=>{l(mr(m.result),v.oldVersion,v.newVersion,mr(m.transaction),v)}),r&&m.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const nT=["get","getKey","getAll","getAllKeys","count"],iT=["put","add","delete","clear"],Cf=new Map;function iy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const r=e.replace(/FromIndex$/,""),l=e!==r,u=iT.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(u||nT.includes(r)))return;const f=async function(m,...y){const v=this.transaction(m,u?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(y.shift())),(await Promise.all([_[r](...y),u&&v.done]))[0]};return Cf.set(e,f),f}$0(s=>({...s,get:(e,r,l)=>iy(e,r)||s.get(e,r,l),has:(e,r)=>!!iy(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sT(r)){const l=r.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(r=>r).join(" ")}}function sT(s){return s.getComponent()?.type==="VERSION"}const Pf="@firebase/app",ry="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new id("@firebase/app"),aT="@firebase/app-compat",lT="@firebase/analytics-compat",oT="@firebase/analytics",uT="@firebase/app-check-compat",cT="@firebase/app-check",hT="@firebase/auth",fT="@firebase/auth-compat",dT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",pT="@firebase/functions",yT="@firebase/functions-compat",_T="@firebase/installations",vT="@firebase/installations-compat",ET="@firebase/messaging",TT="@firebase/messaging-compat",AT="@firebase/performance",ST="@firebase/performance-compat",bT="@firebase/remote-config",RT="@firebase/remote-config-compat",wT="@firebase/storage",CT="@firebase/storage-compat",DT="@firebase/firestore",NT="@firebase/ai",IT="@firebase/firestore-compat",OT="firebase",MT="12.2.0",VT={[Pf]:"fire-core",[aT]:"fire-core-compat",[oT]:"fire-analytics",[lT]:"fire-analytics-compat",[cT]:"fire-app-check",[uT]:"fire-app-check-compat",[hT]:"fire-auth",[fT]:"fire-auth-compat",[dT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[pT]:"fire-fn",[yT]:"fire-fn-compat",[_T]:"fire-iid",[vT]:"fire-iid-compat",[ET]:"fire-fcm",[TT]:"fire-fcm-compat",[AT]:"fire-perf",[ST]:"fire-perf-compat",[bT]:"fire-rc",[RT]:"fire-rc-compat",[wT]:"fire-gcs",[CT]:"fire-gcs-compat",[DT]:"fire-fst",[IT]:"fire-fst-compat",[NT]:"fire-vertex","fire-js":"fire-js",[OT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map,xT=new Map,sy=new Map;function ay(s,e){try{s.container.addComponent(e)}catch(r){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function ga(s){const e=s.name;if(sy.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,s);for(const r of UT.values())ay(r,s);for(const r of xT.values())ay(r,s);return!0}function ei(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sd=new Wl("app","Firebase",LT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=MT;function gr(s,e,r){let l=VT[s]??s;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(m.join(" "));return}ga(new ma(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",kT=1,Gl="firebase-heartbeat-store";let Df=null;function __(){return Df||(Df=eT(PT,kT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(r){console.warn(r)}}}}).catch(s=>{throw sd.create("idb-open",{originalErrorMessage:s.message})})),Df}async function zT(s){try{const r=(await __()).transaction(Gl),l=await r.objectStore(Gl).get(v_(s));return await r.done,l}catch(e){if(e instanceof Li)xi.warn(e.message);else{const r=sd.create("idb-get",{originalErrorMessage:e?.message});xi.warn(r.message)}}}async function ly(s,e){try{const l=(await __()).transaction(Gl,"readwrite");await l.objectStore(Gl).put(e,v_(s)),await l.done}catch(r){if(r instanceof Li)xi.warn(r.message);else{const l=sd.create("idb-set",{originalErrorMessage:r?.message});xi.warn(l.message)}}}function v_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=1024,jT=30;class qT{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new GT(r),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>jT){const u=QT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oy(),{heartbeatsToSend:r,unsentEntries:l}=HT(this._heartbeatsCache.heartbeats),u=f_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return xi.warn(e),""}}}function oy(){return new Date().toISOString().substring(0,10)}function HT(s,e=BT){const r=[];let l=s.slice();for(const u of s){const f=r.find(m=>m.agent===u.agent);if(f){if(f.dates.push(u.date),uy(r)>e){f.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),uy(r)>e){r.pop();break}l=l.slice(1)}return{heartbeatsToSend:r,unsentEntries:l}}class GT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?L0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await zT(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function uy(s){return f_(JSON.stringify({version:2,heartbeats:s})).length}function QT(s){if(s.length===0)return-1;let e=0,r=s[0].date;for(let l=1;l<s.length;l++)s[l].date<r&&(r=s[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s){ga(new ma("platform-logger",e=>new rT(e),"PRIVATE")),ga(new ma("heartbeat",e=>new qT(e),"PRIVATE")),gr(Pf,ry,s),gr(Pf,ry,"esm2020"),gr("fire-js","")}FT("");var YT="firebase",XT="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(YT,XT,"app");function E_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KT=E_,T_=new Wl("auth","Firebase",E_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new id("@firebase/auth");function ZT(s,...e){Fu.logLevel<=Dt.WARN&&Fu.warn(`Auth (${oc}): ${s}`,...e)}function Bu(s,...e){Fu.logLevel<=Dt.ERROR&&Fu.error(`Auth (${oc}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s,...e){throw ld(s,...e)}function ad(s,...e){return ld(s,...e)}function A_(s,e,r){const l={...KT(),[e]:r};return new Wl("auth","Firebase",l).create(e,{appName:s.name})}function ss(s){return A_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ld(s,...e){if(typeof s!="string"){const r=e[0],l=[...e.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(r,...l)}return T_.create(s,...e)}function Vt(s,e,...r){if(!s)throw ld(e,...r)}function Oi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bu(e),new Error(e)}function Yu(s,e){s||Oi(e)}function JT(){return cy()==="http:"||cy()==="https:"}function cy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JT()||M0()||"connection"in navigator)?navigator.onLine:!0}function WT(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r){this.shortDelay=e,this.longDelay=r,Yu(r>e,"Short delay should be less than long delay!"),this.isMobile=N0()||V0()}get(){return $T()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(s,e){Yu(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{static initialize(e,r,l){this.fetchImpl=e,r&&(this.headersImpl=r),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iA=new to(3e4,6e4);function fs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ds(s,e,r,l,u={}){return b_(s,u,async()=>{let f={},m={};l&&(e==="GET"?m=l:f={body:JSON.stringify(l)});const y=g_({key:s.config.apiKey,...m}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...f};return O0()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&nd(s.emulatorConfig.host)&&(_.credentials="include"),S_.fetch()(await R_(s,s.config.apiHost,r,y),_)})}async function b_(s,e,r){s._canInitEmulator=!1;const l={...eA,...e};try{const u=new sA(s),f=await Promise.race([r(),u.promise]);u.clearNetworkTimeout();const m=await f.json();if("needConfirmation"in m)throw Vu(s,"account-exists-with-different-credential",m);if(f.ok&&!("errorMessage"in m))return m;{const y=f.ok?m.errorMessage:m.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(s,"credential-already-in-use",m);if(v==="EMAIL_EXISTS")throw Vu(s,"email-already-in-use",m);if(v==="USER_DISABLED")throw Vu(s,"user-disabled",m);const w=l[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw A_(s,w,_);Ql(s,w)}}catch(u){if(u instanceof Li)throw u;Ql(s,"network-request-failed",{message:String(u)})}}async function uc(s,e,r,l,u={}){const f=await ds(s,e,r,l,u);return"mfaPendingCredential"in f&&Ql(s,"multi-factor-auth-required",{_serverResponse:f}),f}async function R_(s,e,r,l){const u=`${e}${r}?${l}`,f=s,m=f.config.emulator?tA(s.config,u):`${s.config.apiScheme}://${u}`;return nA.includes(r)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(m).toString():m}function rA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,l)=>{this.timer=setTimeout(()=>l(ad(this.auth,"network-request-failed")),iA.get())})}}function Vu(s,e,r){const l={appName:s.name};r.email&&(l.email=r.email),r.phoneNumber&&(l.phoneNumber=r.phoneNumber);const u=ad(s,e,l);return u.customData._tokenResponse=r,u}function hy(s){return s!==void 0&&s.enterprise!==void 0}class aA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return rA(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lA(s,e){return ds(s,"GET","/v2/recaptchaConfig",fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(s,e){return ds(s,"POST","/v1/accounts:delete",e)}async function Xu(s,e){return ds(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uA(s,e=!1){const r=ni(s),l=await r.getIdToken(e),u=w_(l);Vt(u&&u.exp&&u.auth_time&&u.iat,r.auth,"internal-error");const f=typeof u.firebase=="object"?u.firebase:void 0,m=f?.sign_in_provider;return{claims:u,token:l,authTime:kl(Nf(u.auth_time)),issuedAtTime:kl(Nf(u.iat)),expirationTime:kl(Nf(u.exp)),signInProvider:m||null,signInSecondFactor:f?.sign_in_second_factor||null}}function Nf(s){return Number(s)*1e3}function w_(s){const[e,r,l]=s.split(".");if(e===void 0||r===void 0||l===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const u=d_(r);return u?JSON.parse(u):(Bu("Failed to decode base64 JWT payload"),null)}catch(u){return Bu("Caught error parsing JWT payload as JSON",u?.toString()),null}}function fy(s){const e=w_(s);return Vt(e,"internal-error"),Vt(typeof e.exp<"u","internal-error"),Vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(s,e,r=!1){if(r)return e;try{return await e}catch(l){throw l instanceof Li&&cA(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function cA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(s){const e=s.auth,r=await s.getIdToken(),l=await kf(s,Xu(e,{idToken:r}));Vt(l?.users.length,e,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const f=u.providerUserInfo?.length?C_(u.providerUserInfo):[],m=dA(s.providerData,f),y=s.isAnonymous,v=!(s.email&&u.passwordHash)&&!m?.length,_=y?v:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zf(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(s,w)}async function fA(s){const e=ni(s);await Ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dA(s,e){return[...s.filter(l=>!e.some(u=>u.providerId===l.providerId)),...e]}function C_(s){return s.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(s,e){const r=await b_(s,{},async()=>{const l=g_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:f}=s.config,m=await R_(s,u,"/v1/token",`key=${f}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:l};return s.emulatorConfig&&nd(s.emulatorConfig.host)&&(v.credentials="include"),S_.fetch()(m,v)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function gA(s,e){return ds(s,"POST","/v2/accounts:revokeToken",fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vt(e.idToken,"internal-error"),Vt(typeof e.idToken<"u","internal-error"),Vt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Vt(e.length!==0,"internal-error");const r=fy(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:l,refreshToken:u,expiresIn:f}=await mA(e,r);this.updateTokensAndExpiration(l,u,Number(f))}updateTokensAndExpiration(e,r,l){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(e,r){const{refreshToken:l,accessToken:u,expirationTime:f}=r,m=new ca;return l&&(Vt(typeof l=="string","internal-error",{appName:e}),m.refreshToken=l),u&&(Vt(typeof u=="string","internal-error",{appName:e}),m.accessToken=u),f&&(Vt(typeof f=="number","internal-error",{appName:e}),m.expirationTime=f),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(s,e){Vt(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:r,stsTokenManager:l,...u}){this.providerId="firebase",this.proactiveRefresh=new hA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zf(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await kf(this,this.stsTokenManager.getToken(this.auth,e));return Vt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return uA(this,e)}reload(){return fA(this)}_assign(e){this!==e&&(Vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let l=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),l=!0),r&&await Ku(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await kf(this,oA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const l=r.displayName??void 0,u=r.email??void 0,f=r.phoneNumber??void 0,m=r.photoURL??void 0,y=r.tenantId??void 0,v=r._redirectEventId??void 0,_=r.createdAt??void 0,w=r.lastLoginAt??void 0,{uid:L,emailVerified:H,isAnonymous:W,providerData:Y,stsTokenManager:st}=r;Vt(L&&st,e,"internal-error");const et=ca.fromJSON(this.name,st);Vt(typeof L=="string",e,"internal-error"),fr(l,e.name),fr(u,e.name),Vt(typeof H=="boolean",e,"internal-error"),Vt(typeof W=="boolean",e,"internal-error"),fr(f,e.name),fr(m,e.name),fr(y,e.name),fr(v,e.name),fr(_,e.name),fr(w,e.name);const Et=new Un({uid:L,auth:e,email:u,emailVerified:H,displayName:l,isAnonymous:W,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:et,createdAt:_,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Et.providerData=Y.map(_t=>({..._t}))),v&&(Et._redirectEventId=v),Et}static async _fromIdTokenResponse(e,r,l=!1){const u=new ca;u.updateFromServerResponse(r);const f=new Un({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l});return await Ku(f),f}static async _fromGetAccountInfoResponse(e,r,l){const u=r.users[0];Vt(u.localId!==void 0,"internal-error");const f=u.providerUserInfo!==void 0?C_(u.providerUserInfo):[],m=!(u.email&&u.passwordHash)&&!f?.length,y=new ca;y.updateFromIdToken(l);const v=new Un({uid:u.localId,auth:e,stsTokenManager:y,isAnonymous:m}),_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new zf(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!f?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function is(s){Yu(s instanceof Function,"Expected a class definition");let e=dy.get(s);return e?(Yu(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}D_.type="NONE";const my=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(s,e,r){return`firebase:${s}:${e}:${r}`}class ha{constructor(e,r,l){this.persistence=e,this.auth=r,this.userKey=l;const{config:u,name:f}=this.auth;this.fullUserKey=If(this.userKey,u.apiKey,f),this.fullPersistenceKey=If("persistence",u.apiKey,f),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Xu(this.auth,{idToken:e}).catch(()=>{});return r?Un._fromGetAccountInfoResponse(this.auth,r,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,l="authUser"){if(!r.length)return new ha(is(my),e,l);const u=(await Promise.all(r.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let f=u[0]||is(my);const m=If(l,e.config.apiKey,e.name);let y=null;for(const _ of r)try{const w=await _._get(m);if(w){let L;if(typeof w=="string"){const H=await Xu(e,{idToken:w}).catch(()=>{});if(!H)break;L=await Un._fromGetAccountInfoResponse(e,H,w)}else L=Un._fromJSON(e,w);_!==f&&(y=L),f=_;break}}catch{}const v=u.filter(_=>_._shouldAllowMigration);return!f._shouldAllowMigration||!v.length?new ha(f,e,l):(f=v[0],y&&await f._set(m,y.toJSON()),await Promise.all(r.map(async _=>{if(_!==f)try{await _._remove(m)}catch{}})),new ha(f,e,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(AA(e))return"Webos";if(yA(e))return"Safari";if((e.includes("chrome/")||_A(e))&&!e.includes("edge/"))return"Chrome";if(EA(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(r);if(l?.length===2)return l[1]}return"Other"}function pA(s=Ln()){return/firefox\//i.test(s)}function yA(s=Ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _A(s=Ln()){return/crios\//i.test(s)}function vA(s=Ln()){return/iemobile/i.test(s)}function EA(s=Ln()){return/android/i.test(s)}function TA(s=Ln()){return/blackberry/i.test(s)}function AA(s=Ln()){return/webos/i.test(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(s,e=[]){let r;switch(s){case"Browser":r=gy(Ln());break;case"Worker":r=`${gy(Ln())}-${s}`;break;default:r=s}const l=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${oc}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const l=f=>new Promise((m,y)=>{try{const v=e(f);m(v)}catch(v){y(v)}});l.onAbort=r,this.queue.push(l);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const l of this.queue)await l(e),l.onAbort&&r.push(l.onAbort)}catch(l){r.reverse();for(const u of r)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(s,e={}){return ds(s,"GET","/v2/passwordPolicy",fs(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=6;class wA{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??RA,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const l=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;l&&(r.meetsMinPasswordLength=e.length>=l),u&&(r.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let l;for(let u=0;u<e.length;u++)l=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(r,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(e,r,l,u,f){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,r,l,u){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=l,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new SA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=is(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Xu(this,{idToken:e}),l=await Un._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(l)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,m=l?._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===m)&&y?.user&&(l=y.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ku(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(ss(this));const r=e?ni(e):null;return r&&Vt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bA(this),r=new wA(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,r,l){return this.registerStateListener(this.authStateSubscription,e,r,l)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,l){return this.registerStateListener(this.idTokenSubscription,e,r,l)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const l=this.onAuthStateChanged(()=>{l(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(l.tenantId=this.tenantId),await gA(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const l=await this.getOrInitRedirectPersistenceManager(r);return e===null?l.removeCurrentUser():l.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&is(e)||this._popupRedirectResolver;Vt(r,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[is(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,l,u){if(this._deleted)return()=>{};const f=typeof r=="function"?r:r.next.bind(r);let m=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(y,this,"internal-error"),y.then(()=>{m||f(this.currentUser)}),typeof r=="function"){const v=e.addObserver(r,l,u);return()=>{m=!0,v()}}else{const v=e.addObserver(r);return()=>{m=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function eo(s){return ni(s)}class py{constructor(e){this.auth=e,this.observer=null,this.addObserver=B0(r=>this.observer=r)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DA(s){od=s}function NA(s){return od.loadJS(s)}function IA(){return od.recaptchaEnterpriseScript}class OA{constructor(){this.enterprise=new MA}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class MA{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const VA="recaptcha-enterprise",I_="NO_RECAPTCHA";class UA{constructor(e){this.type=VA,this.auth=eo(e)}async verify(e="verify",r=!1){async function l(f){if(!r){if(f.tenantId==null&&f._agentRecaptchaConfig!=null)return f._agentRecaptchaConfig.siteKey;if(f.tenantId!=null&&f._tenantRecaptchaConfigs[f.tenantId]!==void 0)return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(async(m,y)=>{lA(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const _=new aA(v);return f.tenantId==null?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,m(_.siteKey)}}).catch(v=>{y(v)})})}function u(f,m,y){const v=window.grecaptcha;hy(v)?v.enterprise.ready(()=>{v.enterprise.execute(f,{action:e}).then(_=>{m(_)}).catch(()=>{m(I_)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OA().execute("siteKey",{action:"verify"}):new Promise((f,m)=>{l(this.auth).then(y=>{if(!r&&hy(window.grecaptcha))u(y,f,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let v=IA();v.length!==0&&(v+=y),NA(v).then(()=>{u(y,f,m)}).catch(_=>{m(_)})}}).catch(y=>{m(y)})})}}async function yy(s,e,r,l=!1,u=!1){const f=new UA(s);let m;if(u)m=I_;else try{m=await f.verify(r)}catch{m=await f.verify(r,!0)}const y={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const v=y.phoneEnrollmentInfo.phoneNumber,_=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:_,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const v=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return l?Object.assign(y,{captchaResp:m}):Object.assign(y,{captchaResponse:m}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function Bf(s,e,r,l,u){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await yy(s,e,r,r==="getOobCode");return l(s,f)}else return l(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await yy(s,e,r,r==="getOobCode");return l(s,m)}else return Promise.reject(f)})}function xA(s,e){const r=e?.persistence||[],l=(Array.isArray(r)?r:[r]).map(is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(l,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,r){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function PA(s,e){return ds(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(s,e){return uc(s,"POST","/v1/accounts:signInWithPassword",fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(s,e){return uc(s,"POST","/v1/accounts:signInWithEmailLink",fs(s,e))}async function BA(s,e){return uc(s,"POST","/v1/accounts:signInWithEmailLink",fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends LA{constructor(e,r,l,u=null){super("password",l),this._email=e,this._password=r,this._tenantId=u}static _fromEmailAndPassword(e,r){return new Fl(e,r,"password")}static _fromEmailAndCode(e,r,l=null){return new Fl(e,r,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bf(e,r,"signInWithPassword",kA);case"emailLink":return zA(e,{email:this._email,oobCode:this._password});default:Ql(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const l={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bf(e,l,"signUpPassword",PA);case"emailLink":return BA(e,{idToken:r,email:this._email,oobCode:this._password});default:Ql(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qA(s){const e=xl(Ll(s)).link,r=e?xl(Ll(e)).deep_link_id:null,l=xl(Ll(s)).deep_link_id;return(l?xl(Ll(l)).link:null)||l||r||e||s}class ud{constructor(e){const r=xl(Ll(e)),l=r.apiKey??null,u=r.oobCode??null,f=jA(r.mode??null);Vt(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=qA(e);try{return new ud(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,r){return Fl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const l=ud.parseLink(r);return Vt(l,"argument-error"),Fl._fromEmailAndCode(e,l.code,l.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s,e){return uc(s,"POST","/v1/accounts:signUp",fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,l,u=!1){const f=await Un._fromIdTokenResponse(e,l,u),m=_y(l);return new Yl({user:f,providerId:m,_tokenResponse:l,operationType:r})}static async _forOperation(e,r,l){await e._updateTokensIfNecessary(l,!0);const u=_y(l);return new Yl({user:e,providerId:u,_tokenResponse:l,operationType:r})}}function _y(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Li{constructor(e,r,l,u){super(r.code,r.message),this.operationType=l,this.user=u,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(e,r,l,u){return new Zu(e,r,l,u)}}function GA(s,e,r,l){return r._getIdTokenResponse(s).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(s,f,e,l):f})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(s,e,r=!1){if(ei(s.app))return Promise.reject(ss(s));const l="signIn",u=await GA(s,l,e),f=await Yl._fromIdTokenResponse(s,l,u);return r||await s._updateCurrentUser(f.user),f}async function FA(s,e){return QA(eo(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(s){const e=eo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YA(s,e,r){if(ei(s.app))return Promise.reject(ss(s));const l=eo(s),m=await Bf(l,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HA).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&O_(s),v}),y=await Yl._fromIdTokenResponse(l,"signIn",m);return await l._updateCurrentUser(y.user),y}function XA(s,e,r){return ei(s.app)?Promise.reject(ss(s)):FA(ni(s),Ta.credential(e,r)).catch(async l=>{throw l.code==="auth/password-does-not-meet-requirements"&&O_(s),l})}function KA(s){return ni(s).signOut()}new to(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(5e3,15e3);var vy="@firebase/auth",Ey="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(l=>{e(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $A(s){ga(new ma("auth",(e,{options:r})=>{const l=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),f=e.getProvider("app-check-internal"),{apiKey:m,authDomain:y}=l.options;Vt(m&&!m.includes(":"),"invalid-api-key",{appName:l.name});const v={apiKey:m,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N_(s)},_=new CA(l,u,f,v);return xA(_,r),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,l)=>{e.getProvider("auth-internal").initialize()})),ga(new ma("auth-internal",e=>{const r=eo(e.getProvider("auth").getImmediate());return(l=>new ZA(l))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(vy,Ey,JA(s)),gr(vy,Ey,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=300;D0("authIdTokenMaxAge");function tS(){return document.getElementsByTagName("head")?.[0]??document}DA({loadJS(s){return new Promise((e,r)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=e,l.onerror=u=>{const f=ad("internal-error");f.customData=u,r(f)},l.type="text/javascript",l.charset="UTF-8",tS().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$A("Browser");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cd;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,I,V){for(var b=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)b[ye-2]=arguments[ye];return A.prototype[I].apply(N,b)}}function r(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(l,r),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)N[I]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(I=0;16>I;++I)N[I]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],I=O.g[2];var V=O.g[3],b=A+(V^R&(I^V))+N[0]+3614090360&4294967295;A=R+(b<<7&4294967295|b>>>25),b=V+(I^A&(R^I))+N[1]+3905402710&4294967295,V=A+(b<<12&4294967295|b>>>20),b=I+(R^V&(A^R))+N[2]+606105819&4294967295,I=V+(b<<17&4294967295|b>>>15),b=R+(A^I&(V^A))+N[3]+3250441966&4294967295,R=I+(b<<22&4294967295|b>>>10),b=A+(V^R&(I^V))+N[4]+4118548399&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(I^A&(R^I))+N[5]+1200080426&4294967295,V=A+(b<<12&4294967295|b>>>20),b=I+(R^V&(A^R))+N[6]+2821735955&4294967295,I=V+(b<<17&4294967295|b>>>15),b=R+(A^I&(V^A))+N[7]+4249261313&4294967295,R=I+(b<<22&4294967295|b>>>10),b=A+(V^R&(I^V))+N[8]+1770035416&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(I^A&(R^I))+N[9]+2336552879&4294967295,V=A+(b<<12&4294967295|b>>>20),b=I+(R^V&(A^R))+N[10]+4294925233&4294967295,I=V+(b<<17&4294967295|b>>>15),b=R+(A^I&(V^A))+N[11]+2304563134&4294967295,R=I+(b<<22&4294967295|b>>>10),b=A+(V^R&(I^V))+N[12]+1804603682&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(I^A&(R^I))+N[13]+4254626195&4294967295,V=A+(b<<12&4294967295|b>>>20),b=I+(R^V&(A^R))+N[14]+2792965006&4294967295,I=V+(b<<17&4294967295|b>>>15),b=R+(A^I&(V^A))+N[15]+1236535329&4294967295,R=I+(b<<22&4294967295|b>>>10),b=A+(I^V&(R^I))+N[1]+4129170786&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^I&(A^R))+N[6]+3225465664&4294967295,V=A+(b<<9&4294967295|b>>>23),b=I+(A^R&(V^A))+N[11]+643717713&4294967295,I=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(I^V))+N[0]+3921069994&4294967295,R=I+(b<<20&4294967295|b>>>12),b=A+(I^V&(R^I))+N[5]+3593408605&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^I&(A^R))+N[10]+38016083&4294967295,V=A+(b<<9&4294967295|b>>>23),b=I+(A^R&(V^A))+N[15]+3634488961&4294967295,I=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(I^V))+N[4]+3889429448&4294967295,R=I+(b<<20&4294967295|b>>>12),b=A+(I^V&(R^I))+N[9]+568446438&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^I&(A^R))+N[14]+3275163606&4294967295,V=A+(b<<9&4294967295|b>>>23),b=I+(A^R&(V^A))+N[3]+4107603335&4294967295,I=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(I^V))+N[8]+1163531501&4294967295,R=I+(b<<20&4294967295|b>>>12),b=A+(I^V&(R^I))+N[13]+2850285829&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^I&(A^R))+N[2]+4243563512&4294967295,V=A+(b<<9&4294967295|b>>>23),b=I+(A^R&(V^A))+N[7]+1735328473&4294967295,I=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(I^V))+N[12]+2368359562&4294967295,R=I+(b<<20&4294967295|b>>>12),b=A+(R^I^V)+N[5]+4294588738&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^I)+N[8]+2272392833&4294967295,V=A+(b<<11&4294967295|b>>>21),b=I+(V^A^R)+N[11]+1839030562&4294967295,I=V+(b<<16&4294967295|b>>>16),b=R+(I^V^A)+N[14]+4259657740&4294967295,R=I+(b<<23&4294967295|b>>>9),b=A+(R^I^V)+N[1]+2763975236&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^I)+N[4]+1272893353&4294967295,V=A+(b<<11&4294967295|b>>>21),b=I+(V^A^R)+N[7]+4139469664&4294967295,I=V+(b<<16&4294967295|b>>>16),b=R+(I^V^A)+N[10]+3200236656&4294967295,R=I+(b<<23&4294967295|b>>>9),b=A+(R^I^V)+N[13]+681279174&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^I)+N[0]+3936430074&4294967295,V=A+(b<<11&4294967295|b>>>21),b=I+(V^A^R)+N[3]+3572445317&4294967295,I=V+(b<<16&4294967295|b>>>16),b=R+(I^V^A)+N[6]+76029189&4294967295,R=I+(b<<23&4294967295|b>>>9),b=A+(R^I^V)+N[9]+3654602809&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^I)+N[12]+3873151461&4294967295,V=A+(b<<11&4294967295|b>>>21),b=I+(V^A^R)+N[15]+530742520&4294967295,I=V+(b<<16&4294967295|b>>>16),b=R+(I^V^A)+N[2]+3299628645&4294967295,R=I+(b<<23&4294967295|b>>>9),b=A+(I^(R|~V))+N[0]+4096336452&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~I))+N[7]+1126891415&4294967295,V=A+(b<<10&4294967295|b>>>22),b=I+(A^(V|~R))+N[14]+2878612391&4294967295,I=V+(b<<15&4294967295|b>>>17),b=R+(V^(I|~A))+N[5]+4237533241&4294967295,R=I+(b<<21&4294967295|b>>>11),b=A+(I^(R|~V))+N[12]+1700485571&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~I))+N[3]+2399980690&4294967295,V=A+(b<<10&4294967295|b>>>22),b=I+(A^(V|~R))+N[10]+4293915773&4294967295,I=V+(b<<15&4294967295|b>>>17),b=R+(V^(I|~A))+N[1]+2240044497&4294967295,R=I+(b<<21&4294967295|b>>>11),b=A+(I^(R|~V))+N[8]+1873313359&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~I))+N[15]+4264355552&4294967295,V=A+(b<<10&4294967295|b>>>22),b=I+(A^(V|~R))+N[6]+2734768916&4294967295,I=V+(b<<15&4294967295|b>>>17),b=R+(V^(I|~A))+N[13]+1309151649&4294967295,R=I+(b<<21&4294967295|b>>>11),b=A+(I^(R|~V))+N[4]+4149444226&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~I))+N[11]+3174756917&4294967295,V=A+(b<<10&4294967295|b>>>22),b=I+(A^(V|~R))+N[2]+718787259&4294967295,I=V+(b<<15&4294967295|b>>>17),b=R+(V^(I|~A))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+V&4294967295}l.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,N=this.B,I=this.h,V=0;V<A;){if(I==0)for(;V<=R;)u(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<A;)if(N[I++]=O.charCodeAt(V++),I==this.blockSize){u(this,N),I=0;break}}else for(;V<A;)if(N[I++]=O[V++],I==this.blockSize){u(this,N),I=0;break}}this.h=I,this.o+=A},l.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)O[R++]=this.g[A]>>>N&255;return O};function f(O,A){var R=y;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function m(O,A){this.h=A;for(var R=[],N=!0,I=O.length-1;0<=I;I--){var V=O[I]|0;N&&V==A||(R[I]=V,N=!1)}this.g=R}var y={};function v(O){return-128<=O&&128>O?f(O,function(A){return new m([A|0],0>A?-1:0)}):new m([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return L;if(0>O)return et(_(-O));for(var A=[],R=1,N=0;O>=R;N++)A[N]=O/R|0,R*=4294967296;return new m(A,0)}function w(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return et(w(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(A,8)),N=L,I=0;I<O.length;I+=8){var V=Math.min(8,O.length-I),b=parseInt(O.substring(I,I+V),A);8>V?(V=_(Math.pow(A,V)),N=N.j(V).add(_(b))):(N=N.j(R),N=N.add(_(b)))}return N}var L=v(0),H=v(1),W=v(16777216);s=m.prototype,s.m=function(){if(st(this))return-et(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*A,A*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(st(this))return"-"+et(this).toString(O);for(var A=_(Math.pow(O,6)),R=this,N="";;){var I=Qt(R,A).g;R=Et(R,I.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=I,Y(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function st(O){return O.h==-1}s.l=function(O){return O=Et(this,O),st(O)?-1:Y(O)?0:1};function et(O){for(var A=O.g.length,R=[],N=0;N<A;N++)R[N]=~O.g[N];return new m(R,~O.h).add(H)}s.abs=function(){return st(this)?et(this):this},s.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0,I=0;I<=A;I++){var V=N+(this.i(I)&65535)+(O.i(I)&65535),b=(V>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);N=b>>>16,V&=65535,b&=65535,R[I]=b<<16|V}return new m(R,R[R.length-1]&-2147483648?-1:0)};function Et(O,A){return O.add(et(A))}s.j=function(O){if(Y(this)||Y(O))return L;if(st(this))return st(O)?et(this).j(et(O)):et(et(this).j(O));if(st(O))return et(this.j(et(O)));if(0>this.l(W)&&0>O.l(W))return _(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<O.g.length;I++){var V=this.i(N)>>>16,b=this.i(N)&65535,ye=O.i(I)>>>16,Zt=O.i(I)&65535;R[2*N+2*I]+=b*Zt,_t(R,2*N+2*I),R[2*N+2*I+1]+=V*Zt,_t(R,2*N+2*I+1),R[2*N+2*I+1]+=b*ye,_t(R,2*N+2*I+1),R[2*N+2*I+2]+=V*ye,_t(R,2*N+2*I+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new m(R,0)};function _t(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function mt(O,A){this.g=O,this.h=A}function Qt(O,A){if(Y(A))throw Error("division by zero");if(Y(O))return new mt(L,L);if(st(O))return A=Qt(et(O),A),new mt(et(A.g),et(A.h));if(st(A))return A=Qt(O,et(A)),new mt(et(A.g),A.h);if(30<O.g.length){if(st(O)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var R=H,N=A;0>=N.l(O);)R=gt(R),N=gt(N);var I=Ct(R,1),V=Ct(N,1);for(N=Ct(N,2),R=Ct(R,2);!Y(N);){var b=V.add(N);0>=b.l(O)&&(I=I.add(R),V=b),N=Ct(N,1),R=Ct(R,1)}return A=Et(O,I.j(A)),new mt(I,A)}for(I=L;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=_(R),b=V.j(A);st(b)||0<b.l(O);)R-=N,V=_(R),b=V.j(A);Y(V)&&(V=H),I=I.add(V),O=Et(O,b)}return new mt(I,O)}s.A=function(O){return Qt(this,O).h},s.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&O.i(N);return new m(R,this.h&O.h)},s.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|O.i(N);return new m(R,this.h|O.h)},s.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^O.i(N);return new m(R,this.h^O.h)};function gt(O){for(var A=O.g.length+1,R=[],N=0;N<A;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new m(R,O.h)}function Ct(O,A){var R=A>>5;A%=32;for(var N=O.g.length-R,I=[],V=0;V<N;V++)I[V]=0<A?O.i(V+R)>>>A|O.i(V+R+1)<<32-A:O.i(V+R);return new m(I,O.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=w,cd=m}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M_,Pl,V_,ju,jf,U_,x_,L_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,g){return o==Array.prototype||o==Object.prototype||(o[d]=g.value),o};function r(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var l=r(this);function u(o,d){if(d)t:{var g=l;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in g))break t;g=g[U]}o=o[o.length-1],T=g[o],d=d(T),d!=T&&d!=null&&e(g,o,{configurable:!0,writable:!0,value:d})}}function f(o,d){o instanceof String&&(o+="");var g=0,T=!1,U={next:function(){if(!T&&g<o.length){var B=g++;return{value:d(B,o[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return f(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function _(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function w(o,d,g){return o.call.apply(o.bind,arguments)}function L(o,d,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),o.apply(d,U)}}return function(){return o.apply(d,arguments)}}function H(o,d,g){return H=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:L,H.apply(null,arguments)}function W(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Y(o,d){function g(){}g.prototype=d.prototype,o.aa=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,U,B){for(var $=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)$[Nt-2]=arguments[Nt];return d.prototype[U].apply(T,$)}}function st(o){const d=o.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=o[T];return g}return[]}function et(o,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const U=o.length||0,B=T.length||0;o.length=U+B;for(let $=0;$<B;$++)o[U+$]=T[$]}else o.push(T)}}class Et{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _t(o){return/^[\s\xa0]*$/.test(o)}function mt(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var gt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function Ct(o,d,g){for(const T in o)d.call(g,o[T],T,o)}function O(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function A(o){const d={};for(const g in o)d[g]=o[g];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,d){let g,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(g in T)o[g]=T[g];for(let B=0;B<R.length;B++)g=R[B],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function I(o){var d=1;o=o.split(":");const g=[];for(;0<d&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function V(o){y.setTimeout(()=>{throw o},0)}function b(){var o=pt;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class ye{constructor(){this.h=this.g=null}add(d,g){const T=Zt.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Zt=new Et(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,nt=!1,pt=new ye,C=()=>{const o=y.Promise.resolve(void 0);Q=()=>{o.then(K)}};var K=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(g){V(g)}var d=Zt;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}nt=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var lt=(function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return o})();function St(o,d){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(gt){t:{try{Qt(d.nodeName);var U=!0;break t}catch{}U=!1}U||(d=null)}}else g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:dt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}Y(St,J);var dt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function Pn(o,d,g,T,U){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=U,this.key=++Yt,this.da=this.fa=!1}function Pi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function si(o){this.src=o,this.g={},this.h=0}si.prototype.add=function(o,d,g,T,U){var B=o.toString();o=this.g[B],o||(o=this.g[B]=[],this.h++);var $=Tr(o,d,T,U);return-1<$?(d=o[$],g||(d.fa=!1)):(d=new Pn(d,this.src,B,!!T,U),d.fa=g,o.push(d)),d};function Er(o,d){var g=d.type;if(g in o.g){var T=o.g[g],U=Array.prototype.indexOf.call(T,d,void 0),B;(B=0<=U)&&Array.prototype.splice.call(T,U,1),B&&(Pi(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Tr(o,d,g,T){for(var U=0;U<o.length;++U){var B=o[U];if(!B.da&&B.listener==d&&B.capture==!!g&&B.ha==T)return U}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),ba={};function oo(o,d,g,T,U){if(Array.isArray(d)){for(var B=0;B<d.length;B++)oo(o,d[B],g,T,U);return null}return g=uo(g),o&&o[Se]?o.K(d,g,_(T)?!!T.capture:!1,U):fn(o,d,g,!1,T,U)}function fn(o,d,g,T,U,B){if(!d)throw Error("Invalid event type");var $=_(U)?!!U.capture:!!U,Nt=ys(o);if(Nt||(o[Ar]=Nt=new si(o)),g=Nt.add(d,g,T,$,B),g.proxy)return g;if(T=yc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)lt||(U=$),U===void 0&&(U=!1),o.addEventListener(d.toString(),T,U);else if(o.attachEvent)o.attachEvent(Sr(d.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function yc(){function o(g){return d.call(o.src,o.listener,g)}const d=_c;return o}function Ra(o,d,g,T,U){if(Array.isArray(d))for(var B=0;B<d.length;B++)Ra(o,d[B],g,T,U);else T=_(T)?!!T.capture:!!T,g=uo(g),o&&o[Se]?(o=o.i,d=String(d).toString(),d in o.g&&(B=o.g[d],g=Tr(B,g,T,U),-1<g&&(Pi(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete o.g[d],o.h--)))):o&&(o=ys(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Tr(d,g,T,U)),(g=-1<o?d[o]:null)&&ps(g))}function ps(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[Se])Er(d.i,o);else{var g=o.type,T=o.proxy;d.removeEventListener?d.removeEventListener(g,T,o.capture):d.detachEvent?d.detachEvent(Sr(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=ys(d))?(Er(g,o),g.h==0&&(g.src=null,d[Ar]=null)):Pi(o)}}}function Sr(o){return o in ba?ba[o]:ba[o]="on"+o}function _c(o,d){if(o.da)o=!0;else{d=new St(d,this);var g=o.listener,T=o.ha||o.src;o.fa&&ps(o),o=g.call(T,d)}return o}function ys(o){return o=o[Ar],o instanceof si?o:null}var wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(o){return typeof o=="function"?o:(o[wa]||(o[wa]=function(d){return o.handleEvent(d)}),o[wa])}function ne(){tt.call(this),this.i=new si(this),this.M=this,this.F=null}Y(ne,tt),ne.prototype[Se]=!0,ne.prototype.removeEventListener=function(o,d,g,T){Ra(this,o,d,g,T)};function kt(o,d){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=d.type||d,typeof d=="string")d=new J(d,o);else if(d instanceof J)d.target=d.target||o;else{var U=d;d=new J(T,o),N(d,U)}if(U=!0,g)for(var B=g.length-1;0<=B;B--){var $=d.g=g[B];U=nn($,T,!0,d)&&U}if($=d.g=o,U=nn($,T,!0,d)&&U,U=nn($,T,!1,d)&&U,g)for(B=0;B<g.length;B++)$=d.g=g[B],U=nn($,T,!1,d)&&U}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var g=o.g[d],T=0;T<g.length;T++)Pi(g[T]);delete o.g[d],o.h--}}this.F=null},ne.prototype.K=function(o,d,g,T){return this.i.add(String(o),d,!1,g,T)},ne.prototype.L=function(o,d,g,T){return this.i.add(String(o),d,!0,g,T)};function nn(o,d,g,T){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,B=0;B<d.length;++B){var $=d[B];if($&&!$.da&&$.capture==g){var Nt=$.listener,ve=$.ha||$.src;$.fa&&Er(o.i,$),U=Nt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function Be(o,d,g){if(typeof o=="function")g&&(o=H(o,g));else if(o&&typeof o.handleEvent=="function")o=H(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(o,d||0)}function co(o){o.g=Be(()=>{o.g=null,o.i&&(o.i=!1,co(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class vc extends tt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(o){tt.call(this),this.h=o,this.g={}}Y(br,tt);var Rr=[];function wr(o){Ct(o.g,function(d,g){this.g.hasOwnProperty(g)&&ps(d)},o),o.g={}}br.prototype.N=function(){br.aa.N.call(this),wr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=y.JSON.stringify,_s=y.JSON.parse,Cr=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function Ca(){}Ca.prototype.h=null;function Da(o){return o.h||(o.h=o.i())}function Na(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){J.call(this,"d")}Y(li,J);function Ia(){J.call(this,"c")}Y(Ia,J);var kn={},Oa=null;function ki(){return Oa=Oa||new ne}kn.La="serverreachability";function vs(o){J.call(this,kn.La,o)}Y(vs,J);function zi(o){const d=ki();kt(d,new vs(d))}kn.STAT_EVENT="statevent";function ho(o,d){J.call(this,kn.STAT_EVENT,o),this.stat=d}Y(ho,J);function Jt(o){const d=ki();kt(d,new ho(d,o))}kn.Ma="timingevent";function _e(o,d){J.call(this,kn.Ma,o),this.size=d}Y(_e,J);function he(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},d)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ma(o,d,g,T,U,B){o.info(function(){if(o.g)if(B)for(var $="",Nt=B.split("&"),ve=0;ve<Nt.length;ve++){var It=Nt[ve].split("=");if(1<It.length){var Re=It[0];It=It[1];var Ee=Re.split("_");$=2<=Ee.length&&Ee[1]=="type"?$+(Re+"="+It+"&"):$+(Re+"=redacted&")}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+d+`
`+g+`
`+$})}function Ec(o,d,g,T,U,B,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+d+`
`+g+`
`+B+" "+$})}function Bi(o,d,g,T){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+Dr(o,g)+(T?" "+T:"")})}function fo(o,d){o.info(function(){return"TIMEOUT: "+d})}dn.prototype.info=function(){};function Dr(o,d){if(!o.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var $=1;$<U.length;$++)U[$]=""}}}}return Rn(g)}catch{return d}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Bn(){}Y(Bn,Ca),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},zn=new Bn;function Fe(o,d,g,T){this.j=o,this.i=d,this.l=g,this.R=T||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Va={},Es={};function wn(o,d,g){o.L=1,o.v=Vr(rn(d)),o.m=g,o.P=!0,ui(o,null)}function ui(o,d){o.F=Date.now(),Nr(o),o.A=rn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),za(g.i,"t",T),o.C=0,g=o.j.J,o.h=new le,o.g=No(o.j,g?d:null,!o.m),0<o.O&&(o.M=new vc(H(o.Y,o,o.g),o.O)),d=o.U,g=o.g,T=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(Rr[0]=U.toString()),U=Rr);for(var B=0;B<U.length;B++){var $=oo(g,U[B],T||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),zi(),Ma(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const d=this.M;d&&yn(o)==3?d.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=yn(this.g);var d=this.g.Ba();const yi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||Ee!=4||d==7||(d==8||0>=yi?zi(3):zi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(mo(this)){var T=To(this.g);o="";var U=T.length,B=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),jn(this);var $="";break e}this.h.i=new y.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,o+=this.h.i.decode(T[d],{stream:!(B&&d==U-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,Ec(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Nt)){var It=Nt;break e}}It=null}if(g=It)Bi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,g);else{this.o=!1,this.s=3,Jt(12),Oe(this),jn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=go(this,$),Me==Es){Ee==4&&(this.s=4,Jt(14),g=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Va){this.s=4,Jt(15),Bi(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Bi(this.i,this.l,Me,null),Ir(this,Me);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||$.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Bi(this.i,this.l,$,"[Invalid Chunked Response]"),Oe(this),jn(this);else if(0<$.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),jr(Re),Re.M=!0,Jt(11))}}else Bi(this.i,this.l,$,null),Ir(this,$);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?wo(this.j,this):(this.o=!1,Nr(this)))}else Rc(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Oe(this),jn(this)}}}catch{}finally{}};function mo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function go(o,d){var g=o.C,T=d.indexOf(`
`,g);return T==-1?Es:(g=Number(d.substring(g,T)),isNaN(g)?Va:(T+=1,T+g>d.length?Es:(d=d.slice(T,T+g),o.C=T+g,d)))}Fe.prototype.cancel=function(){this.J=!0,Oe(this)};function Nr(o){o.S=Date.now()+o.I,po(o,o.I)}function po(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(H(o.ba,o),d)}function qi(o){o.B&&(y.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(fo(this.i,this.A),this.L!=2&&(zi(),Jt(17)),Oe(this),this.s=2,jn(this)):po(this,this.S-o)};function jn(o){o.j.G==0||o.J||wo(o.j,o)}function Oe(o){qi(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,wr(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function Ir(o,d){try{var g=o.j;if(g.G!=0&&(g.g==o||Ua(g.h,o))){if(!o.K&&Ua(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ms(g),Is(g);else break t;Ga(g),Jt(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(H(g.Za,g),6e3));if(1>=As(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else pi(g,11)}else if((o.K||g.g==o)&&Ms(g),!_t(d))for(U=g.Da.g.parse(d),d=0;d<U.length;d++){let It=U[d];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Re=It[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const Ee=It[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const yi=It[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Xn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var B=T.h;B.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ss(B,B.h),B.h=null))}if(T.D){const Fa=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(T.ya=Fa,jt(T.I,T.D,Fa))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var $=o;if(T.qa=Do(T,T.J?T.ia:null,T.W),$.K){Ye(T.h,$);var Nt=$,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(qi(Nt),Nr(Nt)),T.g=$}else bo(T);0<g.i.length&&Os(g)}else It[0]!="stop"&&It[0]!="close"||pi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?pi(g,7):qa(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}zi(4)}catch{}}var yo=class{constructor(o,d){this.g=o,this.map=d}};function ci(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ts(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function As(o){return o.h?1:o.g?o.g.size:0}function Ua(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Ss(o,d){o.g?o.g.add(d):o.h=d}function Ye(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}ci.prototype.cancel=function(){if(this.i=xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function xa(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.D);return d}return st(o.i)}function Tc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var d=[],g=o.length,T=0;T<g;T++)d.push(o[T]);return d}d=[],g=0;for(T in o)d[g++]=o[T];return d}function bs(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var d=[];o=o.length;for(var g=0;g<o;g++)d.push(g);return d}d=[],g=0;for(const T in o)d[g++]=T;return d}}}function La(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var g=bs(o),T=Tc(o),U=T.length,B=0;B<U;B++)d.call(void 0,T[B],g&&g[B],o)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(o,d){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),U=null;if(0<=T){var B=o[g].substring(0,T);U=o[g].substring(T+1)}else B=o[g];d(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Mr(this,o.j),this.o=o.o,this.g=o.g,Hi(this,o.s),this.l=o.l;var d=o.i,g=new fi;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),hi(this,g),this.m=o.m}else o&&(d=String(o).match(Or))?(this.h=!1,Mr(this,d[1]||"",!0),this.o=mn(d[2]||""),this.g=mn(d[3]||"",!0),Hi(this,d[4]),this.l=mn(d[5]||"",!0),hi(this,d[6]||"",!0),this.m=mn(d[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}fe.prototype.toString=function(){var o=[],d=this.j;d&&o.push(Ur(d,Pa,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Ur(d,Pa,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ur(g,g.charAt(0)=="/"?Sc:ka,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ur(g,Rs)),o.join("")};function rn(o){return new fe(o)}function Mr(o,d,g){o.j=g?mn(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function Hi(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function hi(o,d,g){d instanceof fi?(o.i=d,vo(o.i,o.h)):(g||(d=Ur(d,bc)),o.i=new fi(d,o.h))}function jt(o,d,g){o.i.set(d,g)}function Vr(o){return jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ur(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,_o),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _o(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Pa=/[#\/\?@]/g,ka=/[#\?:]/g,Sc=/[#\?]/g,bc=/[#\?@]/g,Rs=/#/g;function fi(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ac(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=fi.prototype,s.add=function(o,d){gn(this),this.i=null,o=qn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function di(o,d){gn(o),d=qn(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function mi(o,d){return gn(o),d=qn(o,d),o.g.has(d)}s.forEach=function(o,d){gn(this),this.g.forEach(function(g,T){g.forEach(function(U){o.call(d,U,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const U=o[T];for(let B=0;B<U.length;B++)g.push(d[T])}return g},s.V=function(o){gn(this);let d=[];if(typeof o=="string")mi(this,o)&&(d=d.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)d=d.concat(o[g])}return d},s.set=function(o,d){return gn(this),this.i=null,o=qn(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},s.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function za(o,d,g){di(o,d),0<g.length&&(o.i=null,o.g.set(qn(o,d),st(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const B=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var U=B;$[T]!==""&&(U+="="+encodeURIComponent(String($[T]))),o.push(U)}}return this.i=o.join("&")};function qn(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function vo(o,d){d&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(g,T){var U=T.toLowerCase();T!=U&&(di(this,T),za(this,U,g))},o)),o.j=d}function xr(o,d){const g=new dn;if(y.Image){const T=new Image;T.onload=W(pn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=W(pn,g,"TestLoadImage: error",!1,d,T),T.onabort=W(pn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=W(pn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else d(!1)}function Cn(o,d){const g=new dn,T=new AbortController,U=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?pn(g,"TestPingServer: ok",!0,d):pn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),pn(g,"TestPingServer: error",!1,d)})}function pn(o,d,g,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(g)}catch{}}function Lr(){this.g=new Cr}function Hn(o,d,g){const T=g||"";try{La(o,function(U,B){let $=U;_(U)&&($=Rn(U)),d.push(T+B+"="+encodeURIComponent($))})}catch(U){throw d.push(T+"type="+encodeURIComponent("_badmap")),U}}function Gi(o){this.l=o.Ub||null,this.j=o.eb||!1}Y(Gi,Ca),Gi.prototype.g=function(){return new gi(this.l,this.j)},Gi.prototype.i=(function(o){return function(){return o}})({});function gi(o,d){ne.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(gi,ne),s=gi.prototype,s.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,Qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ba(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ba(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Gn(this):Qn(this),this.readyState==3&&Ba(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},s.Qa=function(o){this.g&&(this.response=o,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}s.setRequestHeader=function(o,d){this.u.append(o,d)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ja(o){let d="";return Ct(o,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function be(o,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=ja(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):jt(o,d,g))}function Lt(o){ne.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Lt,ne);var ws=/^https?$/i,Pr=["POST","PUT"];s=Lt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Da(this.o):Da(zn),this.g.onreadystatechange=H(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(B){Eo(this,B);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)g.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())g.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),U=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Pr,d,void 0))||T||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of g)this.g.setRequestHeader(B,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(B){Eo(this,B)}};function Eo(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,Cs(o),Fn(o)}function Cs(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Lt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ds(this):this.bb())},s.bb=function(){Ds(this)};function Ds(o){if(o.h&&typeof m<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)Be(o.Ea,0,o);else if(kt(o,"readystatechange"),yn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=$===0){var U=String(o.D).match(Or)[1]||null;!U&&y.self&&y.self.location&&(U=y.self.location.protocol.slice(0,-1)),T=!ws.test(U?U.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var B=2<yn(o)?o.g.statusText:""}catch{B=""}o.l=B+" ["+o.Z()+"]",Cs(o)}}finally{Fn(o)}}}}function Fn(o,d){if(o.g){kr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function kr(o){o.I&&(y.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),_s(d)}};function To(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(o){const d={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(_t(o[T]))continue;var g=I(o[T]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=d[U]||[];d[U]=B,B.push(g)}O(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function Ns(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,o),this.cb=zr("retryDelaySeedMs",1e4,o),this.Wa=zr("forwardChannelMaxRetries",2,o),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ns.prototype,s.la=8,s.G=1,s.connect=function(o,d,g,T){Jt(0),this.W=o,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Do(this,null,this.W),Os(this)};function qa(o){if(Ao(o),o.G==3){var d=o.U++,g=rn(o.I);if(jt(g,"SID",o.K),jt(g,"RID",d),jt(g,"TYPE","terminate"),Br(o,g),d=new Fe(o,o.j,d),d.L=2,d.v=Vr(rn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=No(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nr(d)}Co(o)}function Is(o){o.g&&(jr(o),o.g.cancel(),o.g=null)}function Ao(o){Is(o),o.u&&(y.clearTimeout(o.u),o.u=null),Ms(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Os(o){if(!Ts(o.h)&&!o.s){o.s=!0;var d=o.Ga;Q||C(),nt||(Q(),nt=!0),pt.add(d,o),o.B=0}}function wc(o,d){return As(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(H(o.Ga,o,d),Qa(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new Fe(this,this.j,o);let B=this.o;if(this.S&&(B?(B=A(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=So(this,U,d),g=rn(this.I),jt(g,"RID",o),jt(g,"CVER",22),this.D&&jt(g,"X-HTTP-Session-Id",this.D),Br(this,g),B&&(this.O?d="headers="+encodeURIComponent(String(ja(B)))+"&"+d:this.m&&be(g,this.m,B)),Ss(this.h,U),this.Ua&&jt(g,"TYPE","init"),this.P?(jt(g,"$req",d),jt(g,"SID","null"),U.T=!0,wn(U,g,null)):wn(U,g,d),this.G=2}}else this.G==3&&(o?Ha(this,o):this.i.length==0||Ts(this.h)||Ha(this))};function Ha(o,d){var g;d?g=d.l:g=o.U++;const T=rn(o.I);jt(T,"SID",o.K),jt(T,"RID",g),jt(T,"AID",o.T),Br(o,T),o.m&&o.o&&be(T,o.m,o.o),g=new Fe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),d&&(o.i=d.D.concat(o.i)),d=So(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ss(o.h,g),wn(g,T,d)}function Br(o,d){o.H&&Ct(o.H,function(g,T){jt(d,T,g)}),o.l&&La({},function(g,T){jt(d,T,g)})}function So(o,d,g){g=Math.min(o.i.length,g);var T=o.l?H(o.l.Na,o.l,o):null;t:{var U=o.i;let B=-1;for(;;){const $=["count="+g];B==-1?0<g?(B=U[0].g,$.push("ofs="+B)):B=0:$.push("ofs="+B);let Nt=!0;for(let ve=0;ve<g;ve++){let It=U[ve].g;const Re=U[ve].map;if(It-=B,0>It)B=Math.max(0,U[ve].g-100),Nt=!1;else try{Hn(Re,$,"req"+It+"_")}catch{T&&T(Re)}}if(Nt){T=$.join("&");break t}}}return o=o.i.splice(0,g),d.D=o,T}function bo(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;Q||C(),nt||(Q(),nt=!0),pt.add(d,o),o.v=0}}function Ga(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(H(o.Fa,o),Qa(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Ro(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(H(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Is(this),Ro(this))};function jr(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function Ro(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=rn(o.qa);jt(d,"RID","rpc"),jt(d,"SID",o.K),jt(d,"AID",o.T),jt(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&jt(d,"TO",o.ja),jt(d,"TYPE","xmlhttp"),Br(o,d),o.m&&o.o&&be(d,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Vr(rn(d)),g.m=null,g.P=!0,ui(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Is(this),Ga(this),Jt(19))};function Ms(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function wo(o,d){var g=null;if(o.g==d){Ms(o),jr(o),o.g=null;var T=2}else if(Ua(o.h,d))g=d.D,Ye(o.h,d),T=1;else return;if(o.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var U=o.B;T=ki(),kt(T,new _e(T,g)),Os(o)}else bo(o);else if(U=d.s,U==3||U==0&&0<d.X||!(T==1&&wc(o,d)||T==2&&Ga(o)))switch(g&&0<g.length&&(d=o.h,d.i=d.i.concat(g)),U){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Qa(o,d){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*d}function pi(o,d){if(o.j.info("Error code "+d),d==2){var g=H(o.fb,o),T=o.Xa;const U=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Mr(T,"https"),Vr(T),U?xr(T.toString(),g):Cn(T.toString(),g)}else Jt(2);o.G=0,o.l&&o.l.sa(d),Co(o),Ao(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Co(o){if(o.G=0,o.ka=[],o.l){const d=xa(o.h);(d.length!=0||o.i.length!=0)&&(et(o.ka,d),et(o.ka,o.i),o.h.i.length=0,st(o.i),o.i.length=0),o.l.ra()}}function Do(o,d,g){var T=g instanceof fe?rn(g):new fe(g);if(T.g!="")d&&(T.g=d+"."+T.g),Hi(T,T.s);else{var U=y.location;T=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var B=new fe(null);T&&Mr(B,T),d&&(B.g=d),U&&Hi(B,U),g&&(B.l=g),T=B}return g=o.D,d=o.ya,g&&d&&jt(T,g,d),jt(T,"VER",o.la),Br(o,T),T}function No(o,d,g){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Lt(new Gi({eb:g})):new Lt(o.pa),d.Ha(o.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}s=Io.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Vs(){}Vs.prototype.g=function(o,d){return new Xe(o,d)};function Xe(o,d){ne.call(this),this.g=new Ns(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!_t(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_t(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new Yn(this)}Y(Xe,ne),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){qa(this.g)},Xe.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Rn(o),o=g);d.i.push(new yo(d.Ya++,o)),d.G==3&&Os(d)},Xe.prototype.N=function(){this.g.l=null,delete this.j,qa(this.g),delete this.g,Xe.aa.N.call(this)};function Oo(o){li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){t:{for(const g in d){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}Y(Oo,li);function Mo(){Ia.call(this),this.status=1}Y(Mo,Ia);function Yn(o){this.g=o}Y(Yn,Io),Yn.prototype.ua=function(){kt(this.g,"a")},Yn.prototype.ta=function(o){kt(this.g,new Oo(o))},Yn.prototype.sa=function(o){kt(this.g,new Mo)},Yn.prototype.ra=function(){kt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,L_=function(){return new Vs},x_=function(){return ki()},U_=kn,jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,ju=ji,oi.COMPLETE="complete",V_=oi,Na.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Pl=Na,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,M_=Lt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Sy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new id("@firebase/firestore");function oa(){return os.logLevel}function rt(s,...e){if(os.logLevel<=Dt.DEBUG){const r=e.map(fd);os.debug(`Firestore (${Aa}): ${s}`,...r)}}function us(s,...e){if(os.logLevel<=Dt.ERROR){const r=e.map(fd);os.error(`Firestore (${Aa}): ${s}`,...r)}}function hd(s,...e){if(os.logLevel<=Dt.WARN){const r=e.map(fd);os.warn(`Firestore (${Aa}): ${s}`,...r)}}function fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(s,e,r){let l="Unexpected state";typeof e=="string"?l=e:r=e,P_(s,l,r)}function P_(s,e,r){let l=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(r!==void 0)try{l+=" CONTEXT: "+JSON.stringify(r)}catch{l+=" CONTEXT: "+r}throw us(l),new Error(l)}function ae(s,e,r,l){let u="Unexpected state";typeof r=="string"?u=r:l=r,s||P_(e,u,l)}function Kt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Li{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(We.UNAUTHENTICATED)))}shutdown(){}}class iS{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ae(this.o===void 0,42304);let l=this.i;const u=v=>this.i!==l?(l=this.i,r(v)):Promise.resolve();let f=new as;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new as,e.enqueueRetryable((()=>u(this.currentUser)))};const m=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new as)}}),0),m()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((l=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(ae(typeof l.accessToken=="string",31837,{l}),new eS(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class rS{constructor(e,r,l){this.P=e,this.T=r,this.I=l,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sS{constructor(e,r,l){this.P=e,this.T=r,this.I=l}getToken(){return Promise.resolve(new rS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class by{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ae(this.o===void 0,3512);const l=f=>{f.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.m;return this.m=f.token,rt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>l(f)))};const u=f=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new by(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ae(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new by(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let l=0;l<s;l++)r[l]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=lS(40);for(let f=0;f<u.length;++f)l.length<20&&u[f]<r&&(l+=e.charAt(u[f]%62))}return l}}function Pt(s,e){return s<e?-1:s>e?1:0}function qf(s,e){const r=Math.min(s.length,e.length);for(let l=0;l<r;l++){const u=s.charAt(l),f=e.charAt(l);if(u!==f)return Of(u)===Of(f)?Pt(u,f):Of(u)?1:-1}return Pt(s.length,e.length)}const oS=55296,uS=57343;function Of(s){const e=s.charCodeAt(0);return e>=oS&&e<=uS}function pa(s,e,r){return s.length===e.length&&s.every(((l,u)=>r(l,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="__name__";class ti{constructor(e,r,l){r===void 0?r=0:r>e.length&&At(637,{offset:r,range:e.length}),l===void 0?l=e.length-r:l>e.length-r&&At(1746,{length:l,range:e.length-r}),this.segments=e,this.offset=r,this.len=l}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((l=>{r.push(l)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,l=this.limit();r<l;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const l=Math.min(e.length,r.length);for(let u=0;u<l;u++){const f=ti.compareSegments(e.get(u),r.get(u));if(f!==0)return f}return Pt(e.length,r.length)}static compareSegments(e,r){const l=ti.isNumericId(e),u=ti.isNumericId(r);return l&&!u?-1:!l&&u?1:l&&u?ti.extractNumericId(e).compare(ti.extractNumericId(r)):qf(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cd.fromString(e.substring(4,e.length-2))}}class ce extends ti{construct(e,r,l){return new ce(e,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const l of e){if(l.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter((u=>u.length>0)))}return new ce(r)}static emptyPath(){return new ce([])}}const cS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ti{construct(e,r,l){return new ke(e,r,l)}static isValidIdentifier(e){return cS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ry}static keyField(){return new ke([Ry])}static fromServerFormat(e){const r=[];let l="",u=0;const f=()=>{if(l.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let m=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=v,u+=2}else y==="`"?(m=!m,u++):y!=="."||m?(l+=y,u++):(f(),u++)}if(f(),m)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(r)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ce.fromString(e))}static fromName(e){return new vt(ce.fromString(e).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ce.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(s,e,r){if(!r)throw new ct(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fS(s,e,r,l){if(e===!0&&l===!0)throw new ct(Z.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function wy(s){if(!vt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function k_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(l){return l.constructor?l.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":At(12329,{type:typeof s})}function Cy(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=md(s);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e){const r={typeString:s};return e&&(r.value=e),r}function no(s,e){if(!k_(s))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let r;for(const l in e)if(e[l]){const u=e[l].typeString,f="value"in e[l]?{value:e[l].value}:void 0;if(!(l in s)){r=`JSON missing required field: '${l}'`;break}const m=s[l];if(u&&typeof m!==u){r=`JSON field '${l}' must be a ${u}.`;break}if(f!==void 0&&m!==f.value){r=`Expected '${l}' field to equal '${f.value}'`;break}}if(r)throw new ct(Z.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-62135596800,Ny=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),l=Math.floor((e-1e3*r)*Ny);return new te(r,l)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Dy)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(no(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:pe("string",te._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new te(0,0))}static max(){return new Wt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function dS(s,e){const r=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,u=Wt.fromTimestamp(l===1e9?new te(r+1,0):new te(r,l));return new pr(u,vt.empty(),e)}function mS(s){return new pr(s.readTime,s.key,Xl)}class pr{constructor(e,r,l){this.readTime=e,this.documentKey=r,this.largestBatchId=l}static min(){return new pr(Wt.min(),vt.empty(),Xl)}static max(){return new pr(Wt.max(),vt.empty(),Xl)}}function gS(s,e){let r=s.readTime.compareTo(e.readTime);return r!==0?r:(r=vt.comparator(s.documentKey,e.documentKey),r!==0?r:Pt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==pS)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new X(((l,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(l,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(l,u)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof X?r:X.resolve(r)}catch(r){return X.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):X.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):X.reject(r)}static resolve(e){return new X(((r,l)=>{r(e)}))}static reject(e){return new X(((r,l)=>{l(e)}))}static waitFor(e){return new X(((r,l)=>{let u=0,f=0,m=!1;e.forEach((y=>{++u,y.next((()=>{++f,m&&f===u&&r()}),(v=>l(v)))})),m=!0,f===u&&r()}))}static or(e){let r=X.resolve(!1);for(const l of e)r=r.next((u=>u?X.resolve(u):l()));return r}static forEach(e,r){const l=[];return e.forEach(((u,f)=>{l.push(r.call(this,u,f))})),this.waitFor(l)}static mapArray(e,r){return new X(((l,u)=>{const f=e.length,m=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;r(e[_]).next((w=>{m[_]=w,++y,y===f&&l(m)}),(w=>u(w)))}}))}static doWhile(e,r){return new X(((l,u)=>{const f=()=>{e()===!0?r().next((()=>{f()}),u):l()};f()}))}}function _S(s){const e=s.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>r.writeSequenceNumber(l))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function _d(s){return s==null}function Ju(s){return s===0&&1/s==-1/0}function vS(s){return typeof s=="number"&&Number.isInteger(s)&&!Ju(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="";function ES(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Iy(e)),e=TS(s.get(r),e);return Iy(e)}function TS(s,e){let r=e;const l=s.length;for(let u=0;u<l;u++){const f=s.charAt(u);switch(f){case"\0":r+="";break;case z_:r+="";break;default:r+=f}}return r}function Iy(s){return s+z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Sa(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function B_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,r){this.comparator=e,this.root=r||Le.EMPTY}insert(e,r){return new en(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(e){let r=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(e,l.key);if(u===0)return r+l.left.size;u<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,l)=>(e(r,l),!1)))}toString(){const e=[];return this.inorderTraversal(((r,l)=>(e.push(`${r}:${l}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,r,l,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?l(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,r,l,u,f){this.key=e,this.value=r,this.color=l??Le.RED,this.left=u??Le.EMPTY,this.right=f??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,l,u,f){return new Le(e??this.key,r??this.value,l??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,l){let u=this;const f=l(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,l),null):f===0?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let l,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),r(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,r,l,u,f){return this}insert(e,r,l){return new Le(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,l)=>(e(r),!1)))}forEachInRange(e,r){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let l;for(l=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((l=>{r=r.add(l)})),r}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const r=this.data.getIterator(),l=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=l.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new ze(this.comparator);return r.data=e,r}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new xn([])}unionWith(e){let r=new ze(ke.comparator);for(const l of this.fields)r=r.add(l);for(const l of e)r=r.add(l);return new xn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,((r,l)=>r.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new AS("Invalid base64 string: "+f):f}})(e);return new ii(r)}static fromUint8Array(e){const r=(function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f})(e);return new ii(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const l=new Uint8Array(r.length);for(let u=0;u<r.length;u++)l[u]=r.charCodeAt(u);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(s){if(ae(!!s,39018),typeof s=="string"){let e=0;const r=SS.exec(s);if(ae(!!r,46558,{timestamp:s}),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Pe(s.seconds),nanos:Pe(s.nanos)}}function Pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ya(s){return typeof s=="string"?ii.fromBase64String(s):ii.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="server_timestamp",q_="__type__",H_="__previous_value__",G_="__local_write_time__";function vd(s){return(s?.mapValue?.fields||{})[q_]?.stringValue===j_}function Ed(s){const e=s.mapValue.fields[H_];return vd(e)?Ed(e):e}function $u(s){const e=cs(s.mapValue.fields[G_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,r,l,u,f,m,y,v,_,w){this.databaseId=e,this.appId=r,this.persistenceKey=l,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=w}}const Hf="(default)";class Wu{constructor(e,r){this.projectId=e,this.database=r||Hf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__type__",RS="__max__",Lu={mapValue:{}},F_="__vector__",Gf="value";function hs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vd(s)?4:CS(s)?9007199254740991:wS(s)?10:11:At(28295,{value:s})}function ri(s,e){if(s===e)return!0;const r=hs(s);if(r!==hs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $u(s).isEqual($u(e));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=cs(u.timestampValue),y=cs(f.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,f){return ya(u.bytesValue).isEqual(ya(f.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,f){return Pe(u.geoPointValue.latitude)===Pe(f.geoPointValue.latitude)&&Pe(u.geoPointValue.longitude)===Pe(f.geoPointValue.longitude)})(s,e);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return Pe(u.integerValue)===Pe(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=Pe(u.doubleValue),y=Pe(f.doubleValue);return m===y?Ju(m)===Ju(y):isNaN(m)&&isNaN(y)}return!1})(s,e);case 9:return pa(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(u,f){const m=u.mapValue.fields||{},y=f.mapValue.fields||{};if(Oy(m)!==Oy(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!ri(m[v],y[v])))return!1;return!0})(s,e);default:return At(52216,{left:s})}}function Kl(s,e){return(s.values||[]).find((r=>ri(r,e)))!==void 0}function _a(s,e){if(s===e)return 0;const r=hs(s),l=hs(e);if(r!==l)return Pt(r,l);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,e.booleanValue);case 2:return(function(f,m){const y=Pe(f.integerValue||f.doubleValue),v=Pe(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Vy(s.timestampValue,e.timestampValue);case 4:return Vy($u(s),$u(e));case 5:return qf(s.stringValue,e.stringValue);case 6:return(function(f,m){const y=ya(f),v=ya(m);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(f,m){const y=f.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const w=Pt(y[_],v[_]);if(w!==0)return w}return Pt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(f,m){const y=Pt(Pe(f.latitude),Pe(m.latitude));return y!==0?y:Pt(Pe(f.longitude),Pe(m.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Uy(s.arrayValue,e.arrayValue);case 10:return(function(f,m){const y=f.fields||{},v=m.fields||{},_=y[Gf]?.arrayValue,w=v[Gf]?.arrayValue,L=Pt(_?.values?.length||0,w?.values?.length||0);return L!==0?L:Uy(_,w)})(s.mapValue,e.mapValue);case 11:return(function(f,m){if(f===Lu.mapValue&&m===Lu.mapValue)return 0;if(f===Lu.mapValue)return 1;if(m===Lu.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=m.fields||{},w=Object.keys(_);v.sort(),w.sort();for(let L=0;L<v.length&&L<w.length;++L){const H=qf(v[L],w[L]);if(H!==0)return H;const W=_a(y[v[L]],_[w[L]]);if(W!==0)return W}return Pt(v.length,w.length)})(s.mapValue,e.mapValue);default:throw At(23264,{he:r})}}function Vy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pt(s,e);const r=cs(s),l=cs(e),u=Pt(r.seconds,l.seconds);return u!==0?u:Pt(r.nanos,l.nanos)}function Uy(s,e){const r=s.values||[],l=e.values||[];for(let u=0;u<r.length&&u<l.length;++u){const f=_a(r[u],l[u]);if(f)return f}return Pt(r.length,l.length)}function va(s){return Qf(s)}function Qf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(r){const l=cs(r);return`time(${l.seconds},${l.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(r){return ya(r).toBase64()})(s.bytesValue):"referenceValue"in s?(function(r){return vt.fromName(r).toString()})(s.referenceValue):"geoPointValue"in s?(function(r){return`geo(${r.latitude},${r.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(r){let l="[",u=!0;for(const f of r.values||[])u?u=!1:l+=",",l+=Qf(f);return l+"]"})(s.arrayValue):"mapValue"in s?(function(r){const l=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of l)f?f=!1:u+=",",u+=`${m}:${Qf(r.fields[m])}`;return u+"}"})(s.mapValue):At(61005,{value:s})}function qu(s){switch(hs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(s);return e?16+qu(e):16;case 5:return 2*s.stringValue.length;case 6:return ya(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((u,f)=>u+qu(f)),0)})(s.arrayValue);case 10:case 11:return(function(l){let u=0;return Sa(l.fields,((f,m)=>{u+=f.length+qu(m)})),u})(s.mapValue);default:throw At(13486,{value:s})}}function Ff(s){return!!s&&"integerValue"in s}function Td(s){return!!s&&"arrayValue"in s}function Hu(s){return!!s&&"mapValue"in s}function wS(s){return(s?.mapValue?.fields||{})[Q_]?.stringValue===F_}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sa(s.mapValue.fields,((r,l)=>e.mapValue.fields[r]=zl(l))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zl(s.arrayValue.values[r]);return e}return{...s}}function CS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let l=0;l<e.length-1;++l)if(r=(r.mapValue.fields||{})[e.get(l)],!Hu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(r)}setAll(e){let r=ke.emptyPath(),l={},u=[];e.forEach(((m,y)=>{if(!r.isImmediateParentOf(y)){const v=this.getFieldsMap(r);this.applyChanges(v,l,u),l={},u=[],r=y.popLast()}m?l[y.lastSegment()]=zl(m):u.push(y.lastSegment())}));const f=this.getFieldsMap(r);this.applyChanges(f,l,u)}delete(e){const r=this.field(e.popLast());Hu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<e.length;++l){let u=r.mapValue.fields[e.get(l)];Hu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(l)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,l){Sa(r,((u,f)=>e[u]=f));for(const u of l)delete e[u]}clone(){return new Mn(zl(this.value))}}function Y_(s){const e=[];return Sa(s.fields,((r,l)=>{const u=new ke([r]);if(Hu(l)){const f=Y_(l.mapValue).fields;if(f.length===0)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,r,l,u,f,m,y){this.key=e,this.documentType=r,this.version=l,this.readTime=u,this.createTime=f,this.data=m,this.documentState=y}static newInvalidDocument(e){return new On(e,0,Wt.min(),Wt.min(),Wt.min(),Mn.empty(),0)}static newFoundDocument(e,r,l,u){return new On(e,1,r,Wt.min(),l,u,0)}static newNoDocument(e,r){return new On(e,2,r,Wt.min(),Wt.min(),Mn.empty(),0)}static newUnknownDocument(e,r){return new On(e,3,r,Wt.min(),Wt.min(),Mn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,r){this.position=e,this.inclusive=r}}function xy(s,e,r){let l=0;for(let u=0;u<s.position.length;u++){const f=e[u],m=s.position[u];if(f.field.isKeyField()?l=vt.comparator(vt.fromName(m.referenceValue),r.key):l=_a(m,r.data.field(f.field)),f.dir==="desc"&&(l*=-1),l!==0)break}return l}function Ly(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!ri(s.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,r="asc"){this.field=e,this.dir=r}}function DS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{}class Ie extends X_{constructor(e,r,l){super(),this.field=e,this.op=r,this.value=l}static create(e,r,l){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,l):new IS(e,r,l):r==="array-contains"?new VS(e,l):r==="in"?new US(e,l):r==="not-in"?new xS(e,l):r==="array-contains-any"?new LS(e,l):new Ie(e,r,l)}static createKeyFieldInFilter(e,r,l){return r==="in"?new OS(e,l):new MS(e,l)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(_a(r,this.value)):r!==null&&hs(this.value)===hs(r)&&this.matchesComparison(_a(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends X_{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new yr(e,r)}matches(e){return K_(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K_(s){return s.op==="and"}function Z_(s){return NS(s)&&K_(s)}function NS(s){for(const e of s.filters)if(e instanceof yr)return!1;return!0}function Yf(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+va(s.value);if(Z_(s))return s.filters.map((e=>Yf(e))).join(",");{const e=s.filters.map((r=>Yf(r))).join(",");return`${s.op}(${e})`}}function J_(s,e){return s instanceof Ie?(function(l,u){return u instanceof Ie&&l.op===u.op&&l.field.isEqual(u.field)&&ri(l.value,u.value)})(s,e):s instanceof yr?(function(l,u){return u instanceof yr&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce(((f,m,y)=>f&&J_(m,u.filters[y])),!0):!1})(s,e):void At(19439)}function $_(s){return s instanceof Ie?(function(r){return`${r.field.canonicalString()} ${r.op} ${va(r.value)}`})(s):s instanceof yr?(function(r){return r.op.toString()+" {"+r.getFilters().map($_).join(" ,")+"}"})(s):"Filter"}class IS extends Ie{constructor(e,r,l){super(e,r,l),this.key=vt.fromName(l.referenceValue)}matches(e){const r=vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class OS extends Ie{constructor(e,r){super(e,"in",r),this.keys=W_("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class MS extends Ie{constructor(e,r){super(e,"not-in",r),this.keys=W_("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function W_(s,e){return(e.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class VS extends Ie{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Td(r)&&Kl(r.arrayValue,this.value)}}class US extends Ie{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Kl(this.value.arrayValue,r)}}class xS extends Ie{constructor(e,r){super(e,"not-in",r)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Kl(this.value.arrayValue,r)}}class LS extends Ie{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Td(r)||!r.arrayValue.values)&&r.arrayValue.values.some((l=>Kl(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,r=null,l=[],u=[],f=null,m=null,y=null){this.path=e,this.collectionGroup=r,this.orderBy=l,this.filters=u,this.limit=f,this.startAt=m,this.endAt=y,this.Te=null}}function Py(s,e=null,r=[],l=[],u=null,f=null,m=null){return new PS(s,e,r,l,u,f,m)}function Ad(s){const e=Kt(s);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((l=>Yf(l))).join(","),r+="|ob:",r+=e.orderBy.map((l=>(function(f){return f.field.canonicalString()+f.dir})(l))).join(","),_d(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((l=>va(l))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((l=>va(l))).join(",")),e.Te=r}return e.Te}function Sd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!DS(s.orderBy[r],e.orderBy[r]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!J_(s.filters[r],e.filters[r]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ly(s.startAt,e.startAt)&&Ly(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,r=null,l=[],u=[],f=null,m="F",y=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=u,this.limit=f,this.limitType=m,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kS(s,e,r,l,u,f,m,y){return new cc(s,e,r,l,u,f,m,y)}function zS(s){return new cc(s)}function ky(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function BS(s){return s.collectionGroup!==null}function Bl(s){const e=Kt(s);if(e.Ie===null){e.Ie=[];const r=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),r.add(f.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new ze(ke.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{r.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ec(f,l))})),r.has(ke.keyField().canonicalString())||e.Ie.push(new ec(ke.keyField(),l))}return e.Ie}function ls(s){const e=Kt(s);return e.Ee||(e.Ee=jS(e,Bl(s))),e.Ee}function jS(s,e){if(s.limitType==="F")return Py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new ec(u.field,f)}));const r=s.endAt?new tc(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new tc(s.startAt.position,s.startAt.inclusive):null;return Py(s.path,s.collectionGroup,e,s.filters,s.limit,r,l)}}function Xf(s,e,r){return new cc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function tv(s,e){return Sd(ls(s),ls(e))&&s.limitType===e.limitType}function ev(s){return`${Ad(ls(s))}|lt:${s.limitType}`}function Ul(s){return`Query(target=${(function(r){let l=r.path.canonicalString();return r.collectionGroup!==null&&(l+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(l+=`, filters: [${r.filters.map((u=>$_(u))).join(", ")}]`),_d(r.limit)||(l+=", limit: "+r.limit),r.orderBy.length>0&&(l+=`, orderBy: [${r.orderBy.map((u=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(u))).join(", ")}]`),r.startAt&&(l+=", startAt: ",l+=r.startAt.inclusive?"b:":"a:",l+=r.startAt.position.map((u=>va(u))).join(",")),r.endAt&&(l+=", endAt: ",l+=r.endAt.inclusive?"a:":"b:",l+=r.endAt.position.map((u=>va(u))).join(",")),`Target(${l})`})(ls(s))}; limitType=${s.limitType})`}function bd(s,e){return e.isFoundDocument()&&(function(l,u){const f=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(f):vt.isDocumentKey(l.path)?l.path.isEqual(f):l.path.isImmediateParentOf(f)})(s,e)&&(function(l,u){for(const f of Bl(l))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(s,e)&&(function(l,u){for(const f of l.filters)if(!f.matches(u))return!1;return!0})(s,e)&&(function(l,u){return!(l.startAt&&!(function(m,y,v){const _=xy(m,y,v);return m.inclusive?_<=0:_<0})(l.startAt,Bl(l),u)||l.endAt&&!(function(m,y,v){const _=xy(m,y,v);return m.inclusive?_>=0:_>0})(l.endAt,Bl(l),u))})(s,e)}function qS(s){return(e,r)=>{let l=!1;for(const u of Bl(s)){const f=HS(u,e,r);if(f!==0)return f;l=l||u.field.isKeyField()}return 0}}function HS(s,e,r){const l=s.field.isKeyField()?vt.comparator(e.key,r.key):(function(f,m,y){const v=m.data.field(f),_=y.data.field(f);return v!==null&&_!==null?_a(v,_):At(42886)})(s.field,e,r);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return At(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),l=this.inner[r];if(l!==void 0){for(const[u,f]of l)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,r){const l=this.mapKeyFn(e),u=this.inner[l];if(u===void 0)return this.inner[l]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return l.length===1?delete this.inner[r]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((r,l)=>{for(const[u,f]of l)e(u,f)}))}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new en(vt.comparator);function nc(){return GS}const nv=new en(vt.comparator);function Pu(...s){let e=nv;for(const r of s)e=e.insert(r.key,r);return e}function iv(s){let e=nv;return s.forEach(((r,l)=>e=e.insert(r,l.overlayedDocument))),e}function rs(){return jl()}function rv(){return jl()}function jl(){return new ms((s=>s.toString()),((s,e)=>s.isEqual(e)))}const QS=new en(vt.comparator),FS=new ze(vt.comparator);function Ge(...s){let e=FS;for(const r of s)e=e.add(r);return e}const YS=new ze(Pt);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function sv(s){return{integerValue:""+s}}function KS(s,e){return vS(e)?sv(e):Rd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function ZS(s,e,r){return s instanceof ic?(function(u,f){const m={fields:{[q_]:{stringValue:j_},[G_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&vd(f)&&(f=Ed(f)),f&&(m.fields[H_]=f),{mapValue:m}})(r,e):s instanceof Zl?lv(s,e):s instanceof Jl?ov(s,e):(function(u,f){const m=av(u,f),y=zy(m)+zy(u.Ae);return Ff(m)&&Ff(u.Ae)?sv(y):Rd(u.serializer,y)})(s,e)}function JS(s,e,r){return s instanceof Zl?lv(s,e):s instanceof Jl?ov(s,e):r}function av(s,e){return s instanceof rc?(function(l){return Ff(l)||(function(f){return!!f&&"doubleValue"in f})(l)})(e)?e:{integerValue:0}:null}class ic extends hc{}class Zl extends hc{constructor(e){super(),this.elements=e}}function lv(s,e){const r=uv(e);for(const l of s.elements)r.some((u=>ri(u,l)))||r.push(l);return{arrayValue:{values:r}}}class Jl extends hc{constructor(e){super(),this.elements=e}}function ov(s,e){let r=uv(e);for(const l of s.elements)r=r.filter((u=>!ri(u,l)));return{arrayValue:{values:r}}}class rc extends hc{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function zy(s){return Pe(s.integerValue||s.doubleValue)}function uv(s){return Td(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $S(s,e){return s.field.isEqual(e.field)&&(function(l,u){return l instanceof Zl&&u instanceof Zl||l instanceof Jl&&u instanceof Jl?pa(l.elements,u.elements,ri):l instanceof rc&&u instanceof rc?ri(l.Ae,u.Ae):l instanceof ic&&u instanceof ic})(s.transform,e.transform)}class WS{constructor(e,r){this.version=e,this.transformResults=r}}class Mi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fc{}function cv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fv(s.key,Mi.none()):new ro(s.key,s.data,Mi.none());{const r=s.data,l=Mn.empty();let u=new ze(ke.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);m===null&&f.length>1&&(f=f.popLast(),m=r.field(f)),m===null?l.delete(f):l.set(f,m),u=u.add(f)}return new gs(s.key,l,new xn(u.toArray()),Mi.none())}}function t1(s,e,r){s instanceof ro?(function(u,f,m){const y=u.value.clone(),v=jy(u.fieldTransforms,f,m.transformResults);y.setAll(v),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,e,r):s instanceof gs?(function(u,f,m){if(!Gu(u.precondition,f))return void f.convertToUnknownDocument(m.version);const y=jy(u.fieldTransforms,f,m.transformResults),v=f.data;v.setAll(hv(u)),v.setAll(y),f.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,e,r):(function(u,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,r)}function ql(s,e,r,l){return s instanceof ro?(function(f,m,y,v){if(!Gu(f.precondition,m))return y;const _=f.value.clone(),w=qy(f.fieldTransforms,v,m);return _.setAll(w),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(s,e,r,l):s instanceof gs?(function(f,m,y,v){if(!Gu(f.precondition,m))return y;const _=qy(f.fieldTransforms,v,m),w=m.data;return w.setAll(hv(f)),w.setAll(_),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((L=>L.field)))})(s,e,r,l):(function(f,m,y){return Gu(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y})(s,e,r)}function e1(s,e){let r=null;for(const l of s.fieldTransforms){const u=e.data.field(l.field),f=av(l.transform,u||null);f!=null&&(r===null&&(r=Mn.empty()),r.set(l.field,f))}return r||null}function By(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&pa(l,u,((f,m)=>$S(f,m)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ro extends fc{constructor(e,r,l,u=[]){super(),this.key=e,this.value=r,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gs extends fc{constructor(e,r,l,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=l,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function hv(s){const e=new Map;return s.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const l=s.data.field(r);e.set(r,l)}})),e}function jy(s,e,r){const l=new Map;ae(s.length===r.length,32656,{Re:r.length,Ve:s.length});for(let u=0;u<r.length;u++){const f=s[u],m=f.transform,y=e.data.field(f.field);l.set(f.field,JS(m,y,r[u]))}return l}function qy(s,e,r){const l=new Map;for(const u of s){const f=u.transform,m=r.data.field(u.field);l.set(u.field,ZS(f,m,e))}return l}class fv extends fc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n1 extends fc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,r,l,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(e,r){const l=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&t1(f,e,l[u])}}applyToLocalView(e,r){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(r=ql(l,e,r,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(r=ql(l,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const l=rv();return this.mutations.forEach((u=>{const f=e.get(u.key),m=f.overlayedDocument;let y=this.applyToLocalView(m,f.mutatedFields);y=r.has(u.key)?null:y;const v=cv(m,y);v!==null&&l.set(u.key,v),m.isValidDocument()||m.convertToNoDocument(Wt.min())})),l}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,((r,l)=>By(r,l)))&&pa(this.baseMutations,e.baseMutations,((r,l)=>By(r,l)))}}class wd{constructor(e,r,l,u){this.batch=e,this.commitVersion=r,this.mutationResults=l,this.docVersions=u}static from(e,r,l){ae(e.mutations.length===l.length,58842,{me:e.mutations.length,fe:l.length});let u=(function(){return QS})();const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,l[m].version);return new wd(e,r,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function s1(s){switch(s){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:s})}}function a1(s){if(s===void 0)return us("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:s})}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cd([4294967295,4294967295],0);class l1{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Kf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function u1(s,e){return Kf(s,e.toTimestamp())}function fa(s){return ae(!!s,49232),Wt.fromTimestamp((function(r){const l=cs(r);return new te(l.seconds,l.nanos)})(s))}function dv(s,e){return Zf(s,e).canonicalString()}function Zf(s,e){const r=(function(u){return new ce(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?r:r.child(e)}function c1(s){const e=ce.fromString(s);return ae(_1(e),10190,{key:e.toString()}),e}function Jf(s,e){return dv(s.databaseId,e.path)}function h1(s){const e=c1(s);return e.length===4?ce.emptyPath():d1(e)}function f1(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function d1(s){return ae(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Hy(s,e,r){return{name:Jf(s,e),fields:r.value.mapValue.fields}}function m1(s,e){let r;if(e instanceof ro)r={update:Hy(s,e.key,e.value)};else if(e instanceof fv)r={delete:Jf(s,e.key)};else if(e instanceof gs)r={update:Hy(s,e.key,e.data),updateMask:y1(e.fieldMask)};else{if(!(e instanceof n1))return At(16599,{Vt:e.type});r={verify:Jf(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((l=>(function(f,m){const y=m.transform;if(y instanceof ic)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Zl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Jl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rc)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw At(20930,{transform:m.transform})})(0,l)))),e.precondition.isNone||(r.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:u1(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:At(27497)})(s,e.precondition)),r}function g1(s,e){return s&&s.length>0?(ae(e!==void 0,14353),s.map((r=>(function(u,f){let m=u.updateTime?fa(u.updateTime):fa(f);return m.isEqual(Wt.min())&&(m=fa(f)),new WS(m,u.transformResults||[])})(r,e)))):[]}function p1(s){let e=h1(s.parent);const r=s.structuredQuery,l=r.from?r.from.length:0;let u=null;if(l>0){ae(l===1,65062);const w=r.from[0];w.allDescendants?u=w.collectionId:e=e.child(w.collectionId)}let f=[];r.where&&(f=(function(L){const H=mv(L);return H instanceof yr&&Z_(H)?H.getFilters():[H]})(r.where));let m=[];r.orderBy&&(m=(function(L){return L.map((H=>(function(Y){return new ec(ua(Y.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(H)))})(r.orderBy));let y=null;r.limit&&(y=(function(L){let H;return H=typeof L=="object"?L.value:L,_d(H)?null:H})(r.limit));let v=null;r.startAt&&(v=(function(L){const H=!!L.before,W=L.values||[];return new tc(W,H)})(r.startAt));let _=null;return r.endAt&&(_=(function(L){const H=!L.before,W=L.values||[];return new tc(W,H)})(r.endAt)),kS(e,u,m,f,y,"F",v,_)}function mv(s){return s.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const l=ua(r.unaryFilter.field);return Ie.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=ua(r.unaryFilter.field);return Ie.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ua(r.unaryFilter.field);return Ie.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ua(r.unaryFilter.field);return Ie.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(s):s.fieldFilter!==void 0?(function(r){return Ie.create(ua(r.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(r){return yr.create(r.compositeFilter.filters.map((l=>mv(l))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(r.compositeFilter.op))})(s):At(30097,{filter:s})}function ua(s){return ke.fromServerFormat(s.fieldPath)}function y1(s){const e=[];return s.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function _1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.yt=e}}function E1(s){const e=p1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.Cn=new A1}addToCollectionParentIndex(e,r){return this.Cn.add(r),X.resolve()}getCollectionParents(e,r){return X.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return X.resolve()}deleteFieldIndex(e,r){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,r){return X.resolve()}getDocumentsMatchingTarget(e,r){return X.resolve(null)}getIndexType(e,r){return X.resolve(0)}getFieldIndexes(e,r){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,r){return X.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,r){return X.resolve(pr.min())}updateCollectionGroup(e,r,l){return X.resolve()}updateIndexEntries(e,r){return X.resolve()}}class A1{constructor(){this.index={}}add(e){const r=e.lastSegment(),l=e.popLast(),u=this.index[r]||new ze(ce.comparator),f=!u.has(l);return this.index[r]=u.add(l),f}has(e){const r=e.lastSegment(),l=e.popLast(),u=this.index[r];return u&&u.has(l)}getEntries(e){return(this.index[e]||new ze(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(gv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ea(0)}static cr(){return new Ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LruGarbageCollector",S1=1048576;function Fy([s,e],[r,l]){const u=Pt(s,r);return u===0?Pt(e,l):u}class b1{constructor(e){this.Ir=e,this.buffer=new ze(Fy),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();Fy(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class R1{constructor(e,r,l){this.garbageCollector=e,this.asyncQueue=r,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(Qy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){io(r)?rt(Qy,"Ignoring IndexedDB error during garbage collection: ",r):await gd(r)}await this.Vr(3e5)}))}}class w1{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((l=>Math.floor(r/100*l)))}nthSequenceNumber(e,r){if(r===0)return X.resolve(pd.ce);const l=new b1(r);return this.mr.forEachTarget(e,(u=>l.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>l.Ar(u))))).next((()=>l.maxValue))}removeTargets(e,r,l){return this.mr.removeTargets(e,r,l)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gy)):this.getCacheSize(e).next((l=>l<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let l,u,f,m,y,v,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),u=this.params.maximumSequenceNumbersToCollect):u=L,m=Date.now(),this.nthSequenceNumber(e,u)))).next((L=>(l=L,y=Date.now(),this.removeTargets(e,l,r)))).next((L=>(f=L,v=Date.now(),this.removeOrphanedDocuments(e,l)))).next((L=>(_=Date.now(),oa()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${u} in `+(y-m)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${L} documents in `+(_-v)+`ms
Total Duration: ${_-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:L}))))}}function C1(s,e){return new w1(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.changes=new ms((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const l=this.changes.get(r);return l!==void 0?X.resolve(l):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r,l,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=l,this.indexManager=u}getDocument(e,r){let l=null;return this.documentOverlayCache.getOverlay(e,r).next((u=>(l=u,this.remoteDocumentCache.getEntry(e,r)))).next((u=>(l!==null&&ql(l.mutation,u,xn.empty(),te.now()),u)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((l=>this.getLocalViewOfDocuments(e,l,Ge()).next((()=>l))))}getLocalViewOfDocuments(e,r,l=Ge()){const u=rs();return this.populateOverlays(e,u,r).next((()=>this.computeViews(e,r,u,l).next((f=>{let m=Pu();return f.forEach(((y,v)=>{m=m.insert(y,v.overlayedDocument)})),m}))))}getOverlayedDocuments(e,r){const l=rs();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,Ge())))}populateOverlays(e,r,l){const u=[];return l.forEach((f=>{r.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(e,u).next((f=>{f.forEach(((m,y)=>{r.set(m,y)}))}))}computeViews(e,r,l,u){let f=nc();const m=jl(),y=(function(){return jl()})();return r.forEach(((v,_)=>{const w=l.get(_.key);u.has(_.key)&&(w===void 0||w.mutation instanceof gs)?f=f.insert(_.key,_):w!==void 0?(m.set(_.key,w.mutation.getFieldMask()),ql(w.mutation,_,w.mutation.getFieldMask(),te.now())):m.set(_.key,xn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,w)=>m.set(_,w))),r.forEach(((_,w)=>y.set(_,new N1(w,m.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,r){const l=jl();let u=new en(((m,y)=>m-y)),f=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((m=>{for(const y of m)y.keys().forEach((v=>{const _=r.get(v);if(_===null)return;let w=l.get(v)||xn.empty();w=y.applyToLocalView(_,w),l.set(v,w);const L=(u.get(y.batchId)||Ge()).add(v);u=u.insert(y.batchId,L)}))})).next((()=>{const m=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,w=v.value,L=rv();w.forEach((H=>{if(!f.has(H)){const W=cv(r.get(H),l.get(H));W!==null&&L.set(H,W),f=f.add(H)}})),m.push(this.documentOverlayCache.saveOverlays(e,_,L))}return X.waitFor(m)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((l=>this.recalculateAndSaveOverlays(e,l)))}getDocumentsMatchingQuery(e,r,l,u){return(function(m){return vt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):BS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,l,u):this.getDocumentsMatchingCollectionQuery(e,r,l,u)}getNextDocuments(e,r,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,l,u).next((f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,l.largestBatchId,u-f.size):X.resolve(rs());let y=Xl,v=f;return m.next((_=>X.forEach(_,((w,L)=>(y<L.largestBatchId&&(y=L.largestBatchId),f.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next((H=>{v=v.insert(w,H)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Ge()))).next((w=>({batchId:y,changes:iv(w)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new vt(r)).next((l=>{let u=Pu();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u}))}getDocumentsMatchingCollectionGroupQuery(e,r,l,u){const f=r.collectionGroup;let m=Pu();return this.indexManager.getCollectionParents(e,f).next((y=>X.forEach(y,(v=>{const _=(function(L,H){return new cc(H,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(r,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,l,u).next((w=>{w.forEach(((L,H)=>{m=m.insert(L,H)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,r,l,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,l.largestBatchId).next((m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,l,f,u)))).next((m=>{f.forEach(((v,_)=>{const w=_.getKey();m.get(w)===null&&(m=m.insert(w,On.newInvalidDocument(w)))}));let y=Pu();return m.forEach(((v,_)=>{const w=f.get(v);w!==void 0&&ql(w.mutation,_,xn.empty(),te.now()),bd(r,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return X.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(u){return{id:u.id,version:u.version,createTime:fa(u.createTime)}})(r)),X.resolve()}getNamedQuery(e,r){return X.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(u){return{name:u.name,query:E1(u.bundledQuery),readTime:fa(u.readTime)}})(r)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.overlays=new en(vt.comparator),this.qr=new Map}getOverlay(e,r){return X.resolve(this.overlays.get(r))}getOverlays(e,r){const l=rs();return X.forEach(r,(u=>this.getOverlay(e,u).next((f=>{f!==null&&l.set(u,f)})))).next((()=>l))}saveOverlays(e,r,l){return l.forEach(((u,f)=>{this.St(e,r,f)})),X.resolve()}removeOverlaysForBatchId(e,r,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(l)),X.resolve()}getOverlaysForCollection(e,r,l){const u=rs(),f=r.length+1,m=new vt(r.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!r.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>l&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,r,l,u){let f=new en(((_,w)=>_-w));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===r&&_.largestBatchId>l){let w=f.get(_.largestBatchId);w===null&&(w=rs(),f=f.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const y=rs(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,w)=>y.set(_,w))),!(y.size()>=u)););return X.resolve(y)}St(e,r,l){const u=this.overlays.get(l.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new r1(r,l));let f=this.qr.get(r);f===void 0&&(f=Ge(),this.qr.set(r,f)),this.qr.set(r,f.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.Qr=new ze(Ne.$r),this.Ur=new ze(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const l=new Ne(e,r);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(e,r){e.forEach((l=>this.addReference(l,r)))}removeReference(e,r){this.Gr(new Ne(e,r))}zr(e,r){e.forEach((l=>this.removeReference(l,r)))}jr(e){const r=new vt(new ce([])),l=new Ne(r,e),u=new Ne(r,e+1),f=[];return this.Ur.forEachInRange([l,u],(m=>{this.Gr(m),f.push(m.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new vt(new ce([])),l=new Ne(r,e),u=new Ne(r,e+1);let f=Ge();return this.Ur.forEachInRange([l,u],(m=>{f=f.add(m.key)})),f}containsKey(e){const r=new Ne(e,0),l=this.Qr.firstAfterOrEqual(r);return l!==null&&e.isEqual(l.key)}}class Ne{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return vt.comparator(e.key,r.key)||Pt(e.Yr,r.Yr)}static Kr(e,r){return Pt(e.Yr,r.Yr)||vt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Ne.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,l,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new i1(f,r,l,u);this.mutationQueue.push(m);for(const y of u)this.Zr=this.Zr.add(new Ne(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(m)}lookupMutationBatch(e,r){return X.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const l=r+1,u=this.ei(l),f=u<0?0:u;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?yd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const l=new Ne(r,0),u=new Ne(r,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([l,u],(m=>{const y=this.Xr(m.Yr);f.push(y)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new ze(Pt);return r.forEach((u=>{const f=new Ne(u,0),m=new Ne(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,m],(y=>{l=l.add(y.Yr)}))})),X.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,u=l.length+1;let f=l;vt.isDocumentKey(f)||(f=f.child(""));const m=new Ne(new vt(f),0);let y=new ze(Pt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),m),X.resolve(this.ti(y))}ti(e){const r=[];return e.forEach((l=>{const u=this.Xr(l);u!==null&&r.push(u)})),r}removeMutationBatch(e,r){ae(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return X.forEach(r.mutations,(u=>{const f=new Ne(u.key,r.batchId);return l=l.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=l}))}ir(e){}containsKey(e,r){const l=new Ne(r,0),u=this.Zr.firstAfterOrEqual(l);return X.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.ri=e,this.docs=(function(){return new en(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const l=r.key,u=this.docs.get(l),f=u?u.size:0,m=this.ri(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const l=this.docs.get(r);return X.resolve(l?l.document.mutableCopy():On.newInvalidDocument(r))}getEntries(e,r){let l=nc();return r.forEach((u=>{const f=this.docs.get(u);l=l.insert(u,f?f.document.mutableCopy():On.newInvalidDocument(u))})),X.resolve(l)}getDocumentsMatchingQuery(e,r,l,u){let f=nc();const m=r.path,y=new vt(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:w}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||gS(mS(w),l)<=0||(u.has(w.key)||bd(r,w))&&(f=f.insert(w.key,w.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,r,l,u){At(9500)}ii(e,r){return X.forEach(this.docs,(l=>r(l)))}newChangeBuffer(e){return new L1(this)}getSize(e){return X.resolve(this.size)}}class L1 extends D1{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((l,u)=>{u.isValidDocument()?r.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(l)})),X.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.persistence=e,this.si=new ms((r=>Ad(r)),Sd),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Cd,this.targetCount=0,this.ai=Ea.ur()}forEachTarget(e,r){return this.si.forEach(((l,u)=>r(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.oi&&(this.oi=r),X.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ea(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,X.resolve()}updateTargetData(e,r){return this.Pr(r),X.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,r,l){let u=0;const f=[];return this.si.forEach(((m,y)=>{y.sequenceNumber<=r&&l.get(y.targetId)===null&&(this.si.delete(m),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(f).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,r){const l=this.si.get(r)||null;return X.resolve(l)}addMatchingKeys(e,r,l){return this._i.Wr(r,l),X.resolve()}removeMatchingKeys(e,r,l){this._i.zr(r,l);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach((m=>{f.push(u.markPotentiallyOrphaned(e,m))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),X.resolve()}getMatchingKeysForTargetId(e,r){const l=this._i.Hr(r);return X.resolve(l)}containsKey(e,r){return X.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,r){this.ui={},this.overlays={},this.ci=new pd(0),this.li=!1,this.li=!0,this.hi=new V1,this.referenceDelegate=e(this),this.Pi=new P1(this),this.indexManager=new T1,this.remoteDocumentCache=(function(u){return new x1(u)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new v1(r),this.Ii=new O1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new M1,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let l=this.ui[e.toKey()];return l||(l=new U1(r,this.referenceDelegate),this.ui[e.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,l){rt("MemoryPersistence","Starting transaction:",e);const u=new k1(this.ci.next());return this.referenceDelegate.Ei(),l(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(e,r){return X.or(Object.values(this.ui).map((l=>()=>l.containsKey(e,r))))}}class k1 extends yS{constructor(e){super(),this.currentSequenceNumber=e}}class Dd{constructor(e){this.persistence=e,this.Ri=new Cd,this.Vi=null}static mi(e){return new Dd(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,r,l){return this.Ri.addReference(l,r),this.fi.delete(l.toString()),X.resolve()}removeReference(e,r,l){return this.Ri.removeReference(l,r),this.fi.add(l.toString()),X.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),X.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((u=>this.fi.add(u.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,r.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>l.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(l=>{const u=vt.fromPath(l);return this.gi(e,u).next((f=>{f||r.removeEntry(u,Wt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((l=>{l?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return X.or([()=>X.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class sc{constructor(e,r){this.persistence=e,this.pi=new ms((l=>ES(l.path)),((l,u)=>l.isEqual(u))),this.garbageCollector=C1(this,r)}static mi(e,r){return new sc(e,r)}Ei(){}di(e){return X.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((l=>r.next((u=>l+u))))}wr(e){let r=0;return this.pr(e,(l=>{r++})).next((()=>r))}pr(e,r){return X.forEach(this.pi,((l,u)=>this.br(e,l,u).next((f=>f?X.resolve():r(u)))))}removeTargets(e,r,l){return this.persistence.getTargetCache().removeTargets(e,r,l)}removeOrphanedDocuments(e,r){let l=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(e,(m=>this.br(e,m,r).next((y=>{y||(l++,f.removeEntry(m,Wt.min()))})))).next((()=>f.apply(e))).next((()=>l))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeTarget(e,r){const l=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,l)}addReference(e,r,l){return this.pi.set(l,e.currentSequenceNumber),X.resolve()}removeReference(e,r,l){return this.pi.set(l,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=qu(e.data.value)),r}br(e,r,l){return X.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const u=this.pi.get(r);return X.resolve(u!==void 0&&u>l)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r,l,u){this.targetId=e,this.fromCache=r,this.Es=l,this.ds=u}static As(e,r){let l=Ge(),u=Ge();for(const f of r.docChanges)switch(f.type){case 0:l=l.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Nd(e,r.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return U0()?8:_S(Ln())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,l,u){const f={result:null};return this.ys(e,r).next((m=>{f.result=m})).next((()=>{if(!f.result)return this.ws(e,r,u,l).next((m=>{f.result=m}))})).next((()=>{if(f.result)return;const m=new z1;return this.Ss(e,r,m).next((y=>{if(f.result=y,this.Vs)return this.bs(e,r,m,y.size)}))})).next((()=>f.result))}bs(e,r,l,u){return l.documentReadCount<this.fs?(oa()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ul(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(oa()<=Dt.DEBUG&&rt("QueryEngine","Query:",Ul(r),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(oa()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ul(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(r))):X.resolve())}ys(e,r){if(ky(r))return X.resolve(null);let l=ls(r);return this.indexManager.getIndexType(e,l).next((u=>u===0?null:(r.limit!==null&&u===1&&(r=Xf(r,null,"F"),l=ls(r)),this.indexManager.getDocumentsMatchingTarget(e,l).next((f=>{const m=Ge(...f);return this.ps.getDocuments(e,m).next((y=>this.indexManager.getMinOffset(e,l).next((v=>{const _=this.Ds(r,y);return this.Cs(r,_,m,v.readTime)?this.ys(e,Xf(r,null,"F")):this.vs(e,_,r,v)}))))})))))}ws(e,r,l,u){return ky(r)||u.isEqual(Wt.min())?X.resolve(null):this.ps.getDocuments(e,l).next((f=>{const m=this.Ds(r,f);return this.Cs(r,m,l,u)?X.resolve(null):(oa()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ul(r)),this.vs(e,m,r,dS(u,Xl)).next((y=>y)))}))}Ds(e,r){let l=new ze(qS(e));return r.forEach(((u,f)=>{bd(e,f)&&(l=l.add(f))})),l}Cs(e,r,l,u){if(e.limit===null)return!1;if(l.size!==r.size)return!0;const f=e.limitType==="F"?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(e,r,l){return oa()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ul(r)),this.ps.getDocumentsMatchingQuery(e,r,pr.min(),l)}vs(e,r,l,u){return this.ps.getDocumentsMatchingQuery(e,l,u).next((f=>(r.forEach((m=>{f=f.insert(m.key,m)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LocalStore";class q1{constructor(e,r,l,u){this.persistence=e,this.Fs=r,this.serializer=u,this.Ms=new en(Pt),this.xs=new ms((f=>Ad(f)),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(l)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function H1(s,e,r,l){return new q1(s,e,r,l)}async function yv(s,e){const r=Kt(s);return await r.persistence.runTransaction("Handle user change","readonly",(l=>{let u;return r.mutationQueue.getAllMutationBatches(l).next((f=>(u=f,r.Bs(e),r.mutationQueue.getAllMutationBatches(l)))).next((f=>{const m=[],y=[];let v=Ge();for(const _ of u){m.push(_.batchId);for(const w of _.mutations)v=v.add(w.key)}for(const _ of f){y.push(_.batchId);for(const w of _.mutations)v=v.add(w.key)}return r.localDocuments.getDocuments(l,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:y})))}))}))}function G1(s,e){const r=Kt(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const u=e.batch.keys(),f=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,w){const L=_.batch,H=L.keys();let W=X.resolve();return H.forEach((Y=>{W=W.next((()=>w.getEntry(v,Y))).next((st=>{const et=_.docVersions.get(Y);ae(et!==null,48541),st.version.compareTo(et)<0&&(L.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),w.addEntry(st)))}))})),W.next((()=>y.mutationQueue.removeMutationBatch(v,L)))})(r,l,e,f).next((()=>f.apply(l))).next((()=>r.mutationQueue.performConsistencyCheck(l))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(l,u,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(y){let v=Ge();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>r.localDocuments.getDocuments(l,u)))}))}function Q1(s){const e=Kt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function F1(s,e){const r=Kt(s);return r.persistence.runTransaction("Get next mutation batch","readonly",(l=>(e===void 0&&(e=yd),r.mutationQueue.getNextMutationBatchAfterBatchId(l,e))))}class Yy{constructor(){this.activeTargetIds=XS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y1{constructor(){this.Mo=new Yy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,l){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,l){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yy,Promise.resolve()}handleUserChange(e,r,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="ConnectivityMonitor";class Ky{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Xy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(Xy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function $f(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",K1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Hf?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(e,r,l,u,f){const m=$f(),y=this.zo(e,r.toUriEncodedString());rt(Mf,`Sending RPC '${e}' ${m}:`,y,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:_}=new URL(y),w=nd(_);return this.Jo(e,y,v,l,w).then((L=>(rt(Mf,`Received RPC '${e}' ${m}: `,L),L)),(L=>{throw hd(Mf,`RPC '${e}' ${m} failed with error: `,L,"url: ",y,"request:",l),L}))}Ho(e,r,l,u,f,m){return this.Go(e,r,l,u,f)}jo(e,r,l){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((u,f)=>e[f]=u)),l&&l.headers.forEach(((u,f)=>e[f]=u))}zo(e,r){const l=K1[e];return`${this.Uo}/v1/${r}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class $1 extends Z1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,l,u,f){const m=$f();return new Promise(((y,v)=>{const _=new M_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ju.NO_ERROR:const L=_.getResponseJson();rt(He,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(L)),y(L);break;case ju.TIMEOUT:rt(He,`RPC '${e}' ${m} timed out`),v(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const H=_.getStatus();if(rt(He,`RPC '${e}' ${m} failed with status:`,H,"response text:",_.getResponseText()),H>0){let W=_.getResponseJson();Array.isArray(W)&&(W=W[0]);const Y=W?.error;if(Y&&Y.status&&Y.message){const st=(function(Et){const _t=Et.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(_t)>=0?_t:Z.UNKNOWN})(Y.status);v(new ct(st,Y.message))}else v(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(He,`RPC '${e}' ${m} completed.`)}}));const w=JSON.stringify(u);rt(He,`RPC '${e}' ${m} sending request:`,u),_.send(r,"POST",w,l,15)}))}T_(e,r,l){const u=$f(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=L_(),y=x_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,r,l),v.encodeInitMessageHeaders=!0;const w=f.join("");rt(He,`Creating RPC '${e}' stream ${u}: ${w}`,v);const L=m.createWebChannel(w,v);this.I_(L);let H=!1,W=!1;const Y=new J1({Yo:et=>{W?rt(He,`Not sending because RPC '${e}' stream ${u} is closed:`,et):(H||(rt(He,`Opening RPC '${e}' stream ${u} transport.`),L.open(),H=!0),rt(He,`RPC '${e}' stream ${u} sending:`,et),L.send(et))},Zo:()=>L.close()}),st=(et,Et,_t)=>{et.listen(Et,(mt=>{try{_t(mt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return st(L,Pl.EventType.OPEN,(()=>{W||(rt(He,`RPC '${e}' stream ${u} transport opened.`),Y.o_())})),st(L,Pl.EventType.CLOSE,(()=>{W||(W=!0,rt(He,`RPC '${e}' stream ${u} transport closed`),Y.a_(),this.E_(L))})),st(L,Pl.EventType.ERROR,(et=>{W||(W=!0,hd(He,`RPC '${e}' stream ${u} transport errored. Name:`,et.name,"Message:",et.message),Y.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),st(L,Pl.EventType.MESSAGE,(et=>{if(!W){const Et=et.data[0];ae(!!Et,16349);const _t=Et,mt=_t?.error||_t[0]?.error;if(mt){rt(He,`RPC '${e}' stream ${u} received error:`,mt);const Qt=mt.status;let gt=(function(A){const R=ge[A];if(R!==void 0)return a1(R)})(Qt),Ct=mt.message;gt===void 0&&(gt=Z.INTERNAL,Ct="Unknown error status: "+Qt+" with message "+mt.message),W=!0,Y.a_(new ct(gt,Ct)),L.close()}else rt(He,`RPC '${e}' stream ${u} received:`,Et),Y.u_(Et)}})),st(y,U_.STAT_EVENT,(et=>{et.stat===jf.PROXY?rt(He,`RPC '${e}' stream ${u} detected buffering proxy`):et.stat===jf.NOPROXY&&rt(He,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){return new l1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,r,l=1e3,u=1.5,f=6e4){this.Mi=e,this.timerId=r,this.d_=l,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,r-l);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="PersistentStream";class W1{constructor(e,r,l,u,f,m,y,v){this.Mi=e,this.S_=l,this.b_=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _v(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Z.RESOURCE_EXHAUSTED?(us(r.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,u])=>{this.D_===r&&this.G_(l,u)}),(l=>{e((()=>{const u=new ct(Z.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)}))}))}G_(e,r){const l=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{l((()=>this.z_(u)))})),this.stream.onMessage((u=>{l((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(Zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(rt(Zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tb extends W1{constructor(e,r,l,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,l,u,m),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=g1(e.writeResults,e.commitTime),l=fa(e.commitTime);return this.listener.na(l,r)}ra(){const e={};e.database=f1(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((l=>m1(this.serializer,l)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{}class nb extends eb{constructor(e,r,l,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Go(e,Zf(r,l),u,f,m))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Z.UNKNOWN,f.toString())}))}Ho(e,r,l,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,y])=>this.connection.Ho(e,Zf(r,l),u,m,y,f))).catch((m=>{throw m.name==="FirebaseError"?(m.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ct(Z.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ib{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(r),this.aa=!1):rt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class rb{constructor(e,r,l,u,f){this.localStore=e,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((m=>{l.enqueueAndForget((async()=>{lo(this)&&(rt(so,"Restarting streams for network reachability change."),await(async function(v){const _=Kt(v);_.Ea.add(4),await ao(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mc(_)})(this))}))})),this.Ra=new ib(l,u)}}async function mc(s){if(lo(s))for(const e of s.da)await e(!0)}async function ao(s){for(const e of s.da)await e(!1)}function lo(s){return Kt(s).Ea.size===0}async function vv(s,e,r){if(!io(e))throw e;s.Ea.add(1),await ao(s),s.Ra.set("Offline"),r||(r=()=>Q1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(so,"Retrying IndexedDB access"),await r(),s.Ea.delete(1),await mc(s)}))}function Ev(s,e){return e().catch((r=>vv(s,r,e)))}async function gc(s){const e=Kt(s),r=_r(e);let l=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yd;for(;sb(e);)try{const u=await F1(e.localStore,l);if(u===null){e.Ta.length===0&&r.L_();break}l=u.batchId,ab(e,u)}catch(u){await vv(e,u)}Tv(e)&&Av(e)}function sb(s){return lo(s)&&s.Ta.length<10}function ab(s,e){s.Ta.push(e);const r=_r(s);r.O_()&&r.X_&&r.ea(e.mutations)}function Tv(s){return lo(s)&&!_r(s).x_()&&s.Ta.length>0}function Av(s){_r(s).start()}async function lb(s){_r(s).ra()}async function ob(s){const e=_r(s);for(const r of s.Ta)e.ea(r.mutations)}async function ub(s,e,r){const l=s.Ta.shift(),u=wd.from(l,e,r);await Ev(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await gc(s)}async function cb(s,e){e&&_r(s).X_&&await(async function(l,u){if((function(m){return s1(m)&&m!==Z.ABORTED})(u.code)){const f=l.Ta.shift();_r(l).B_(),await Ev(l,(()=>l.remoteSyncer.rejectFailedWrite(f.batchId,u))),await gc(l)}})(s,e),Tv(s)&&Av(s)}async function Jy(s,e){const r=Kt(s);r.asyncQueue.verifyOperationInProgress(),rt(so,"RemoteStore received new credentials");const l=lo(r);r.Ea.add(3),await ao(r),l&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await mc(r)}async function hb(s,e){const r=Kt(s);e?(r.Ea.delete(2),await mc(r)):e||(r.Ea.add(2),await ao(r),r.Ra.set("Unknown"))}function _r(s){return s.fa||(s.fa=(function(r,l,u){const f=Kt(r);return f.sa(),new tb(l,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:lb.bind(null,s),r_:cb.bind(null,s),ta:ob.bind(null,s),na:ub.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await gc(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(so,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,r,l,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=l,this.op=u,this.removalCallback=f,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,l,u,f){const m=Date.now()+l,y=new Id(e,r,m,u,f);return y.start(l),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(s,e){if(us("AsyncQueue",`${e}: ${s}`),io(s))return new ct(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class fb{constructor(){this.queries=$y(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,l){const u=Kt(r),f=u.queries;u.queries=$y(),f.forEach(((m,y)=>{for(const v of y.Sa)v.onError(l)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function $y(){return new ms((s=>ev(s)),tv)}function mb(s){s.Ca.forEach((e=>{e.next()}))}var Wy,t_;(t_=Wy||(Wy={})).Ma="default",t_.Cache="cache";const gb="SyncEngine";class pb{constructor(e,r,l,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=l,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new ms((y=>ev(y)),tv),this.Iu=new Map,this.Eu=new Set,this.du=new en(vt.comparator),this.Au=new Map,this.Ru=new Cd,this.Vu={},this.mu=new Map,this.fu=Ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yb(s,e,r){const l=Tb(s);try{const u=await(function(m,y){const v=Kt(m),_=te.now(),w=y.reduce(((W,Y)=>W.add(Y.key)),Ge());let L,H;return v.persistence.runTransaction("Locally write mutations","readwrite",(W=>{let Y=nc(),st=Ge();return v.Ns.getEntries(W,w).next((et=>{Y=et,Y.forEach(((Et,_t)=>{_t.isValidDocument()||(st=st.add(Et))}))})).next((()=>v.localDocuments.getOverlayedDocuments(W,Y))).next((et=>{L=et;const Et=[];for(const _t of y){const mt=e1(_t,L.get(_t.key).overlayedDocument);mt!=null&&Et.push(new gs(_t.key,mt,Y_(mt.value.mapValue),Mi.exists(!0)))}return v.mutationQueue.addMutationBatch(W,_,Et,y)})).next((et=>{H=et;const Et=et.applyToLocalDocumentSet(L,st);return v.documentOverlayCache.saveOverlays(W,et.batchId,Et)}))})).then((()=>({batchId:H.batchId,changes:iv(L)})))})(l.localStore,e);l.sharedClientState.addPendingMutation(u.batchId),(function(m,y,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new en(Pt)),_=_.insert(y,v),m.Vu[m.currentUser.toKey()]=_})(l,u.batchId,r),await pc(l,u.changes),await gc(l.remoteStore)}catch(u){const f=Sv(u,"Failed to persist write");r.reject(f)}}function e_(s,e,r){const l=Kt(s);if(l.isPrimaryClient&&r===0||!l.isPrimaryClient&&r===1){const u=[];l.Tu.forEach(((f,m)=>{const y=m.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(m,y){const v=Kt(m);v.onlineState=y;let _=!1;v.queries.forEach(((w,L)=>{for(const H of L.Sa)H.va(y)&&(_=!0)})),_&&mb(v)})(l.eventManager,e),u.length&&l.Pu.H_(u),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}async function _b(s,e){const r=Kt(s),l=e.batch.batchId;try{const u=await G1(r.localStore,e);Rv(r,l,null),bv(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),await pc(r,u)}catch(u){await gd(u)}}async function vb(s,e,r){const l=Kt(s);try{const u=await(function(m,y){const v=Kt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return v.mutationQueue.lookupMutationBatch(_,y).next((L=>(ae(L!==null,37113),w=L.keys(),v.mutationQueue.removeMutationBatch(_,L)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>v.localDocuments.getDocuments(_,w)))}))})(l.localStore,e);Rv(l,e,r),bv(l,e),l.sharedClientState.updateMutationState(e,"rejected",r),await pc(l,u)}catch(u){await gd(u)}}function bv(s,e){(s.mu.get(e)||[]).forEach((r=>{r.resolve()})),s.mu.delete(e)}function Rv(s,e,r){const l=Kt(s);let u=l.Vu[l.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),l.Vu[l.currentUser.toKey()]=u}}async function pc(s,e,r){const l=Kt(s),u=[],f=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach(((y,v)=>{m.push(l.pu(v,e,r).then((_=>{if((_||r)&&l.isPrimaryClient){const w=_?!_.fromCache:r?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(_){u.push(_);const w=Nd.As(v.targetId,_);f.push(w)}})))})),await Promise.all(m),l.Pu.H_(u),await(async function(v,_){const w=Kt(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>X.forEach(_,(H=>X.forEach(H.Es,(W=>w.persistence.referenceDelegate.addReference(L,H.targetId,W))).next((()=>X.forEach(H.ds,(W=>w.persistence.referenceDelegate.removeReference(L,H.targetId,W)))))))))}catch(L){if(!io(L))throw L;rt(j1,"Failed to update sequence numbers: "+L)}for(const L of _){const H=L.targetId;if(!L.fromCache){const W=w.Ms.get(H),Y=W.snapshotVersion,st=W.withLastLimboFreeSnapshotVersion(Y);w.Ms=w.Ms.insert(H,st)}}})(l.localStore,f))}async function Eb(s,e){const r=Kt(s);if(!r.currentUser.isEqual(e)){rt(gb,"User change. New user:",e.toKey());const l=await yv(r.localStore,e);r.currentUser=e,(function(f,m){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new ct(Z.CANCELLED,m))}))})),f.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),await pc(r,l.Ls)}}function Tb(s){const e=Kt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vb.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return H1(this.persistence,new B1,e.initialUser,this.serializer)}Cu(e){return new pv(Dd.mi,this.serializer)}Du(e){return new Y1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class Ab extends ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ae(this.persistence.referenceDelegate instanceof sc,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new R1(l,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new pv((l=>sc.mi(l,r)),this.serializer)}}class Wf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>e_(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eb.bind(null,this.syncEngine),await hb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fb})()}createDatastore(e){const r=dc(e.databaseInfo.databaseId),l=(function(f){return new $1(f)})(e.databaseInfo);return(function(f,m,y,v){return new nb(f,m,y,v)})(e.authCredentials,e.appCheckCredentials,l,r)}createRemoteStore(e){return(function(l,u,f,m,y){return new rb(l,u,f,m,y)})(this.localStore,this.datastore,e.asyncQueue,(r=>e_(this.syncEngine,r,0)),(function(){return Ky.v()?new Ky:new X1})())}createSyncEngine(e,r){return(function(u,f,m,y,v,_,w){const L=new pb(u,f,m,y,v,_);return w&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const l=Kt(r);rt(so,"RemoteStore shutting down."),l.Ea.add(5),await ao(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class Sb{constructor(e,r,l,u,f){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=l,this.databaseInfo=u,this.user=We.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(l,(async m=>{rt(vr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(l,(m=>(rt(vr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const l=Sv(r,"Failed to shutdown persistence");e.reject(l)}})),e.promise}}async function Uf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(vr,"Initializing OfflineComponentProvider");const r=s.configuration;await e.initialize(r);let l=r.initialUser;s.setCredentialChangeListener((async u=>{l.isEqual(u)||(await yv(e.localStore,u),l=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function n_(s,e){s.asyncQueue.verifyOperationInProgress();const r=await bb(s);rt(vr,"Initializing OnlineComponentProvider"),await e.initialize(r,s.configuration),s.setCredentialChangeListener((l=>Jy(e.remoteStore,l))),s.setAppCheckTokenChangeListener(((l,u)=>Jy(e.remoteStore,u))),s._onlineComponents=e}async function bb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(vr,"Using user provided OfflineComponentProvider");try{await Uf(s,s._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(r))throw r;hd("Error using user provided cache. Falling back to memory cache: "+r),await Uf(s,new ac)}}else rt(vr,"Using default OfflineComponentProvider"),await Uf(s,new Ab(void 0));return s._offlineComponents}async function Rb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(vr,"Using user provided OnlineComponentProvider"),await n_(s,s._uninitializedComponentsProvider._online)):(rt(vr,"Using default OnlineComponentProvider"),await n_(s,new Wf))),s._onlineComponents}function wb(s){return Rb(s).then((e=>e.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",r_=!0;class s_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=r_}else this.host=e.host,this.ssl=e.ssl??r_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S1)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wv(e.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(l,u){return l.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cv{constructor(e,r,l,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new nS;switch(l.type){case"firstParty":return new sS(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const l=i_.get(r);l&&(rt("ComponentProvider","Removing Datastore"),i_.delete(r),l.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Od(this.firestore,e,this._query)}}class Qe{constructor(e,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,l){if(no(r,Qe._jsonSchema))return new Qe(e,l||null,new vt(ce.fromString(r.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:pe("string",Qe._jsonSchemaVersion),referencePath:pe("string")};class $l extends Od{constructor(e,r,l){super(e,r,zS(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new vt(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function Db(s,e,...r){if(s=ni(s),arguments.length===1&&(e=dd.newId()),hS("doc","path",e),s instanceof Cv){const l=ce.fromString(e,...r);return wy(l),new Qe(s,null,new vt(l))}{if(!(s instanceof Qe||s instanceof $l))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ce.fromString(e,...r));return wy(l),new Qe(s.firestore,s instanceof $l?s.converter:null,new vt(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="AsyncQueue";class l_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _v(this,"async_queue_retry"),this._c=()=>{const l=Vf();l&&rt(a_,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=e;const r=Vf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Vf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;rt(a_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((l=>{throw this.nc=l,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",o_(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=r,r}enqueueAfterDelay(e,r,l){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const u=Id.createAndSchedule(this,e,r,l,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&At(47125,{Pc:o_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,l)=>r.targetTimeMs-l.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function o_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Dv extends Cv{constructor(e,r,l,u){super(e,r,l,u),this.type="firestore",this._queue=new l_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function Nb(s){if(s._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ib(s),s._firestoreClient}function Ib(s){const e=s._freezeSettings(),r=(function(u,f,m,y){return new bS(u,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,wv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Sb(s._authCredentials,s._appCheckCredentials,s._queue,r,s._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(ii.fromBase64String(e))}catch(r){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Vn(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(no(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:pe("string",Vn._jsonSchemaVersion),bytes:pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(no(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:pe("string",Vi._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(l,u){if(l.length!==u.length)return!1;for(let f=0;f<l.length;++f)if(l[f]!==u[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(no(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Ui(e.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:pe("string",Ui._jsonSchemaVersion),vectorValues:pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=/^__.*__$/;class Mb{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,r,this.fieldTransforms):new ro(e,this.data,r,this.fieldTransforms)}}function Iv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:s})}}class Vd{constructor(e,r,l,u,f,m){this.settings=e,this.databaseId=r,this.serializer=l,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),l=this.Vc({path:r,fc:!1});return l.gc(e),l}yc(e){const r=this.path?.child(e),l=this.Vc({path:r,fc:!1});return l.Rc(),l}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Iv(this.Ac)&&Ob.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vb{constructor(e,r,l){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=l||dc(e)}Cc(e,r,l,u=!1){return new Vd({Ac:e,methodName:r,Dc:l,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(s){const e=s._freezeSettings(),r=dc(s._databaseId);return new Vb(s._databaseId,!!e.ignoreUndefinedProperties,r)}function xb(s,e,r,l,u,f={}){const m=s.Cc(f.merge||f.mergeFields?2:0,e,r,u);Uv("Data must be an object, but it was:",m,l);const y=Mv(l,m);let v,_;if(f.merge)v=new xn(m.fieldMask),_=m.fieldTransforms;else if(f.mergeFields){const w=[];for(const L of f.mergeFields){const H=Lb(e,L,r);if(!m.contains(H))throw new ct(Z.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);kb(w,H)||w.push(H)}v=new xn(w),_=m.fieldTransforms.filter((L=>v.covers(L.field)))}else v=null,_=m.fieldTransforms;return new Mb(new Mn(y),v,_)}function Ov(s,e){if(Vv(s=ni(s)))return Uv("Unsupported field value:",e,s),Mv(s,e);if(s instanceof Nv)return(function(l,u){if(!Iv(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const f=l._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(l,u){const f=[];let m=0;for(const y of l){let v=Ov(y,u.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),m++}return{arrayValue:{values:f}}})(s,e)}return(function(l,u){if((l=ni(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return KS(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const f=te.fromDate(l);return{timestampValue:Kf(u.serializer,f)}}if(l instanceof te){const f=new te(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Kf(u.serializer,f)}}if(l instanceof Vi)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Vn)return{bytesValue:o1(u.serializer,l._byteString)};if(l instanceof Qe){const f=u.databaseId,m=l.firestore._databaseId;if(!m.isEqual(f))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:dv(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof Ui)return(function(m,y){return{mapValue:{fields:{[Q_]:{stringValue:F_},[Gf]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Rd(y.serializer,_)}))}}}}}})(l,u);throw u.Sc(`Unsupported field value: ${md(l)}`)})(s,e)}function Mv(s,e){const r={};return B_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(s,((l,u)=>{const f=Ov(u,e.mc(l));f!=null&&(r[l]=f)})),{mapValue:{fields:r}}}function Vv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof Vi||s instanceof Vn||s instanceof Qe||s instanceof Nv||s instanceof Ui)}function Uv(s,e,r){if(!Vv(r)||!k_(r)){const l=md(r);throw l==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+l)}}function Lb(s,e,r){if((e=ni(e))instanceof Md)return e._internalPath;if(typeof e=="string")return xv(s,e);throw lc("Field path arguments must be of type string or ",s,!1,void 0,r)}const Pb=new RegExp("[~\\*/\\[\\]]");function xv(s,e,r){if(e.search(Pb)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Md(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function lc(s,e,r,l,u){const f=l&&!l.isEmpty(),m=u!==void 0;let y=`Function ${e}() called with invalid data`;r&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||m)&&(v+=" (found",f&&(v+=` in field ${l}`),m&&(v+=` in document ${u}`),v+=")"),new ct(Z.INVALID_ARGUMENT,y+s+v)}function kb(s,e){return s.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,r,l,u,f){this._firestore=e,this._userDataWriter=r,this._key=l,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class zb extends Lv{data(){return super.data()}}function Pv(s,e){return typeof e=="string"?xv(s,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s,e,r){let l;return l=s?s.toFirestore(e):e,l}class zu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends Lv{constructor(e,r,l,u,f,m){super(e,r,l,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const l=this._document.data.field(Pv("DocumentSnapshot.get",e));if(l!==null)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=da._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:pe("string",da._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class Qu extends da{data(e={}){return super.data(e)}}class Hl{constructor(e,r,l,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new zu(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((l=>{e.call(r,new Qu(this._firestore,this._userDataWriter,l.key,l,new zu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map((y=>{const v=new Qu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new zu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new Qu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new zu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,w=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),w=m.indexOf(y.doc.key)),{type:jb(y.type),doc:v,oldIndex:_,newIndex:w}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],l=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(r.push(f._document),l.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:s})}}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:pe("string",Hl._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};function qb(s,e,r){s=Cy(s,Qe);const l=Cy(s.firestore,Dv),u=Bb(s.converter,e);return Hb(l,[xb(Ub(l),"setDoc",s._key,u,s.converter!==null,r).toMutation(s._key,Mi.none())])}function Hb(s,e){return(function(l,u){const f=new as;return l.asyncQueue.enqueueAndForget((async()=>yb(await wb(l),u,f))),f.promise})(Nb(s),e)}(function(e,r=!0){(function(u){Aa=u})(oc),ga(new ma("firestore",((l,{instanceIdentifier:u,options:f})=>{const m=l.getProvider("app").getImmediate(),y=new Dv(new iS(l.getProvider("auth-internal")),new aS(m,l.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(_.options.projectId,w)})(m,u),m);return f={useFetchStreams:r,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),gr(Ay,Sy,e),gr(Ay,Sy,"esm2020")})();function dr({children:s,className:e="",variant:r="solid",...l}){const u="px-4 py-2 rounded-2xl text-sm font-semibold transition shadow-sm focus:outline-none focus:ring disabled:opacity-50",f={solid:"bg-black text-white hover:opacity-90",soft:"bg-gray-100 hover:bg-gray-200",ghost:"hover:bg-gray-100"};return ot.jsx("button",{className:`${u} ${f[r]} ${e}`,...l,children:s})}function Gb({value:s}){return ot.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:ot.jsx("div",{className:"h-full bg-black",style:{width:`${Math.min(100,Math.max(0,s))}%`}})})}function td(s){if(!s||Number.isNaN(s))return"0:00";const e=Math.floor(s/60),r=Math.floor(s%60).toString().padStart(2,"0");return`${e}:${r}`}function Qb({src:s,onPlay:e}){const r=se.useRef(null),[l,u]=se.useState(!1),[f,m]=se.useState(0),[y,v]=se.useState(0),[_,w]=se.useState(1),L=[.25,.5,.75,1,2,4,5,10];se.useEffect(()=>{const Y=r.current;if(!Y)return;const st=()=>m(Y.currentTime),et=()=>v(isFinite(Y.duration)?Y.duration:0),Et=()=>u(!1);return Y.addEventListener("timeupdate",st),Y.addEventListener("loadedmetadata",et),Y.addEventListener("ended",Et),()=>{Y.removeEventListener("timeupdate",st),Y.removeEventListener("loadedmetadata",et),Y.removeEventListener("ended",Et)}},[s]),se.useEffect(()=>{r.current&&(r.current.playbackRate=_)},[_]),se.useEffect(()=>{const Y=r.current;Y&&(l?(Y.play().catch(()=>u(!1)),e&&e()):Y.pause())},[l]),se.useEffect(()=>{u(!1),m(0),v(0)},[s]);const H=()=>u(Y=>!Y),W=Y=>{r.current&&(r.current.currentTime=Y,m(Y))};return ot.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow flex flex-col gap-2",children:[ot.jsx("audio",{ref:r,src:s,preload:"metadata",className:"hidden"}),ot.jsxs("div",{className:"flex items-center gap-3",children:[ot.jsx("button",{onClick:H,"aria-label":l?"Pause":"Play",className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center shadow hover:scale-105 transition",children:l?"❚❚":"➤"}),ot.jsx("div",{className:"flex-1",children:ot.jsxs("div",{className:"flex items-center gap-2",children:[ot.jsx("span",{className:"text-xs text-gray-600 w-12 text-left",children:td(f)}),ot.jsx("input",{type:"range",min:0,max:y||0,step:"0.1",value:Math.min(f,y||0),onChange:Y=>W(Number(Y.target.value)),className:"flex-1 h-1 bg-gray-200 rounded-lg accent-black"}),ot.jsx("span",{className:"text-xs text-gray-600 w-12 text-right",children:td(y)})]})})]}),ot.jsxs("div",{className:"flex justify-end items-center gap-2",children:[ot.jsx("label",{className:"text-xs text-gray-500",children:"Speed"}),ot.jsx("select",{value:_,onChange:Y=>w(Number(Y.target.value)),className:"border rounded px-2 py-1 text-sm",children:L.map(Y=>ot.jsxs("option",{value:Y,children:[Y,"×"]},Y))})]})]})}const Fb=[{id:"q1",title:"Urban parks audio clip",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",timeLimitSec:90,tokens:["City parks provide vital ",{blank:0}," for residents, offering spaces for ",{blank:1},", relaxation, and community events."],blanks:["amenities","exercise"]}];function Yb(){const[s,e]=se.useState([]),[r,l]=se.useState(!0),[u,f]=se.useState(0),[m,y]=se.useState({}),[v,_]=se.useState(0),[w,L]=se.useState(!1),[H,W]=se.useState(null),[Y,st]=se.useState(""),[et,Et]=se.useState(""),[_t,mt]=se.useState(null),[Qt,gt]=se.useState(0),Ct=s[u]||{tokens:[],blanks:[],title:"",audioUrl:""},O=Ct.blanks.length;se.useEffect(()=>{(async()=>{try{const nt=await fetch("questions.json");if(!nt.ok)throw new Error("HTTP "+nt.status);const pt=await nt.json();e(pt)}catch(nt){console.error("Failed to load questions.json, using sample:",nt),e(Fb)}finally{l(!1)}})()},[]);function A(Q){return m[Q]&&m[Q].trim().toLowerCase()===Ct.blanks[Q].trim().toLowerCase()}async function R(){let Q=0;for(let pt=0;pt<O;pt++)A(pt)&&Q++;_(Q),L(!0);const nt=_t?Math.floor((Date.now()-_t)/1e3):0;if(H){const pt=Db(db,"results",`${H.uid}_${Ct.id}`);await qb(pt,{userId:H.uid,questionId:Ct.id,score:Q,timeTaken:nt,answers:m,createdAt:Date.now()}),alert("Result saved!")}gt(nt)}function N(){const Q={};Ct.blanks.forEach((nt,pt)=>Q[pt]=nt),y(Q),L(!0)}function I(){y({}),L(!1),_(0),gt(0),mt(null)}function V(){f(Q=>Math.min(s.length-1,Q+1)),I()}function b(){f(Q=>Math.max(0,Q-1)),I()}async function ye(){try{const Q=await YA(auth,Y,et);W(Q.user)}catch(Q){alert(Q.message)}}async function Zt(){try{const Q=await XA(auth,Y,et);W(Q.user)}catch(Q){alert(Q.message)}}async function j(){await KA(auth),W(null)}return r?ot.jsx("div",{children:"Loading questions..."}):ot.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-gray-100 text-gray-900",children:ot.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[H?ot.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[ot.jsxs("p",{children:["Welcome, ",H.email]}),ot.jsx(dr,{variant:"ghost",onClick:j,children:"Logout"})]}):ot.jsxs("div",{className:"mb-6 flex gap-2",children:[ot.jsx("input",{type:"email",placeholder:"Email",value:Y,onChange:Q=>st(Q.target.value),className:"border px-2 py-1 rounded"}),ot.jsx("input",{type:"password",placeholder:"Password",value:et,onChange:Q=>Et(Q.target.value),className:"border px-2 py-1 rounded"}),ot.jsx(dr,{onClick:Zt,children:"Login"}),ot.jsx(dr,{variant:"soft",onClick:ye,children:"Signup"})]}),ot.jsxs("header",{className:"flex items-center justify-between gap-4 mb-6",children:[ot.jsxs("div",{children:[ot.jsx("h1",{className:"text-2xl font-bold",children:"Listening: Fill in the Blanks"}),ot.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",u+1," of ",s.length]})]}),ot.jsx("div",{className:"w-48",children:ot.jsx(Gb,{value:(u+1)/s.length*100})})]}),ot.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 md:p-6",children:[ot.jsx("h2",{className:"text-lg font-semibold",children:Ct.title}),ot.jsx("div",{className:"my-4",children:ot.jsx(Qb,{src:Ct.audioUrl,onPlay:()=>!_t&&mt(Date.now())})}),ot.jsx("div",{className:"mt-4 leading-8 text-[1.05rem]",children:Ct.tokens.map((Q,nt)=>typeof Q=="string"?ot.jsx("span",{children:Q},nt):ot.jsx(Xb,{index:Q.blank,value:m[Q.blank]||"",correct:w?A(Q.blank):null,onChange:pt=>y(C=>({...C,[Q.blank]:pt}))},nt))}),ot.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[ot.jsx(dr,{onClick:R,disabled:w,children:"Check answers"}),ot.jsx(dr,{variant:"soft",onClick:N,children:"Show answers"}),ot.jsx(dr,{variant:"ghost",onClick:I,children:"Reset"}),ot.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Score: ",w?`${v}/${O}`:"—"]})]}),w&&ot.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Time taken: ",td(Qt)]})]}),ot.jsxs("section",{className:"flex items-center justify-between mt-6",children:[ot.jsx(dr,{variant:"soft",onClick:b,disabled:u===0,children:"Previous"}),ot.jsx(dr,{variant:"solid",onClick:V,disabled:u===s.length-1,children:"Next"})]})]})})}function Xb({value:s,correct:e,onChange:r}){return ot.jsx("input",{type:"text",value:s,onChange:l=>r(l.target.value),className:`mx-1 px-2 py-1 border-b focus:outline-none focus:border-black ${e==null?"border-gray-400":e?"border-green-500 text-green-700":"border-red-500 text-red-700"}`,placeholder:"..."})}const Kb=v0.createRoot(document.getElementById("root"));Kb.render(ot.jsx(h0.StrictMode,{children:ot.jsx(Yb,{})}));
